<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <title>Beyonic API Reference</title>

    <link href="stylesheets/screen.css" rel="stylesheet" type="text/css" media="screen" />
    <link href="stylesheets/print.css" rel="stylesheet" type="text/css" media="print" />
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
      <script src="javascripts/all.js" type="text/javascript"></script>

      <script>
        $(function() {
          setupLanguages(["shell","php","ruby","python","java"]);
        });
      </script>
    <script>
    	(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    	(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o), 
    	m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    	})(window,document,'script','//www.google-analytics.com/analytics.js','ga');
    	
    	ga('create', 'UA-11086135-5', 'auto');
    	ga('send', 'pageview');
    	
    	//This does hash-click tracking (inspired by http://stackoverflow.com/a/4813223)
		$(document).ready(function() {
		  $('.tocify-item a').on('click', function(){
		    ga('send', 'pageview', {'page': location.pathname + location.search  + location.hash});
		  });
		});
	</script>
  </head>

  <body class="index">
    <a href="#" id="nav-button">
      <span>
        NAV
        <img src="images/navbar.png" />
      </span>
    </a>
    <div class="tocify-wrapper">
      <img src="images/logo.png" />
        <div class="lang-selector">
              <a href="#" data-language-name="shell">CURL</a>
              <a href="#" data-language-name="php">PHP</a>
              <a href="#" data-language-name="ruby">RUBY</a>
              <a href="#" data-language-name="python">PYTHON</a>
              <a href="#" data-language-name="java">JAVA</a>
        </div>
        <div class="search">
          <input type="text" class="search" id="input-search" placeholder="Search">
        </div>
        <ul class="search-results"></ul>
      <div id="toc">
      </div>
        <ul class="toc-footer">
            <li><a href='http://support.beyonic.com'>Beyonic Support & User Guides</a></li>
            <li><a href='http://beyonic.com'>Beyonic.com</a></li>
            <li><a href='mailto:support@beyonic.com?subject="Error in your docs!"'>Found an error?</a></li>
        </ul>
    </div>
    <div class="page-wrapper">
      <div class="dark-box"></div>
      <div class="content">
        <h1 id="introduction">Introduction</h1>

<blockquote>
<p>Scroll down for examples.</p>
</blockquote>

<p>Welcome to Beyonic&rsquo;s API documentation.</p>

<p>The Beyonic API is <a href="http://en.wikipedia.org/wiki/Representational_state_transfer">REST</a> based. We provide libraries for several languages, including PHP, Java, Ruby and Python. You can view code examples in the dark area to the right, and you can switch the programming language of the examples with the tabs in the top right.</p>

<p>All responses shall be returned using <a href="http://www.json.org/">JSON</a>, however, if you are using the language libraries, the JSON responses will be converted into native, language specific objects.</p>

<h1 id="quick-start">Quick Start</h1>

<p>Can&rsquo;t wait to dive in? Follow the 6 steps below to get started.</p>

<ol>
<li><a href="https://app.beyonic.com/signup/">Sign Up</a> for a Beyonic account.</li>
<li><a href="https://app.beyonic.com/">Login</a> and get your API Token by clicking the user icon on the top left corner, and selecting &lsquo;Profile&rsquo; from the dropdown menu. The API Token is shown at the bottom of the page.</li>
<li>Download the appropriate client library from links in the &ldquo;Libraries&rdquo; section of this reference.</li>
<li>Using your API token and the library, connect to the API endpoint: https://app.beyonic.com/api</li>
<li>Identify the methods you need to use. See the &ldquo;Methods&rdquo; section of this reference.</li>
<li>Profit!</li>
</ol>

          <h1 id="libraries">Libraries</h1>

<p>Here are links to the various client libraries &amp; specific installation instructions:</p>

<ul>
<li>PHP - <a href="https://github.com/beyonic/beyonic-php">https://github.com/beyonic/beyonic-php</a></li>
<li>Ruby - <a href="https://github.com/beyonic/beyonic-ruby">https://github.com/beyonic/beyonic-ruby</a></li>
<li>Python - <a href="https://github.com/beyonic/beyonic-python">https://github.com/beyonic/beyonic-python</a></li>
<li>Zapier - Beyonic provides zapier triggers and actions in &ldquo;Invite Only&rdquo; mode. Please contact us if you would like to use Zapier with Beyonic&rsquo;s API.</li>
<li>Java - We don&rsquo;t currently offer an official Java client. However, we have provided Java code examples on the &lsquo;Java&rsquo; tab to get you started.</li>
</ul>

          <h1 id="api-endpoint">API Endpoint</h1>

<p>You access Beyonic’s API at the following endpoint:
    <aside class="notice">https://app.beyonic.com/api</aside></p>

<p>This endpoint uses your saved API version (see below). If you’d like to make sure that your application always accesses the same version, you can specify a specific version as shown in the versioning section.</p>

<h1 id="versioning">Versioning</h1>

<blockquote>
<p>Example Request:</p>
</blockquote>
<pre class="highlight shell"><code>curl -H <span class="s2">"Beyonic-Version: v1"</span> https://app.beyonic.com/api
</code></pre>
<pre class="highlight ruby"><code><span class="nb">require</span> <span class="s1">'beyonic'</span>
<span class="no">Beyonic</span><span class="p">.</span><span class="nf">api_version</span> <span class="o">=</span> <span class="s1">'v1'</span>
</code></pre>
<pre class="highlight php"><code><span class="cp">&lt;?php</span>
<span class="k">require_once</span><span class="p">(</span><span class="s1">'./lib/Beyonic.php'</span><span class="p">);</span>
<span class="nx">Beyonic</span><span class="o">::</span><span class="na">setApiVersion</span><span class="p">(</span><span class="s2">"v1"</span><span class="p">);</span>
<span class="cp">?&gt;</span>
</code></pre>
<pre class="highlight python"><code><span class="kn">import</span> <span class="nn">beyonic</span>
<span class="n">beyonic</span><span class="o">.</span><span class="n">api_version</span> <span class="o">=</span> <span class="s">'v1'</span>
</code></pre>

<p>New API versions are released only when we make backward incompatible changes to the API. We define these as changes that will prevent our official clients from working on old versions. Some changes DO NOT result in a new version, including: Adding new API methods, adding optional parameters to existing API methods or adding new fields to responses.</p>

<p>You don&rsquo;t need to specify a version in your request. The first time an API request is made for your organization, the version is saved, and will be used on subsequent API requests unless it is changed in the organization settings, or overridden as below. This allows your client applications to continue working even if newer API versions are released.</p>

<p>You can temporarily override the API version for a specific request in 2 ways:</p>

<ul>
<li>Use version specific URLS like: https://app.beyonic.com/api/v1</li>
<li>Include the Beyonic-Version header in your request as shown in the examples to the right.</li>
</ul>

<p>The various API libraries provide methods for changing the version, as shown in the examples to the right.</p>

<p>Note that this doesn&rsquo;t change your organization&rsquo;s default API version, which was saved in your organizations settings the first time you interacted with the Beyonic API. To change your default API version, log into the web portal and go to &ldquo;Company Settings&rdquo; &gt; Settings (Cogwheel) &gt; Manage General Settings.</p>

          <h1 id="authentication">Authentication</h1>

<blockquote>
<p>Example Request:</p>
</blockquote>
<pre class="highlight shell"><code>curl https://app.beyonic.com/api -H <span class="s2">"Authorization: Token ab594c14986612f6167a975e1c369e71edab6900"</span>
</code></pre>
<pre class="highlight ruby"><code><span class="nb">require</span> <span class="s1">'beyonic'</span>
<span class="no">Beyonic</span><span class="p">.</span><span class="nf">api_key</span> <span class="o">=</span> <span class="s1">'ab594c14986612f6167a975e1c369e71edab6900'</span>
</code></pre>
<pre class="highlight php"><code><span class="cp">&lt;?php</span>
<span class="k">require_once</span><span class="p">(</span><span class="s1">'./lib/Beyonic.php'</span><span class="p">);</span>
<span class="nx">Beyonic</span><span class="o">::</span><span class="na">setApiKey</span><span class="p">(</span><span class="s1">'ab594c14986612f6167a975e1c369e71edab6900'</span><span class="p">);</span>
<span class="cp">?&gt;</span>
</code></pre>
<pre class="highlight python"><code><span class="kn">import</span> <span class="nn">beyonic</span>
<span class="n">beyonic</span><span class="o">.</span><span class="n">api_key</span> <span class="o">=</span> <span class="s">'ab594c14986612f6167a975e1c369e71edab6900'</span>
</code></pre>

<p>All requests must use <a href="http://en.wikipedia.org/wiki/HTTP_Secure">https</a>.</p>

<p>The Beyonic API uses Token Based Authentication, and requires an API key for authentication. You can generate or change your API key by logging into your account. Keep your API key secret to maintain the integrity of your account.</p>

<p>You must supply your API key with all API requests using the “Authorization” header as shown in the examples. You should inculde your API key with all requests.</p>

<p>The API key in all the examples is a valid test key, so you can test the examples immediately.</p>

          <h1 id="pagination">Pagination</h1>

<blockquote>
<p>Pagination Example Request:</p>
</blockquote>
<pre class="highlight shell"><code>curl https://app.beyonic.com/api/v2/contacts?limit<span class="o">=</span>10&amp;offset<span class="o">=</span>5 -H <span class="s2">"Authorization: Token ab594c14986612f6167a975e1c369e71edab6900"</span>
</code></pre>
<pre class="highlight ruby"><code><span class="nb">require</span> <span class="s1">'beyonic'</span>
<span class="no">Beyonic</span><span class="p">.</span><span class="nf">api_vesion</span> <span class="o">=</span> <span class="s1">'v2'</span>
<span class="no">Beyonic</span><span class="p">.</span><span class="nf">api_key</span> <span class="o">=</span> <span class="s1">'ab594c14986612f6167a975e1c369e71edab6900'</span>

<span class="n">contacts</span> <span class="o">=</span> <span class="no">Beyonic</span><span class="o">::</span><span class="no">Contact</span><span class="p">.</span><span class="nf">list</span><span class="p">(</span>
  <span class="ss">limit: </span><span class="mi">10</span><span class="p">,</span>
  <span class="ss">offset: </span><span class="mi">5</span>
<span class="p">)</span>
</code></pre>
<pre class="highlight php"><code><span class="cp">&lt;?php</span>
<span class="k">require_once</span><span class="p">(</span><span class="s1">'./lib/Beyonic.php'</span><span class="p">);</span>
<span class="nx">Beyonic</span><span class="o">::</span><span class="na">setApiVersion</span><span class="p">(</span><span class="s2">"v2"</span><span class="p">);</span>
<span class="nx">Beyonic</span><span class="o">::</span><span class="na">setApiKey</span><span class="p">(</span><span class="s2">"ab594c14986612f6167a975e1c369e71edab6900"</span><span class="p">);</span>

<span class="nv">$contacts</span> <span class="o">=</span> <span class="nx">Beyonic_Contact</span><span class="o">::</span><span class="na">getAll</span><span class="p">(</span><span class="k">array</span><span class="p">(</span>
  <span class="s2">"limit"</span> <span class="o">=&gt;</span> <span class="s2">"10"</span><span class="p">,</span>
  <span class="s2">"offset"</span> <span class="o">=&gt;</span> <span class="s2">"5"</span>
<span class="p">));</span>
<span class="cp">?&gt;</span>
</code></pre>
<pre class="highlight python"><code><span class="kn">import</span> <span class="nn">beyonic</span>
<span class="n">beyonic</span><span class="o">.</span><span class="n">api_version</span> <span class="o">=</span> <span class="s">'v2'</span>
<span class="n">beyonic</span><span class="o">.</span><span class="n">api_key</span> <span class="o">=</span> <span class="s">'ab594c14986612f6167a975e1c369e71edab6900'</span>

<span class="n">contacts</span> <span class="o">=</span> <span class="n">beyonic</span><span class="o">.</span><span class="n">Contact</span><span class="o">.</span><span class="nb">list</span><span class="p">(</span><span class="n">limit</span><span class="o">=</span><span class="s">'10'</span><span class="p">,</span>
                                  <span class="n">offset</span><span class="o">=</span><span class="s">'5'</span><span class="p">)</span>


</code></pre>

<p>Most Beyonic API methods support a way to retrieve a list of records. For example, you can retrieve a list of contacts.</p>

<p>When retrieving a list, you can control the number of records returned by adding two parameters to your request:</p>

<ul>
<li><strong><em>limit</em></strong>: This limits the number of records returned per page. If omitted, only 10 records are returned per page</li>
<li><strong><em>offset</em></strong>: This tells the Beyonic API where to start getting </li>
</ul>

<p>The API response body shall include the following parameters:</p>

<ul>
<li><strong><em>count</em></strong>: The total number of records available (not just on the returned page)</li>
<li><strong><em>next</em></strong>: A link to the next page of records. If there is no next page, this shall be equal to <em>null</em></li>
<li><strong><em>previous</em></strong>: A link to the previous page of records. If there is no previous page, this shall be equal to <em>null</em></li>
<li><strong><em>results</em></strong>: This will contain the list of records for the current page</li>
</ul>

          <h1 id="ordering-results">Ordering Results</h1>

<blockquote>
<p>Ordering Example:</p>
</blockquote>
<pre class="highlight shell"><code>curl https://app.beyonic.com/api/contacts?ordering<span class="o">=</span>-created -H <span class="s2">"Authorization: Token ab594c14986612f6167a975e1c369e71edab6900"</span>
</code></pre>
<pre class="highlight ruby"><code><span class="nb">require</span> <span class="s1">'beyonic'</span>
<span class="no">Beyonic</span><span class="p">.</span><span class="nf">api_key</span> <span class="o">=</span> <span class="s1">'ab594c14986612f6167a975e1c369e71edab6900'</span>

<span class="n">contacts</span> <span class="o">=</span> <span class="no">Beyonic</span><span class="o">::</span><span class="no">Contact</span><span class="p">.</span><span class="nf">list</span><span class="p">(</span>
  <span class="ss">ordering: </span><span class="s1">'-created'</span>
<span class="p">)</span>
</code></pre>
<pre class="highlight php"><code><span class="cp">&lt;?php</span>
<span class="k">require_once</span><span class="p">(</span><span class="s1">'./lib/Beyonic.php'</span><span class="p">);</span>
<span class="nx">Beyonic</span><span class="o">::</span><span class="na">setApiKey</span><span class="p">(</span><span class="s2">"ab594c14986612f6167a975e1c369e71edab6900"</span><span class="p">);</span>

<span class="nv">$contacts</span> <span class="o">=</span> <span class="nx">Beyonic_Contact</span><span class="o">::</span><span class="na">getAll</span><span class="p">(</span><span class="k">array</span><span class="p">(</span>
  <span class="s2">"ordering"</span> <span class="o">=&gt;</span> <span class="s2">"-created"</span>
<span class="p">));</span>
<span class="cp">?&gt;</span>
</code></pre>
<pre class="highlight python"><code><span class="kn">import</span> <span class="nn">beyonic</span>
<span class="n">beyonic</span><span class="o">.</span><span class="n">api_key</span> <span class="o">=</span> <span class="s">'ab594c14986612f6167a975e1c369e71edab6900'</span>

<span class="n">contacts</span> <span class="o">=</span> <span class="n">beyonic</span><span class="o">.</span><span class="n">Contact</span><span class="o">.</span><span class="nb">list</span><span class="p">(</span><span class="n">ordering</span><span class="o">=</span><span class="s">'-created'</span><span class="p">)</span>


</code></pre>

<p>Most Beyonic API methods support a way to retrieve a list of records. For example, you can retrieve a list of contacts.</p>

<p>When retrieving a list, you can control the order that records are returned in by adding one parameters to your request:</p>

<ul>
<li><strong><em>ordering</em></strong>: This orders the records by one of the visible fields on the object</li>
</ul>

<p>Ascending or Descending order:</p>

<ul>
<li>To use ascending order, just use the field name E.g. ordering=created</li>
<li>To use descending order, add a &ldquo;-&rdquo; to the field name E.g. ordering=-created</li>
</ul>

          <h1 id="filtering-results">Filtering Results</h1>

<blockquote>
<p>Filtering Example:</p>
</blockquote>
<pre class="highlight shell"><code>curl https://app.beyonic.com/api/contacts?first_name<span class="o">=</span>tom -H <span class="s2">"Authorization: Token ab594c14986612f6167a975e1c369e71edab6900"</span>
</code></pre>
<pre class="highlight ruby"><code><span class="nb">require</span> <span class="s1">'beyonic'</span>
<span class="no">Beyonic</span><span class="p">.</span><span class="nf">api_key</span> <span class="o">=</span> <span class="s1">'ab594c14986612f6167a975e1c369e71edab6900'</span>

<span class="n">contacts</span> <span class="o">=</span> <span class="no">Beyonic</span><span class="o">::</span><span class="no">Contact</span><span class="p">.</span><span class="nf">list</span><span class="p">(</span>
  <span class="ss">first_name: </span><span class="s1">'tom'</span>
<span class="p">)</span>
</code></pre>
<pre class="highlight php"><code><span class="cp">&lt;?php</span>
<span class="k">require_once</span><span class="p">(</span><span class="s1">'./lib/Beyonic.php'</span><span class="p">);</span>
<span class="nx">Beyonic</span><span class="o">::</span><span class="na">setApiKey</span><span class="p">(</span><span class="s2">"ab594c14986612f6167a975e1c369e71edab6900"</span><span class="p">);</span>

<span class="nv">$contacts</span> <span class="o">=</span> <span class="nx">Beyonic_Contact</span><span class="o">::</span><span class="na">getAll</span><span class="p">(</span><span class="k">array</span><span class="p">(</span>
  <span class="s2">"first_name"</span> <span class="o">=&gt;</span> <span class="s2">"tom"</span>
<span class="p">));</span>
<span class="cp">?&gt;</span>
</code></pre>
<pre class="highlight python"><code><span class="kn">import</span> <span class="nn">beyonic</span>
<span class="n">beyonic</span><span class="o">.</span><span class="n">api_key</span> <span class="o">=</span> <span class="s">'ab594c14986612f6167a975e1c369e71edab6900'</span>

<span class="n">contacts</span> <span class="o">=</span> <span class="n">beyonic</span><span class="o">.</span><span class="n">Contact</span><span class="o">.</span><span class="nb">list</span><span class="p">(</span><span class="n">first_name</span><span class="o">=</span><span class="s">'tom'</span><span class="p">)</span>


</code></pre>

<p>Most Beyonic API methods support a way to retrieve a list of records or a single record. For example, you can retrieve a list of contacts or a single contact.</p>

<p>When retrieving a list or a single record, you can limit the results to records where a given field matches specific search criteria. To do this, add the  keyword to your request as shown in the examples.</p>

<p>Not all fields are filterable. See the documentation for each method below to see which fields are filterable within that method.</p>

          <h1 id="metadata">Metadata</h1>

<blockquote>
<p>Example showing how to create a new payment with Metadata:</p>
</blockquote>
<pre class="highlight shell"><code>curl https://app.beyonic.com/api/payments -H <span class="s2">"Authorization: Token ab594c14986612f6167a975e1c369e71edab6900"</span> <span class="se">\</span>
-d <span class="nv">phonenumber</span><span class="o">=</span>+256772781923 <span class="se">\</span>
-d <span class="nv">currency</span><span class="o">=</span>UGX <span class="se">\</span>
-d <span class="nv">amount</span><span class="o">=</span>30 <span class="se">\</span>
-d <span class="nv">description</span><span class="o">=</span><span class="s2">"Per diem payment"</span> <span class="se">\</span>
-d <span class="nv">callback_url</span><span class="o">=</span><span class="s2">"https://my.website/payments/callback"</span> <span class="se">\</span>
-d metadata.id<span class="o">=</span>1234 <span class="se">\ </span>
-d metadata.name<span class="o">=</span>Lucy <span class="se">\</span>
-d <span class="nv">payment_type</span><span class="o">=</span>money
</code></pre>
<pre class="highlight ruby"><code><span class="nb">require</span> <span class="s1">'beyonic'</span>
<span class="no">Beyonic</span><span class="p">.</span><span class="nf">api_key</span> <span class="o">=</span> <span class="s1">'ab594c14986612f6167a975e1c369e71edab6900'</span>

<span class="n">payment</span> <span class="o">=</span> <span class="no">Beyonic</span><span class="o">::</span><span class="no">Payment</span><span class="p">.</span><span class="nf">create</span><span class="p">(</span>
    <span class="ss">phonenumber: </span><span class="s2">"+256773712831"</span><span class="p">,</span>
    <span class="ss">amount: </span><span class="s2">"100.2"</span><span class="p">,</span>
    <span class="ss">currency: </span><span class="s2">"UGX"</span><span class="p">,</span>
    <span class="ss">description: </span><span class="s2">"Per diem payment"</span><span class="p">,</span>
    <span class="ss">payment_type: </span><span class="s2">"money"</span><span class="p">,</span>
    <span class="ss">callback_url: </span><span class="s2">"https://my.website/payments/callback"</span><span class="p">,</span>
    <span class="s1">'metadata.id'</span><span class="o">=&gt;</span> <span class="mi">1234</span><span class="p">,</span>
    <span class="s1">'metadata.name'</span><span class="o">=&gt;</span> <span class="s1">'Lucy'</span>
<span class="p">)</span>
</code></pre>
<pre class="highlight php"><code><span class="cp">&lt;?php</span>
<span class="k">require_once</span><span class="p">(</span><span class="s1">'./lib/Beyonic.php'</span><span class="p">);</span>
<span class="nx">Beyonic</span><span class="o">::</span><span class="na">setApiKey</span><span class="p">(</span><span class="s2">"ab594c14986612f6167a975e1c369e71edab6900"</span><span class="p">);</span>

<span class="nx">Beyonic_Payment</span><span class="o">::</span><span class="na">create</span><span class="p">(</span><span class="k">array</span><span class="p">(</span>
  <span class="s2">"phonenumber"</span> <span class="o">=&gt;</span> <span class="s2">"+256773712831"</span><span class="p">,</span>
  <span class="s2">"amount"</span> <span class="o">=&gt;</span> <span class="s2">"100.2"</span><span class="p">,</span>
  <span class="s2">"currency"</span> <span class="o">=&gt;</span> <span class="s2">"UGX"</span><span class="p">,</span>
  <span class="s2">"description"</span> <span class="o">=&gt;</span> <span class="s2">"Per diem payment"</span><span class="p">,</span>
  <span class="s2">"payment_type"</span> <span class="o">=&gt;</span> <span class="s2">"money"</span><span class="p">,</span>
  <span class="s2">"callback_url"</span> <span class="o">=&gt;</span> <span class="s2">"https://my.website/payments/callback"</span><span class="p">,</span>
  <span class="s2">"metadata.id"</span> <span class="o">=&gt;</span> <span class="s2">"1234"</span><span class="p">,</span> 
  <span class="s2">"metadata.name"</span> <span class="o">=&gt;</span> <span class="s2">"Lucy"</span>
<span class="p">));</span>
<span class="cp">?&gt;</span>
</code></pre>
<pre class="highlight python"><code><span class="kn">import</span> <span class="nn">beyonic</span>
<span class="n">beyonic</span><span class="o">.</span><span class="n">api_key</span> <span class="o">=</span> <span class="s">'ab594c14986612f6167a975e1c369e71edab6900'</span>

<span class="n">kwargs</span> <span class="o">=</span> <span class="p">{</span><span class="s">'metadata.id'</span><span class="p">:</span> <span class="mi">1234</span><span class="p">,</span> <span class="s">'metadata.name'</span><span class="p">:</span> <span class="s">'Lucy'</span><span class="p">}</span>

<span class="n">beyonic</span><span class="o">.</span><span class="n">Payment</span><span class="o">.</span><span class="n">create</span><span class="p">(</span><span class="n">phonenumber</span><span class="o">=</span><span class="s">'+256773712831'</span><span class="p">,</span>
                       <span class="n">amount</span><span class="o">=</span><span class="s">'1200'</span><span class="p">,</span> 
                       <span class="n">currency</span><span class="o">=</span><span class="s">'UGX'</span><span class="p">,</span>
                       <span class="n">description</span><span class="o">=</span><span class="s">'Per diem'</span><span class="p">,</span>
                       <span class="n">callback_url</span><span class="o">=</span><span class="s">'https://my.website/payments/callback'</span><span class="p">,</span>
                       <span class="o">**</span><span class="n">kwargs</span>
                       <span class="p">)</span>
</code></pre>

<p>Beyonic supports Metadata, which allows you to add custom key-value attributes when creating objects. For example, you can include a unique ID to identify a payment, or add more information about a Contact. This data will be returned when you retrieve the record later, and can be used to identify the record.</p>

<p>Metadata has the following constraints:</p>

<ul>
<li>Metadata attributes must be key-value pairs. </li>
<li>Both the keys and values must be strings.</li>
<li>For each record, you can have up to 10 custom attributes.</li>
</ul>

<p>Metadata is added to the object a set of key-value pairs, where the key is in the format metadata.key_name, for example: metadata.id or metadata.name or metadata.date, and so on.</p>

<p>See the examples for more information.</p>

<h2 id="custom-fields">Custom Fields</h2>

<p>Custom Fields are similar to Metadata - they allow you to add custom data to some objects. There are a couple of differences between custom fields and other metadata:</p>

<ol>
<li>Custom fields are available through the web interface as well, while metadata fields are only available through the API</li>
<li>Metadata keys and values can be created and edited through the API, while custom fields can only be created through the web interface (currently, you need to request addition of a custom field by <a href="http://beyonic.com/contact">contacting us</a>). However, once custom fields have been created through the web interface, they can be updated or edited through the API as well.</li>
<li>Metadata consists of string-based keys and string-based values. Custom field keys are strings (starting with &ldquo;s_&rdquo;), but the values may be of different types, including strings, numbers, boolean values or enum values (restricted to a predefined set of values)</li>
</ol>

<h3 id="adding-or-updating-custom-field-data">Adding or updating custom field data</h3>

<p>All internal custom field labels or keys start with &ldquo;s_&rdquo;. To see the available custom fields, and their actual key names, you can read or list the related object records, as detailed in the respective APIs. </p>

<p>For example, to see custom fields that have been added to your payment object, list your payments. You can identify the custom fields by their keys, which all start with &ldquo;s_&rdquo;.</p>

<p>Once you know the custom field key, you can update it&rsquo;s value just like any other metadata value.</p>

<h3 id="api-methods-that-support-custom-fields">API methods that support custom fields.</h3>

<p>Not all API methods support custom fields. Currently, the following API methods and their corresponding objects support custom fields.</p>

<ol>
<li>The payment API</li>
<li>The contacts API</li>
</ol>

          <h1 id="changelog">Changelog</h1>

<p>This section lists new versions and the changes made in those versions. Review these changes to decide whether you need to upgrade to the new version. Note that only backward incompatible changes are shown. See the <a href="#versioning">Versioning</a> section for more information on how to upgrade to a new version.</p>

<p>v2 - February 2016</p>

<ul>
<li><em>Accounts</em> API to get balances of organization&rsquo;s accounts.</li>
</ul>

<p>v2 - November 2015</p>

<ul>
<li>Versioning improvements to provide transparent backward compatibility by automatically saving users&rsquo; version. Versions can be upgraded manually via web interface</li>
<li><em>orgnaization</em> field now contains the organization ID, not name, in the Payments, Contacts and Collection Requests methods</li>
<li><em>currency</em> field now contains the currency code, not the currency ID, in the Collections method</li>
</ul>

          <h1 id="methods">Methods</h1>

<p>These are the methods supported by Beyonic&rsquo;s API. Clicking on each method in the table of contents shall reveal the actions supported by each method.</p>

          <h1 id="accounts">Accounts</h1>

<h2 id="introduction">Introduction</h2>

<p>Accounts are buckets from which money to be sent is debited. The accounts api method allows you to list your accounts and view balances for each account.</p>

<p>The accounts api endpoint is https://app.beyonic.com/api/accounts</p>

<h2 id="the-account-object">The account object</h2>

<table><thead>
<tr>
<th>Field</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>long integer</td>
<td>Unique object identifier</td>
</tr>
<tr>
<td>organization</td>
<td>long integer</td>
<td>The ID of the organization that the account belongs to. (This is usually your organization ID)</td>
</tr>
<tr>
<td>balance</td>
<td>float</td>
<td>The current account balance</td>
</tr>
<tr>
<td>currency</td>
<td>string</td>
<td>The account&rsquo;s currency code. i.e KES, UGX</td>
</tr>
<tr>
<td>status</td>
<td>string</td>
<td>The account&rsquo;s status. One of: active or inactive</td>
</tr>
<tr>
<td>created</td>
<td>string</td>
<td>The date that the account was created, in the UTC timezone. Format: &ldquo;YYYY-MM-DDTHH:MM:SSZ&rdquo;</td>
</tr>
<tr>
<td>author</td>
<td>long integer</td>
<td>The ID of the user who created the account</td>
</tr>
<tr>
<td>modified</td>
<td>string</td>
<td>The date that the account was last modified, in the UTC timezone. Format: &ldquo;YYYY-MM-DDTHH:MM:SSZ&rdquo;</td>
</tr>
<tr>
<td>updated_by</td>
<td>string</td>
<td>The ID of the user who last updated the account</td>
</tr>
</tbody></table>

<h2 id="listing-all-accounts">Listing all accounts</h2>

<blockquote>
<p>Sample Request:</p>
</blockquote>
<pre class="highlight shell"><code>curl https://app.beyonic.com/api/accounts -H <span class="s2">"Authorization: Token ab594c14986612f6167a975e1c369e71edab6900"</span>
</code></pre>
<pre class="highlight ruby"><code><span class="nb">require</span> <span class="s1">'beyonic'</span>
<span class="no">Beyonic</span><span class="p">.</span><span class="nf">api_key</span> <span class="o">=</span> <span class="s1">'ab594c14986612f6167a975e1c369e71edab6900'</span>

<span class="n">accounts</span> <span class="o">=</span> <span class="no">Beyonic</span><span class="o">::</span><span class="no">Account</span><span class="p">.</span><span class="nf">list</span>
</code></pre>
<pre class="highlight php"><code><span class="cp">&lt;?php</span>
<span class="k">require_once</span><span class="p">(</span><span class="s1">'./lib/Beyonic.php'</span><span class="p">);</span>
<span class="nx">Beyonic</span><span class="o">::</span><span class="na">setApiKey</span><span class="p">(</span><span class="s2">"ab594c14986612f6167a975e1c369e71edab6900"</span><span class="p">);</span>

<span class="nv">$accounts</span> <span class="o">=</span> <span class="nx">Beyonic_Account</span><span class="o">::</span><span class="na">getAll</span><span class="p">();</span>
<span class="cp">?&gt;</span>
</code></pre>
<pre class="highlight python"><code><span class="kn">import</span> <span class="nn">beyonic</span>
<span class="n">beyonic</span><span class="o">.</span><span class="n">api_key</span> <span class="o">=</span> <span class="s">'ab594c14986612f6167a975e1c369e71edab6900'</span>

<span class="n">accounts</span> <span class="o">=</span> <span class="n">beyonic</span><span class="o">.</span><span class="n">Account</span><span class="o">.</span><span class="nb">list</span><span class="p">()</span>

</code></pre>
<pre class="highlight java"><code><span class="kn">package</span> <span class="n">com</span><span class="o">.</span><span class="na">beyonic</span><span class="o">.</span><span class="na">examples</span><span class="o">.</span><span class="na">accounts</span><span class="o">;</span>

<span class="kn">import</span> <span class="nn">java.io.BufferedReader</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.io.InputStream</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.io.InputStreamReader</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.net.HttpURLConnection</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.net.URL</span><span class="o">;</span>

<span class="kd">public</span> <span class="kd">class</span> <span class="nc">ListAllAccountsExample</span> <span class="o">{</span>

    <span class="kd">private</span> <span class="kd">static</span> <span class="kd">final</span> <span class="n">String</span> <span class="n">API_ENDPOINT</span> <span class="o">=</span> <span class="s">"https://app.beyonic.com/api/accounts"</span><span class="o">;</span>
    <span class="kd">private</span> <span class="kd">static</span> <span class="kd">final</span> <span class="n">String</span> <span class="n">API_KEY</span> <span class="o">=</span> <span class="s">"ab594c14986612f6167a975e1c369e71edab6900"</span><span class="o">;</span>
    <span class="kd">private</span> <span class="kd">static</span> <span class="kd">final</span> <span class="n">String</span> <span class="n">CHARSET</span> <span class="o">=</span> <span class="s">"UTF-8"</span><span class="o">;</span>

    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="n">main</span><span class="o">(</span><span class="n">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">){</span>
        <span class="n">URL</span> <span class="n">url</span> <span class="o">=</span> <span class="kc">null</span><span class="o">;</span>
        <span class="k">try</span> <span class="o">{</span>
            <span class="n">url</span> <span class="o">=</span> <span class="k">new</span> <span class="n">URL</span><span class="o">(</span><span class="n">API_ENDPOINT</span><span class="o">);</span>
            <span class="n">HttpURLConnection</span> <span class="n">conn</span> <span class="o">=</span> <span class="o">(</span><span class="n">HttpURLConnection</span><span class="o">)</span> <span class="n">url</span><span class="o">.</span><span class="na">openConnection</span><span class="o">();</span>

            <span class="n">conn</span><span class="o">.</span><span class="na">setRequestProperty</span><span class="o">(</span><span class="s">"Content-Type"</span><span class="o">,</span> <span class="s">"application/json"</span><span class="o">);</span>
            <span class="n">conn</span><span class="o">.</span><span class="na">setRequestProperty</span><span class="o">(</span><span class="s">"Accept"</span><span class="o">,</span> <span class="s">"application/json"</span><span class="o">);</span>
            <span class="n">conn</span><span class="o">.</span><span class="na">setRequestProperty</span><span class="o">(</span><span class="s">"charset"</span><span class="o">,</span> <span class="n">CHARSET</span><span class="o">);</span>
            <span class="n">conn</span><span class="o">.</span><span class="na">setRequestProperty</span><span class="o">(</span><span class="s">"Authorization"</span><span class="o">,</span> <span class="s">"Token "</span> <span class="o">+</span> <span class="n">API_KEY</span><span class="o">);</span>

            <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">conn</span><span class="o">.</span><span class="na">getResponseCode</span><span class="o">()</span> <span class="o">+</span> <span class="s">" // "</span> <span class="o">+</span> <span class="n">conn</span><span class="o">.</span><span class="na">getResponseMessage</span><span class="o">());</span>

            <span class="k">try</span> <span class="o">{</span>
                <span class="k">if</span> <span class="o">(</span><span class="n">conn</span><span class="o">.</span><span class="na">getResponseCode</span><span class="o">()</span> <span class="o">==</span> <span class="mi">200</span><span class="o">)</span> <span class="o">{</span>
                    <span class="n">InputStream</span> <span class="n">inputStream</span> <span class="o">=</span> <span class="n">conn</span><span class="o">.</span><span class="na">getInputStream</span><span class="o">();</span>
                    <span class="n">BufferedReader</span> <span class="n">reader</span> <span class="o">=</span> <span class="k">new</span> <span class="n">BufferedReader</span><span class="o">(</span><span class="k">new</span> <span class="n">InputStreamReader</span><span class="o">(</span><span class="n">inputStream</span><span class="o">));</span>
                    <span class="n">String</span> <span class="n">response</span> <span class="o">=</span> <span class="n">reader</span><span class="o">.</span><span class="na">readLine</span><span class="o">();</span>
                    <span class="n">reader</span><span class="o">.</span><span class="na">close</span><span class="o">();</span>

                    <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">response</span><span class="o">);</span>
                <span class="o">}</span>
            <span class="o">}</span> <span class="k">finally</span> <span class="o">{</span>
                <span class="n">conn</span><span class="o">.</span><span class="na">disconnect</span><span class="o">();</span>
            <span class="o">}</span>

        <span class="o">}</span> <span class="k">catch</span> <span class="o">(</span><span class="n">Exception</span> <span class="n">e</span><span class="o">)</span> <span class="o">{</span>
            <span class="n">e</span><span class="o">.</span><span class="na">printStackTrace</span><span class="o">();</span>
        <span class="o">}</span>
    <span class="o">}</span>

<span class="o">}</span>
</code></pre>

<blockquote>
<p>Sample Response (JSON)</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
    </span><span class="nt">"count"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
    </span><span class="nt">"next"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://app.beyonic.com/api/accounts?offset=10"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"previous"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nt">"results"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1146</span><span class="p">,</span><span class="w">
            </span><span class="nt">"organization"</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span><span class="w">
            </span><span class="nt">"balance"</span><span class="p">:</span><span class="w"> </span><span class="mf">200.0</span><span class="p">,</span><span class="w">
            </span><span class="nt">"currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"KES"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"active"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"created"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-02-13T04:22:31Z"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"author"</span><span class="p">:</span><span class="w"> </span><span class="mi">7</span><span class="p">,</span><span class="w">
            </span><span class="nt">"modified"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-02-26T13:00:35Z"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"updated_by"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1147</span><span class="p">,</span><span class="w">
            </span><span class="nt">"organization"</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span><span class="w">
            </span><span class="nt">"balance"</span><span class="p">:</span><span class="w"> </span><span class="mf">100.0</span><span class="p">,</span><span class="w">
            </span><span class="nt">"currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"UGX"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"active"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"created"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-02-13T04:22:31Z"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"author"</span><span class="p">:</span><span class="w"> </span><span class="mi">7</span><span class="p">,</span><span class="w">
            </span><span class="nt">"modified"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-02-26T13:00:35Z"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"updated_by"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w">
        </span><span class="p">},</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>To retrieve a list of all accounts, make a GET request to the accounts end point. This will return a list of accounts.</p>

<h2 id="filtering-accounts">Filtering accounts</h2>

<blockquote>
<p>Sample Request:</p>
</blockquote>
<pre class="highlight shell"><code>curl https://app.beyonic.com/api/accounts?currency<span class="o">=</span>KES -H <span class="s2">"Authorization: Token ab594c14986612f6167a975e1c369e71edab6900"</span>
</code></pre>
<pre class="highlight ruby"><code><span class="nb">require</span> <span class="s1">'beyonic'</span>
<span class="no">Beyonic</span><span class="p">.</span><span class="nf">api_key</span> <span class="o">=</span> <span class="s1">'ab594c14986612f6167a975e1c369e71edab6900'</span>

<span class="n">accounts</span> <span class="o">=</span> <span class="no">Beyonic</span><span class="o">::</span><span class="no">Account</span><span class="p">.</span><span class="nf">list</span><span class="p">(</span>
  <span class="ss">currency: </span><span class="s2">"KES"</span>
<span class="p">)</span>
</code></pre>
<pre class="highlight php"><code><span class="cp">&lt;?php</span>
<span class="k">require_once</span><span class="p">(</span><span class="s1">'./lib/Beyonic.php'</span><span class="p">);</span>
<span class="nx">Beyonic</span><span class="o">::</span><span class="na">setApiKey</span><span class="p">(</span><span class="s2">"ab594c14986612f6167a975e1c369e71edab6900"</span><span class="p">);</span>

<span class="nv">$accounts</span> <span class="o">=</span> <span class="nx">Beyonic_Account</span><span class="o">::</span><span class="na">getAll</span><span class="p">(</span><span class="k">array</span><span class="p">(</span>
  <span class="s2">"currency"</span> <span class="o">=&gt;</span> <span class="s2">"KES"</span>
<span class="p">));</span>
<span class="cp">?&gt;</span>
</code></pre>
<pre class="highlight python"><code><span class="kn">import</span> <span class="nn">beyonic</span>
<span class="n">beyonic</span><span class="o">.</span><span class="n">api_key</span> <span class="o">=</span> <span class="s">'ab594c14986612f6167a975e1c369e71edab6900'</span>

<span class="n">accounts</span> <span class="o">=</span> <span class="n">beyonic</span><span class="o">.</span><span class="n">Account</span><span class="o">.</span><span class="nb">list</span><span class="p">(</span><span class="n">currency</span><span class="o">=</span><span class="s">'KES'</span><span class="p">)</span>

</code></pre>
<pre class="highlight java"><code><span class="kn">package</span> <span class="n">com</span><span class="o">.</span><span class="na">beyonic</span><span class="o">.</span><span class="na">examples</span><span class="o">.</span><span class="na">accounts</span><span class="o">;</span>

<span class="kn">import</span> <span class="nn">java.io.BufferedReader</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.io.InputStream</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.io.InputStreamReader</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.net.HttpURLConnection</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.net.URL</span><span class="o">;</span>

<span class="kd">public</span> <span class="kd">class</span> <span class="nc">FilterAccountsExample</span> <span class="o">{</span>

    <span class="kd">private</span> <span class="kd">static</span> <span class="kd">final</span> <span class="n">String</span> <span class="n">API_ENDPOINT</span> <span class="o">=</span> <span class="s">"https://app.beyonic.com/api/accounts"</span><span class="o">;</span>
    <span class="kd">private</span> <span class="kd">static</span> <span class="kd">final</span> <span class="n">String</span> <span class="n">API_KEY</span> <span class="o">=</span> <span class="s">"ab594c14986612f6167a975e1c369e71edab6900"</span><span class="o">;</span>
    <span class="kd">private</span> <span class="kd">static</span> <span class="kd">final</span> <span class="n">String</span> <span class="n">CHARSET</span> <span class="o">=</span> <span class="s">"UTF-8"</span><span class="o">;</span>

    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="n">main</span><span class="o">(</span><span class="n">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">){</span>
        <span class="n">URL</span> <span class="n">url</span> <span class="o">=</span> <span class="kc">null</span><span class="o">;</span>
        <span class="k">try</span> <span class="o">{</span>
            <span class="n">url</span> <span class="o">=</span> <span class="k">new</span> <span class="n">URL</span><span class="o">(</span><span class="n">API_ENDPOINT</span> <span class="o">+</span> <span class="s">"?currency=UGX"</span><span class="o">);</span>
            <span class="n">HttpURLConnection</span> <span class="n">conn</span> <span class="o">=</span> <span class="o">(</span><span class="n">HttpURLConnection</span><span class="o">)</span> <span class="n">url</span><span class="o">.</span><span class="na">openConnection</span><span class="o">();</span>

            <span class="n">conn</span><span class="o">.</span><span class="na">setRequestProperty</span><span class="o">(</span><span class="s">"Content-Type"</span><span class="o">,</span> <span class="s">"application/json"</span><span class="o">);</span>
            <span class="n">conn</span><span class="o">.</span><span class="na">setRequestProperty</span><span class="o">(</span><span class="s">"Accept"</span><span class="o">,</span> <span class="s">"application/json"</span><span class="o">);</span>
            <span class="n">conn</span><span class="o">.</span><span class="na">setRequestProperty</span><span class="o">(</span><span class="s">"charset"</span><span class="o">,</span> <span class="n">CHARSET</span><span class="o">);</span>
            <span class="n">conn</span><span class="o">.</span><span class="na">setRequestProperty</span><span class="o">(</span><span class="s">"Authorization"</span><span class="o">,</span> <span class="s">"Token "</span> <span class="o">+</span> <span class="n">API_KEY</span><span class="o">);</span>

            <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">conn</span><span class="o">.</span><span class="na">getResponseCode</span><span class="o">()</span> <span class="o">+</span> <span class="s">" // "</span> <span class="o">+</span> <span class="n">conn</span><span class="o">.</span><span class="na">getResponseMessage</span><span class="o">());</span>

            <span class="k">try</span> <span class="o">{</span>
                <span class="k">if</span> <span class="o">(</span><span class="n">conn</span><span class="o">.</span><span class="na">getResponseCode</span><span class="o">()</span> <span class="o">==</span> <span class="mi">200</span><span class="o">)</span> <span class="o">{</span>
                    <span class="n">InputStream</span> <span class="n">inputStream</span> <span class="o">=</span> <span class="n">conn</span><span class="o">.</span><span class="na">getInputStream</span><span class="o">();</span>
                    <span class="n">BufferedReader</span> <span class="n">reader</span> <span class="o">=</span> <span class="k">new</span> <span class="n">BufferedReader</span><span class="o">(</span><span class="k">new</span> <span class="n">InputStreamReader</span><span class="o">(</span><span class="n">inputStream</span><span class="o">));</span>
                    <span class="n">String</span> <span class="n">response</span> <span class="o">=</span> <span class="n">reader</span><span class="o">.</span><span class="na">readLine</span><span class="o">();</span>
                    <span class="n">reader</span><span class="o">.</span><span class="na">close</span><span class="o">();</span>

                    <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">response</span><span class="o">);</span>
                <span class="o">}</span>
            <span class="o">}</span> <span class="k">finally</span> <span class="o">{</span>
                <span class="n">conn</span><span class="o">.</span><span class="na">disconnect</span><span class="o">();</span>
            <span class="o">}</span>

        <span class="o">}</span> <span class="k">catch</span> <span class="o">(</span><span class="n">Exception</span> <span class="n">e</span><span class="o">)</span> <span class="o">{</span>
            <span class="n">e</span><span class="o">.</span><span class="na">printStackTrace</span><span class="o">();</span>
        <span class="o">}</span>
    <span class="o">}</span>

<span class="o">}</span>
</code></pre>

<p>You can search or filter accounts on the following fields. Simply add them to your request as shown in the examples. You can combine multiple filters. Note that filters return exact matches only.</p>

<ul>
<li>currrency - the accounts&rsquo;s currency</li>
<li>status - the accounts&rsquo;s status</li>
</ul>

          <h1 id="collections">Collections</h1>

<h2 id="introduction">Introduction</h2>

<p>Collections are payments sent to you from mobile subscribers. See <a href="http://support.beyonic.com/how-beyonic-makes-collections-easier/">how collections work</a> for more information.</p>

<p>When the user sends in a payment, it will create a collection object that you can access via the Collections API using the methods shown below.</p>

<p>The collections api endpoint is:
  <aside class="notice">https://app.beyonic.com/api/collections</aside></p>

<h2 id="the-collection-object">The collection object</h2>

<table><thead>
<tr>
<th>Field</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>long integer</td>
<td>Unique object identifier</td>
</tr>
<tr>
<td>remote_transaction_id</td>
<td>string</td>
<td>The unique transaction ID from the mobile network operator</td>
</tr>
<tr>
<td>organization</td>
<td>long integer</td>
<td>The ID of the organization that the collection was matched to</td>
</tr>
<tr>
<td>amount</td>
<td>decimal</td>
<td>The collection amount</td>
</tr>
<tr>
<td>currency</td>
<td>string</td>
<td>The 3 letter ISO currency code for the collection</td>
</tr>
<tr>
<td>phonenumber</td>
<td>string</td>
<td>The phone number that the collection was initiated from, in international format, starting with a +</td>
</tr>
<tr>
<td>payment_date</td>
<td>string</td>
<td>The date that the collection was made, in the UTC timezone. Format: &ldquo;YYYY-MM-DDTHH:MM:SSZ&rdquo;</td>
</tr>
<tr>
<td>reference</td>
<td>string</td>
<td>The description or reference code that was included with the collection</td>
</tr>
<tr>
<td>status</td>
<td>string</td>
<td>A string showing the status of the collection. One of: successful, failed, pending or cashed_out</td>
</tr>
<tr>
<td>created</td>
<td>string</td>
<td>The date that the collection was created, in the UTC timezone. Format: &ldquo;YYYY-MM-DDTHH:MM:SSZ&rdquo;</td>
</tr>
<tr>
<td>author</td>
<td>long integer</td>
<td>The ID of the user who created the collection</td>
</tr>
<tr>
<td>modified</td>
<td>string</td>
<td>The date that the collection was last modified, in the UTC timezone. Format: &ldquo;YYYY-MM-DDTHH:MM:SSZ&rdquo;</td>
</tr>
<tr>
<td>updated_by</td>
<td>string</td>
<td>The ID of the user who last updated the collection</td>
</tr>
<tr>
<td>collection_request</td>
<td>long integer or null</td>
<td>The ID of the collection request that this collection was matched to, if any</td>
</tr>
</tbody></table>

<h2 id="retrieving-a-single-collection">Retrieving a single collection</h2>

<blockquote>
<p>Sample Request:</p>
</blockquote>
<pre class="highlight shell"><code>curl https://app.beyonic.com/api/collections/230 -H <span class="s2">"Authorization: Token ab594c14986612f6167a975e1c369e71edab6900"</span>
</code></pre>
<pre class="highlight ruby"><code><span class="nb">require</span> <span class="s1">'beyonic'</span>
<span class="no">Beyonic</span><span class="p">.</span><span class="nf">api_key</span> <span class="o">=</span> <span class="n">ab594c14986612f6167a975e1c369e71edab6900</span><span class="err">'</span>

<span class="n">collection</span> <span class="o">=</span> <span class="no">Beyonic</span><span class="o">::</span><span class="no">Collection</span><span class="p">.</span><span class="nf">get</span><span class="p">(</span><span class="mi">23</span><span class="p">)</span>
</code></pre>
<pre class="highlight php"><code><span class="cp">&lt;?php</span>
<span class="k">require_once</span><span class="p">(</span><span class="s1">'./lib/Beyonic.php'</span><span class="p">);</span>
<span class="nx">Beyonic</span><span class="o">::</span><span class="na">setApiKey</span><span class="p">(</span><span class="s2">"ab594c14986612f6167a975e1c369e71edab6900"</span><span class="p">);</span>

<span class="nv">$collection</span> <span class="o">=</span> <span class="nx">Beyonic_Collection</span><span class="o">::</span><span class="na">get</span><span class="p">(</span><span class="mi">23</span><span class="p">);</span>
<span class="cp">?&gt;</span>
</code></pre>
<pre class="highlight python"><code><span class="kn">import</span> <span class="nn">beyonic</span>
<span class="n">beyonic</span><span class="o">.</span><span class="n">api_key</span> <span class="o">=</span> <span class="s">'ab594c14986612f6167a975e1c369e71edab6900'</span>

<span class="n">collection</span> <span class="o">=</span> <span class="n">beyonic</span><span class="o">.</span><span class="n">Collection</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="mi">23</span><span class="p">)</span>

</code></pre>
<pre class="highlight java"><code><span class="kn">package</span> <span class="n">com</span><span class="o">.</span><span class="na">beyonic</span><span class="o">.</span><span class="na">examples</span><span class="o">.</span><span class="na">collections</span><span class="o">;</span>

<span class="kn">import</span> <span class="nn">java.io.BufferedReader</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.io.InputStream</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.io.InputStreamReader</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.net.HttpURLConnection</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.net.URL</span><span class="o">;</span>


<span class="kd">public</span> <span class="kd">class</span> <span class="nc">SingleCollectionExample</span> <span class="o">{</span>

    <span class="kd">private</span> <span class="kd">static</span> <span class="kd">final</span> <span class="n">String</span> <span class="n">API_ENDPOINT</span> <span class="o">=</span> <span class="s">"https://app.beyonic.com/api/collections"</span><span class="o">;</span>
    <span class="kd">private</span> <span class="kd">static</span> <span class="kd">final</span> <span class="n">String</span> <span class="n">API_KEY</span> <span class="o">=</span> <span class="s">"ab594c14986612f6167a975e1c369e71edab6900"</span><span class="o">;</span>
    <span class="kd">private</span> <span class="kd">static</span> <span class="kd">final</span> <span class="n">String</span> <span class="n">CHARSET</span> <span class="o">=</span> <span class="s">"UTF-8"</span><span class="o">;</span>

    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="n">main</span><span class="o">(</span><span class="n">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">){</span>
        <span class="n">URL</span> <span class="n">url</span> <span class="o">=</span> <span class="kc">null</span><span class="o">;</span>
        <span class="k">try</span> <span class="o">{</span>
            <span class="n">url</span> <span class="o">=</span> <span class="k">new</span> <span class="n">URL</span><span class="o">(</span><span class="n">API_ENDPOINT</span> <span class="o">+</span> <span class="s">"/1"</span><span class="o">);</span>
            <span class="n">HttpURLConnection</span> <span class="n">conn</span> <span class="o">=</span> <span class="o">(</span><span class="n">HttpURLConnection</span><span class="o">)</span> <span class="n">url</span><span class="o">.</span><span class="na">openConnection</span><span class="o">();</span>

            <span class="n">conn</span><span class="o">.</span><span class="na">setRequestProperty</span><span class="o">(</span><span class="s">"Content-Type"</span><span class="o">,</span> <span class="s">"application/json"</span><span class="o">);</span>
            <span class="n">conn</span><span class="o">.</span><span class="na">setRequestProperty</span><span class="o">(</span><span class="s">"Accept"</span><span class="o">,</span> <span class="s">"application/json"</span><span class="o">);</span>
            <span class="n">conn</span><span class="o">.</span><span class="na">setRequestProperty</span><span class="o">(</span><span class="s">"charset"</span><span class="o">,</span> <span class="n">CHARSET</span><span class="o">);</span>
            <span class="n">conn</span><span class="o">.</span><span class="na">setRequestProperty</span><span class="o">(</span><span class="s">"Authorization"</span><span class="o">,</span> <span class="s">"Token "</span> <span class="o">+</span> <span class="n">API_KEY</span><span class="o">);</span>

            <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">conn</span><span class="o">.</span><span class="na">getResponseCode</span><span class="o">()</span> <span class="o">+</span> <span class="s">" // "</span> <span class="o">+</span> <span class="n">conn</span><span class="o">.</span><span class="na">getResponseMessage</span><span class="o">());</span>

            <span class="k">try</span> <span class="o">{</span>
                <span class="k">if</span> <span class="o">(</span><span class="n">conn</span><span class="o">.</span><span class="na">getResponseCode</span><span class="o">()</span> <span class="o">==</span> <span class="mi">200</span><span class="o">)</span> <span class="o">{</span>
                    <span class="n">InputStream</span> <span class="n">inputStream</span> <span class="o">=</span> <span class="n">conn</span><span class="o">.</span><span class="na">getInputStream</span><span class="o">();</span>
                    <span class="n">BufferedReader</span> <span class="n">reader</span> <span class="o">=</span> <span class="k">new</span> <span class="n">BufferedReader</span><span class="o">(</span><span class="k">new</span> <span class="n">InputStreamReader</span><span class="o">(</span><span class="n">inputStream</span><span class="o">));</span>
                    <span class="n">String</span> <span class="n">response</span> <span class="o">=</span> <span class="n">reader</span><span class="o">.</span><span class="na">readLine</span><span class="o">();</span>
                    <span class="n">reader</span><span class="o">.</span><span class="na">close</span><span class="o">();</span>

                    <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">response</span><span class="o">);</span>
                <span class="o">}</span>
            <span class="o">}</span> <span class="k">finally</span> <span class="o">{</span>
                <span class="n">conn</span><span class="o">.</span><span class="na">disconnect</span><span class="o">();</span>
            <span class="o">}</span>

        <span class="o">}</span> <span class="k">catch</span> <span class="o">(</span><span class="n">Exception</span> <span class="n">e</span><span class="o">)</span> <span class="o">{</span>
            <span class="n">e</span><span class="o">.</span><span class="na">printStackTrace</span><span class="o">();</span>
        <span class="o">}</span>
    <span class="o">}</span>

<span class="o">}</span>
</code></pre>

<blockquote>
<p>Sample Response (JSON):</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
    </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">230</span><span class="p">,</span><span class="w">
    </span><span class="nt">"remote_transaction_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"12132"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"organization"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nt">"amount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"20.0000"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"currency"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nt">"phonenumber"</span><span class="p">:</span><span class="w"> </span><span class="s2">"+2547227272723"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"payment_date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-12-12T00:00:00Z"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"reference"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nt">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"successful"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"created"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-08-01T16:49:48Z"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"author"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nt">"modified"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-08-01T16:55:38Z"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"updated_by"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>To retrieve a single collection object, provide the collection id and a collection object will be returned.</p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Required</th>
<th>Type</th>
<th>Example</th>
<th>Notes</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>Yes</td>
<td>Integer</td>
<td>23</td>
<td>The id of the collection you want to retrieve</td>
</tr>
</tbody></table>

<h2 id="listing-all-collections">Listing all collections</h2>

<blockquote>
<p>Sample Request:</p>
</blockquote>
<pre class="highlight shell"><code>curl https://app.beyonic.com/api/collections -H <span class="s2">"Authorization: Token ab594c14986612f6167a975e1c369e71edab6900"</span>
</code></pre>
<pre class="highlight ruby"><code><span class="nb">require</span> <span class="s1">'beyonic'</span>
<span class="no">Beyonic</span><span class="p">.</span><span class="nf">api_key</span> <span class="o">=</span> <span class="s1">'ab594c14986612f6167a975e1c369e71edab6900'</span>

<span class="n">collection</span> <span class="o">=</span> <span class="no">Beyonic</span><span class="o">::</span><span class="no">Collection</span><span class="p">.</span><span class="nf">list</span>
</code></pre>
<pre class="highlight php"><code><span class="cp">&lt;?php</span>
<span class="k">require_once</span><span class="p">(</span><span class="s1">'./lib/Beyonic.php'</span><span class="p">);</span>
<span class="nx">Beyonic</span><span class="o">::</span><span class="na">setApiKey</span><span class="p">(</span><span class="s2">"ab594c14986612f6167a975e1c369e71edab6900"</span><span class="p">);</span>

<span class="nv">$collection</span> <span class="o">=</span> <span class="nx">Beyonic_Collection</span><span class="o">::</span><span class="na">getAll</span><span class="p">();</span>
<span class="cp">?&gt;</span>
</code></pre>
<pre class="highlight python"><code><span class="kn">import</span> <span class="nn">beyonic</span>
<span class="n">beyonic</span><span class="o">.</span><span class="n">api_key</span> <span class="o">=</span> <span class="s">'ab594c14986612f6167a975e1c369e71edab6900'</span>

<span class="n">collection</span> <span class="o">=</span> <span class="n">beyonic</span><span class="o">.</span><span class="n">Collection</span><span class="o">.</span><span class="nb">list</span><span class="p">()</span>

</code></pre>
<pre class="highlight java"><code><span class="kn">package</span> <span class="n">com</span><span class="o">.</span><span class="na">beyonic</span><span class="o">.</span><span class="na">examples</span><span class="o">.</span><span class="na">collections</span><span class="o">;</span>

<span class="kn">import</span> <span class="nn">java.io.BufferedReader</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.io.InputStream</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.io.InputStreamReader</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.net.HttpURLConnection</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.net.URL</span><span class="o">;</span>

<span class="kd">public</span> <span class="kd">class</span> <span class="nc">ListAllCollectionsExample</span> <span class="o">{</span>

    <span class="kd">private</span> <span class="kd">static</span> <span class="kd">final</span> <span class="n">String</span> <span class="n">API_ENDPOINT</span> <span class="o">=</span> <span class="s">"https://app.beyonic.com/api/collections"</span><span class="o">;</span>
    <span class="kd">private</span> <span class="kd">static</span> <span class="kd">final</span> <span class="n">String</span> <span class="n">API_KEY</span> <span class="o">=</span> <span class="s">"ab594c14986612f6167a975e1c369e71edab6900"</span><span class="o">;</span>
    <span class="kd">private</span> <span class="kd">static</span> <span class="kd">final</span> <span class="n">String</span> <span class="n">CHARSET</span> <span class="o">=</span> <span class="s">"UTF-8"</span><span class="o">;</span>

    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="n">main</span><span class="o">(</span><span class="n">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">){</span>
        <span class="n">URL</span> <span class="n">url</span> <span class="o">=</span> <span class="kc">null</span><span class="o">;</span>
        <span class="k">try</span> <span class="o">{</span>
            <span class="n">url</span> <span class="o">=</span> <span class="k">new</span> <span class="n">URL</span><span class="o">(</span><span class="n">API_ENDPOINT</span><span class="o">);</span>
            <span class="n">HttpURLConnection</span> <span class="n">conn</span> <span class="o">=</span> <span class="o">(</span><span class="n">HttpURLConnection</span><span class="o">)</span> <span class="n">url</span><span class="o">.</span><span class="na">openConnection</span><span class="o">();</span>

            <span class="n">conn</span><span class="o">.</span><span class="na">setRequestProperty</span><span class="o">(</span><span class="s">"Content-Type"</span><span class="o">,</span> <span class="s">"application/json"</span><span class="o">);</span>
            <span class="n">conn</span><span class="o">.</span><span class="na">setRequestProperty</span><span class="o">(</span><span class="s">"Accept"</span><span class="o">,</span> <span class="s">"application/json"</span><span class="o">);</span>
            <span class="n">conn</span><span class="o">.</span><span class="na">setRequestProperty</span><span class="o">(</span><span class="s">"charset"</span><span class="o">,</span> <span class="n">CHARSET</span><span class="o">);</span>
            <span class="n">conn</span><span class="o">.</span><span class="na">setRequestProperty</span><span class="o">(</span><span class="s">"Authorization"</span><span class="o">,</span> <span class="s">"Token "</span> <span class="o">+</span> <span class="n">API_KEY</span><span class="o">);</span>

            <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">conn</span><span class="o">.</span><span class="na">getResponseCode</span><span class="o">()</span> <span class="o">+</span> <span class="s">" // "</span> <span class="o">+</span> <span class="n">conn</span><span class="o">.</span><span class="na">getResponseMessage</span><span class="o">());</span>

            <span class="k">try</span> <span class="o">{</span>
                <span class="k">if</span> <span class="o">(</span><span class="n">conn</span><span class="o">.</span><span class="na">getResponseCode</span><span class="o">()</span> <span class="o">==</span> <span class="mi">200</span><span class="o">)</span> <span class="o">{</span>
                    <span class="n">InputStream</span> <span class="n">inputStream</span> <span class="o">=</span> <span class="n">conn</span><span class="o">.</span><span class="na">getInputStream</span><span class="o">();</span>
                    <span class="n">BufferedReader</span> <span class="n">reader</span> <span class="o">=</span> <span class="k">new</span> <span class="n">BufferedReader</span><span class="o">(</span><span class="k">new</span> <span class="n">InputStreamReader</span><span class="o">(</span><span class="n">inputStream</span><span class="o">));</span>
                    <span class="n">String</span> <span class="n">response</span> <span class="o">=</span> <span class="n">reader</span><span class="o">.</span><span class="na">readLine</span><span class="o">();</span>
                    <span class="n">reader</span><span class="o">.</span><span class="na">close</span><span class="o">();</span>

                    <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">response</span><span class="o">);</span>
                <span class="o">}</span>
            <span class="o">}</span> <span class="k">finally</span> <span class="o">{</span>
                <span class="n">conn</span><span class="o">.</span><span class="na">disconnect</span><span class="o">();</span>
            <span class="o">}</span>

        <span class="o">}</span> <span class="k">catch</span> <span class="o">(</span><span class="n">Exception</span> <span class="n">e</span><span class="o">)</span> <span class="o">{</span>
            <span class="n">e</span><span class="o">.</span><span class="na">printStackTrace</span><span class="o">();</span>
        <span class="o">}</span>
    <span class="o">}</span>

<span class="o">}</span>
</code></pre>

<blockquote>
<p>Sample Response (JSON)</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
    </span><span class="nt">"count"</span><span class="p">:</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w">
    </span><span class="nt">"next"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://app.beyonic.com/api/collections?offset=10"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"previous"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nt">"results"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">82</span><span class="p">,</span><span class="w">
            </span><span class="nt">"remote_transaction_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1485758785"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"organization"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
            </span><span class="nt">"amount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2000.0000"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"currency"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
            </span><span class="nt">"phonenumber"</span><span class="p">:</span><span class="w"> </span><span class="s2">"+256782466772"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"payment_date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-07-14T09:57:44Z"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"reference"</span><span class="p">:</span><span class="w"> </span><span class="s2">"beyonic"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"successful"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"created"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-07-14T15:19:05Z"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"author"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
            </span><span class="nt">"modified"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-08-20T16:48:51Z"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"updated_by"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">81</span><span class="p">,</span><span class="w">
            </span><span class="nt">"remote_transaction_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"225718814"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"organization"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
            </span><span class="nt">"amount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2000.0000"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"currency"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
            </span><span class="nt">"phonenumber"</span><span class="p">:</span><span class="w"> </span><span class="s2">"+256752466772"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"payment_date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-07-14T10:26:32Z"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"reference"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Payment Ian M"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"successful"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"created"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-07-14T10:27:08Z"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"author"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
            </span><span class="nt">"modified"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-07-14T10:27:11Z"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"updated_by"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">77</span><span class="p">,</span><span class="w">
            </span><span class="nt">"remote_transaction_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"215569420"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"organization"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
            </span><span class="nt">"amount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"500.0000"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"currency"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
            </span><span class="nt">"phonenumber"</span><span class="p">:</span><span class="w"> </span><span class="s2">"+256756145947"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"payment_date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-06-25T08:16:26Z"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"reference"</span><span class="p">:</span><span class="w"> </span><span class="s2">"payment 10"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"successful"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"created"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-06-25T08:17:07Z"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"author"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
            </span><span class="nt">"modified"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-06-25T08:17:18Z"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"updated_by"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
        </span><span class="p">},</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>To retrieve a list of all collections, make a GET request to the collections endpoint. This will return a list of collection objects.</p>

<h2 id="filtering-collections">Filtering collections</h2>

<blockquote>
<p>Sample Request:</p>
</blockquote>
<pre class="highlight shell"><code>curl https://app.beyonic.com/api/collections?phonenumber<span class="o">=</span>+256772712893&amp;remote_transaction_id<span class="o">=</span>SS12312 -H <span class="s2">"Authorization: Token ab594c14986612f6167a975e1c369e71edab6900"</span>
</code></pre>
<pre class="highlight ruby"><code><span class="nb">require</span> <span class="s1">'beyonic'</span>
<span class="no">Beyonic</span><span class="p">.</span><span class="nf">api_key</span> <span class="o">=</span> <span class="s1">'ab594c14986612f6167a975e1c369e71edab6900'</span>

<span class="n">collection</span> <span class="o">=</span> <span class="no">Beyonic</span><span class="o">::</span><span class="no">Collection</span><span class="p">.</span><span class="nf">list</span><span class="p">(</span>
  <span class="ss">phonenumber: </span><span class="s2">"+256772712893"</span><span class="p">,</span>
  <span class="ss">remote_transaction_id: </span><span class="s2">"SS12312"</span>
<span class="p">)</span>
</code></pre>
<pre class="highlight php"><code><span class="cp">&lt;?php</span>
<span class="k">require_once</span><span class="p">(</span><span class="s1">'./lib/Beyonic.php'</span><span class="p">);</span>
<span class="nx">Beyonic</span><span class="o">::</span><span class="na">setApiKey</span><span class="p">(</span><span class="s2">"ab594c14986612f6167a975e1c369e71edab6900"</span><span class="p">);</span>

<span class="nv">$collection</span> <span class="o">=</span> <span class="nx">Beyonic_Collection</span><span class="o">::</span><span class="na">getAll</span><span class="p">(</span><span class="k">array</span><span class="p">(</span>
  <span class="s2">"phonenumber"</span> <span class="o">=&gt;</span> <span class="s2">"+256772712893"</span><span class="p">,</span>
  <span class="s2">"remote_transaction_id"</span> <span class="o">=&gt;</span> <span class="s2">"SS12312"</span>
<span class="p">));</span>
<span class="cp">?&gt;</span>
</code></pre>
<pre class="highlight python"><code><span class="kn">import</span> <span class="nn">beyonic</span>
<span class="n">beyonic</span><span class="o">.</span><span class="n">api_key</span> <span class="o">=</span> <span class="s">'ab594c14986612f6167a975e1c369e71edab6900'</span>

<span class="n">collection</span> <span class="o">=</span> <span class="n">beyonic</span><span class="o">.</span><span class="n">Collection</span><span class="o">.</span><span class="nb">list</span><span class="p">(</span><span class="n">phonenumber</span><span class="o">=</span><span class="s">'+256772712893'</span><span class="p">,</span>
                                     <span class="n">remote_transaction_id</span><span class="o">=</span><span class="s">'SS12312'</span><span class="p">)</span>


</code></pre>
<pre class="highlight java"><code><span class="kn">package</span> <span class="n">com</span><span class="o">.</span><span class="na">beyonic</span><span class="o">.</span><span class="na">examples</span><span class="o">.</span><span class="na">collections</span><span class="o">;</span>

<span class="kn">import</span> <span class="nn">java.io.BufferedReader</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.io.InputStream</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.io.InputStreamReader</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.net.HttpURLConnection</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.net.URL</span><span class="o">;</span>

<span class="kd">public</span> <span class="kd">class</span> <span class="nc">FilterCollectionsExample</span> <span class="o">{</span>

    <span class="kd">private</span> <span class="kd">static</span> <span class="kd">final</span> <span class="n">String</span> <span class="n">API_ENDPOINT</span> <span class="o">=</span> <span class="s">"https://app.beyonic.com/api/collections"</span><span class="o">;</span>
    <span class="kd">private</span> <span class="kd">static</span> <span class="kd">final</span> <span class="n">String</span> <span class="n">API_KEY</span> <span class="o">=</span> <span class="s">"ab594c14986612f6167a975e1c369e71edab6900"</span><span class="o">;</span>
    <span class="kd">private</span> <span class="kd">static</span> <span class="kd">final</span> <span class="n">String</span> <span class="n">CHARSET</span> <span class="o">=</span> <span class="s">"UTF-8"</span><span class="o">;</span>

    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="n">main</span><span class="o">(</span><span class="n">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">){</span>
        <span class="n">URL</span> <span class="n">url</span> <span class="o">=</span> <span class="kc">null</span><span class="o">;</span>
        <span class="k">try</span> <span class="o">{</span>
            <span class="n">url</span> <span class="o">=</span> <span class="k">new</span> <span class="n">URL</span><span class="o">(</span><span class="n">API_ENDPOINT</span> <span class="o">+</span> <span class="s">"?remote_transaction_id=SS12312"</span><span class="o">);</span>
            <span class="n">HttpURLConnection</span> <span class="n">conn</span> <span class="o">=</span> <span class="o">(</span><span class="n">HttpURLConnection</span><span class="o">)</span> <span class="n">url</span><span class="o">.</span><span class="na">openConnection</span><span class="o">();</span>

            <span class="n">conn</span><span class="o">.</span><span class="na">setRequestProperty</span><span class="o">(</span><span class="s">"Content-Type"</span><span class="o">,</span> <span class="s">"application/json"</span><span class="o">);</span>
            <span class="n">conn</span><span class="o">.</span><span class="na">setRequestProperty</span><span class="o">(</span><span class="s">"Accept"</span><span class="o">,</span> <span class="s">"application/json"</span><span class="o">);</span>
            <span class="n">conn</span><span class="o">.</span><span class="na">setRequestProperty</span><span class="o">(</span><span class="s">"charset"</span><span class="o">,</span> <span class="n">CHARSET</span><span class="o">);</span>
            <span class="n">conn</span><span class="o">.</span><span class="na">setRequestProperty</span><span class="o">(</span><span class="s">"Authorization"</span><span class="o">,</span> <span class="s">"Token "</span> <span class="o">+</span> <span class="n">API_KEY</span><span class="o">);</span>

            <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">conn</span><span class="o">.</span><span class="na">getResponseCode</span><span class="o">()</span> <span class="o">+</span> <span class="s">" // "</span> <span class="o">+</span> <span class="n">conn</span><span class="o">.</span><span class="na">getResponseMessage</span><span class="o">());</span>

            <span class="k">try</span> <span class="o">{</span>
                <span class="k">if</span> <span class="o">(</span><span class="n">conn</span><span class="o">.</span><span class="na">getResponseCode</span><span class="o">()</span> <span class="o">==</span> <span class="mi">200</span><span class="o">)</span> <span class="o">{</span>
                    <span class="n">InputStream</span> <span class="n">inputStream</span> <span class="o">=</span> <span class="n">conn</span><span class="o">.</span><span class="na">getInputStream</span><span class="o">();</span>
                    <span class="n">BufferedReader</span> <span class="n">reader</span> <span class="o">=</span> <span class="k">new</span> <span class="n">BufferedReader</span><span class="o">(</span><span class="k">new</span> <span class="n">InputStreamReader</span><span class="o">(</span><span class="n">inputStream</span><span class="o">));</span>
                    <span class="n">String</span> <span class="n">response</span> <span class="o">=</span> <span class="n">reader</span><span class="o">.</span><span class="na">readLine</span><span class="o">();</span>
                    <span class="n">reader</span><span class="o">.</span><span class="na">close</span><span class="o">();</span>

                    <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">response</span><span class="o">);</span>
                <span class="o">}</span>
            <span class="o">}</span> <span class="k">finally</span> <span class="o">{</span>
                <span class="n">conn</span><span class="o">.</span><span class="na">disconnect</span><span class="o">();</span>
            <span class="o">}</span>

        <span class="o">}</span> <span class="k">catch</span> <span class="o">(</span><span class="n">Exception</span> <span class="n">e</span><span class="o">)</span> <span class="o">{</span>
            <span class="n">e</span><span class="o">.</span><span class="na">printStackTrace</span><span class="o">();</span>
        <span class="o">}</span>
    <span class="o">}</span>

<span class="o">}</span>
</code></pre>

<blockquote>
<p>Sample Response (JSON)</p>
</blockquote>
<pre class="highlight json"><code><span class="p">[</span><span class="w">
       </span><span class="p">{</span><span class="w">
        </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">134</span><span class="p">,</span><span class="w">
        </span><span class="nt">"phonenumber"</span><span class="p">:</span><span class="w"> </span><span class="s2">"+256XXXXXX"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"remote_transaction_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ASDCECASF"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"payment_date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2014-11-22T20:57:04Z"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"reference"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Test Payment"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"amount"</span><span class="p">:</span><span class="w"> </span><span class="mf">3000.000</span><span class="p">,</span><span class="w">
        </span><span class="nt">"currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"UGX"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"successful"</span><span class="w">
       </span><span class="p">}</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre>

<p>You can search or filter collections on the following fields. Simply add them to your request as shown in the examples. You can combine multiple filters. Note that filters return exact matches only (the phonenumber field is treated differently - see below).</p>

<ul>
<li>amount - the transaction amount</li>
<li>currency - the currency code</li>
<li>phonenumber - the phonenumber that the collection request was intended for. Note that the phonenumber will be matched in international format, starting with a &rsquo;+&rsquo; sign. If the &rsquo;+&rsquo; sign isn&rsquo;t included in your request, it will be appended before attempting to match your request. This is only true for phone number searches with collections, to make claiming of transactions easier. Other</li>
<li>reference - the reference code that the customer used when sending the collection</li>
<li>remote_transaction_id - the transation id or transaction reference of the collection on the mobile network operator&rsquo;s side</li>
<li>collection_request - the ID of the collection request that this collection was matched to</li>
</ul>

<p><strong>Response</strong></p>

<p>Note that the response will be a list of collections, not a single collection.</p>

<h2 id="claiming-an-ummatched-collection">Claiming an ummatched collection</h2>

<blockquote>
<p>Sample Request:</p>
</blockquote>
<pre class="highlight shell"><code>curl https://app.beyonic.com/api/collections?phonenumber<span class="o">=</span>+256772712893&amp;remote_transaction_id<span class="o">=</span>SS12312&amp;claim<span class="o">=</span>True&amp;amount<span class="o">=</span>200 -H <span class="s2">"Authorization: Token ab594c14986612f6167a975e1c369e71edab6900"</span>
</code></pre>
<pre class="highlight ruby"><code><span class="nb">require</span> <span class="s1">'beyonic'</span>
<span class="no">Beyonic</span><span class="p">.</span><span class="nf">api_key</span> <span class="o">=</span> <span class="s1">'ab594c14986612f6167a975e1c369e71edab6900'</span>

<span class="n">collection</span> <span class="o">=</span> <span class="no">Beyonic</span><span class="o">::</span><span class="no">Collection</span><span class="p">.</span><span class="nf">list</span><span class="p">(</span>
  <span class="ss">phonenumber: </span><span class="s2">"+256772712893"</span><span class="p">,</span>
  <span class="ss">remote_transaction_id: </span><span class="s2">"SS12312"</span><span class="p">,</span>
  <span class="ss">claim: </span><span class="kp">true</span><span class="p">,</span>
  <span class="ss">amount: </span><span class="mi">200</span>
<span class="p">)</span>
</code></pre>
<pre class="highlight php"><code><span class="cp">&lt;?php</span>
<span class="k">require_once</span><span class="p">(</span><span class="s1">'./lib/Beyonic.php'</span><span class="p">);</span>
<span class="nx">Beyonic</span><span class="o">::</span><span class="na">setApiKey</span><span class="p">(</span><span class="s2">"ab594c14986612f6167a975e1c369e71edab6900"</span><span class="p">);</span>

<span class="nv">$collection</span> <span class="o">=</span> <span class="nx">Beyonic_Collection</span><span class="o">::</span><span class="na">getAll</span><span class="p">(</span><span class="k">array</span><span class="p">(</span>
  <span class="s2">"phonenumber"</span> <span class="o">=&gt;</span> <span class="s2">"+256772712893"</span><span class="p">,</span>
  <span class="s2">"remote_transaction_id"</span> <span class="o">=&gt;</span> <span class="s2">"SS12312"</span><span class="p">,</span>
  <span class="s2">"claim"</span> <span class="o">=&gt;</span> <span class="s2">"True"</span><span class="p">,</span>
  <span class="s2">"amount"</span> <span class="o">=&gt;</span> <span class="s2">"200"</span><span class="p">,</span>
<span class="p">));</span>
<span class="cp">?&gt;</span>
</code></pre>
<pre class="highlight python"><code><span class="kn">import</span> <span class="nn">beyonic</span>
<span class="n">beyonic</span><span class="o">.</span><span class="n">api_key</span> <span class="o">=</span> <span class="s">'ab594c14986612f6167a975e1c369e71edab6900'</span>

<span class="n">collection</span> <span class="o">=</span> <span class="n">beyonic</span><span class="o">.</span><span class="n">Collection</span><span class="o">.</span><span class="nb">list</span><span class="p">(</span><span class="n">phonenumber</span><span class="o">=</span><span class="s">'+256772712893'</span><span class="p">,</span>
                                     <span class="n">remote_transaction_id</span><span class="o">=</span><span class="s">'SS12312'</span><span class="p">,</span>
                                     <span class="n">claim</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span>
                                     <span class="n">amount</span><span class="o">=</span><span class="s">'200'</span><span class="p">)</span>


</code></pre>
<pre class="highlight java"><code><span class="kn">package</span> <span class="n">com</span><span class="o">.</span><span class="na">beyonic</span><span class="o">.</span><span class="na">examples</span><span class="o">.</span><span class="na">collections</span><span class="o">;</span>

<span class="kn">import</span> <span class="nn">java.io.BufferedReader</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.io.InputStream</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.io.InputStreamReader</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.net.HttpURLConnection</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.net.URL</span><span class="o">;</span>

<span class="kd">public</span> <span class="kd">class</span> <span class="nc">ClaimUnmatchedCollectionExample</span> <span class="o">{</span>

    <span class="kd">private</span> <span class="kd">static</span> <span class="kd">final</span> <span class="n">String</span> <span class="n">API_ENDPOINT</span> <span class="o">=</span> <span class="s">"https://app.beyonic.com/api/collections"</span><span class="o">;</span>
    <span class="kd">private</span> <span class="kd">static</span> <span class="kd">final</span> <span class="n">String</span> <span class="n">API_KEY</span> <span class="o">=</span> <span class="s">"ab594c14986612f6167a975e1c369e71edab6900"</span><span class="o">;</span>
    <span class="kd">private</span> <span class="kd">static</span> <span class="kd">final</span> <span class="n">String</span> <span class="n">CHARSET</span> <span class="o">=</span> <span class="s">"UTF-8"</span><span class="o">;</span>

    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="n">main</span><span class="o">(</span><span class="n">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">){</span>
        <span class="n">URL</span> <span class="n">url</span> <span class="o">=</span> <span class="kc">null</span><span class="o">;</span>
        <span class="k">try</span> <span class="o">{</span>
            <span class="n">url</span> <span class="o">=</span> <span class="k">new</span> <span class="n">URL</span><span class="o">(</span><span class="n">API_ENDPOINT</span> <span class="o">+</span> <span class="s">"?phonenumber=+256772712893&amp;remote_transaction_id=SS12312&amp;amount=200&amp;claim=True"</span><span class="o">);</span>
            <span class="n">HttpURLConnection</span> <span class="n">conn</span> <span class="o">=</span> <span class="o">(</span><span class="n">HttpURLConnection</span><span class="o">)</span> <span class="n">url</span><span class="o">.</span><span class="na">openConnection</span><span class="o">();</span>

            <span class="n">conn</span><span class="o">.</span><span class="na">setRequestProperty</span><span class="o">(</span><span class="s">"Content-Type"</span><span class="o">,</span> <span class="s">"application/json"</span><span class="o">);</span>
            <span class="n">conn</span><span class="o">.</span><span class="na">setRequestProperty</span><span class="o">(</span><span class="s">"Accept"</span><span class="o">,</span> <span class="s">"application/json"</span><span class="o">);</span>
            <span class="n">conn</span><span class="o">.</span><span class="na">setRequestProperty</span><span class="o">(</span><span class="s">"charset"</span><span class="o">,</span> <span class="n">CHARSET</span><span class="o">);</span>
            <span class="n">conn</span><span class="o">.</span><span class="na">setRequestProperty</span><span class="o">(</span><span class="s">"Authorization"</span><span class="o">,</span> <span class="s">"Token "</span> <span class="o">+</span> <span class="n">API_KEY</span><span class="o">);</span>

            <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">conn</span><span class="o">.</span><span class="na">getResponseCode</span><span class="o">()</span> <span class="o">+</span> <span class="s">" // "</span> <span class="o">+</span> <span class="n">conn</span><span class="o">.</span><span class="na">getResponseMessage</span><span class="o">());</span>

            <span class="k">try</span> <span class="o">{</span>
                <span class="k">if</span> <span class="o">(</span><span class="n">conn</span><span class="o">.</span><span class="na">getResponseCode</span><span class="o">()</span> <span class="o">==</span> <span class="mi">200</span><span class="o">)</span> <span class="o">{</span>
                    <span class="n">InputStream</span> <span class="n">inputStream</span> <span class="o">=</span> <span class="n">conn</span><span class="o">.</span><span class="na">getInputStream</span><span class="o">();</span>
                    <span class="n">BufferedReader</span> <span class="n">reader</span> <span class="o">=</span> <span class="k">new</span> <span class="n">BufferedReader</span><span class="o">(</span><span class="k">new</span> <span class="n">InputStreamReader</span><span class="o">(</span><span class="n">inputStream</span><span class="o">));</span>
                    <span class="n">String</span> <span class="n">response</span> <span class="o">=</span> <span class="n">reader</span><span class="o">.</span><span class="na">readLine</span><span class="o">();</span>
                    <span class="n">reader</span><span class="o">.</span><span class="na">close</span><span class="o">();</span>

                    <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">response</span><span class="o">);</span>
                <span class="o">}</span>
            <span class="o">}</span> <span class="k">finally</span> <span class="o">{</span>
                <span class="n">conn</span><span class="o">.</span><span class="na">disconnect</span><span class="o">();</span>
            <span class="o">}</span>

        <span class="o">}</span> <span class="k">catch</span> <span class="o">(</span><span class="n">Exception</span> <span class="n">e</span><span class="o">)</span> <span class="o">{</span>
            <span class="n">e</span><span class="o">.</span><span class="na">printStackTrace</span><span class="o">();</span>
        <span class="o">}</span>
    <span class="o">}</span>

<span class="o">}</span>
</code></pre>

<blockquote>
<p>Sample Response (JSON)</p>
</blockquote>
<pre class="highlight json"><code><span class="p">[</span><span class="w">
       </span><span class="p">{</span><span class="w">
        </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">134</span><span class="p">,</span><span class="w">
        </span><span class="nt">"phonenumber"</span><span class="p">:</span><span class="w"> </span><span class="s2">"+256XXXXXX"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"remote_transaction_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ASDCECASF"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"payment_date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2014-11-22T20:57:04Z"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"reference"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Test Payment"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"amount"</span><span class="p">:</span><span class="w"> </span><span class="mf">3000.000</span><span class="p">,</span><span class="w">
        </span><span class="nt">"currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"UGX"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"successful"</span><span class="w">
       </span><span class="p">}</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre>

<p>By default, when you search for a collection, only collections that have been successfully assigned to your organization are searched.</p>

<p>You can add the &ldquo;claim&rdquo; parameter to instruct Beyonic to also search unmatched collections, and if any of the unmatched collections match your input, they will be assigned to your organization.</p>

<p>Note that when you include the claim parameter, you <strong>must</strong> also include the amount, remote_transaction_id and phonenumber parameters. Failure to do so will result in an error.</p>

<p>Also note that the phonenumber will be matched in international format, starting with a &rsquo;+&rsquo; sign. Partial phone number matches will fail when you try to claim a transaction. If the &rsquo;+&rsquo; sign isn&rsquo;t included in your request, it will be appended before attempting to match your request.</p>

<p>Lastly, if your search parameters match more than one collection, the claim will fail.</p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Example</th>
<th>Notes</th>
</tr>
</thead><tbody>
<tr>
<td>claim</td>
<td>Boolean or String</td>
<td>True</td>
<td>Instruct system to search unmatched transctions and claim them for your organization.</td>
</tr>
</tbody></table>

<p><strong>Response</strong></p>

<p>Note that the response will be a list of collections, not a single collection.</p>

          <h1 id="collection-requests">Collection Requests</h1>

<h2 id="introduction">Introduction</h2>

<p>Collection Requests allow you to notify a customer to send funds to you. When you create a collection request, we send a notification to the customer, with insructions on how to fulfill the request. When they send the funds, a collection object shall be created, and matched with the collection request.</p>

<p>Creating a collection request prior to receiving an expected collection greatly improves the user experience for your subscribers by automatically matching transactions to your organization, even if the subscriber misses out some information or gets some of the information wrong, for example if they forget to include a reference code. Payments matching the amount, number and currency in the collection requests will be correctly assigned to you.</p>

<p>On some supported networks, collection requests actually &ldquo;pull&rdquo; the funds from the recipient&rsquo;s mobile money wallet, and all they have to do is enter their PIN code to approve the transaction. This greatly improves the customer experience.</p>

<p>The collection requests api endpoint is:
    <aside class="notice">https://app.beyonic.com/api/collectionrequests</aside></p>

<h2 id="the-collection-request-object">The collection request object</h2>

<table><thead>
<tr>
<th>Field</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>long integer</td>
<td>Unique object identifier</td>
</tr>
<tr>
<td>organization</td>
<td>long integer</td>
<td>The ID of the organization that owns this collection request (This is usually your organization ID)</td>
</tr>
<tr>
<td>amount</td>
<td>decimal</td>
<td>The collection request amount</td>
</tr>
<tr>
<td>currency</td>
<td>string</td>
<td>The 3 letter ISO currency code for the collection request</td>
</tr>
<tr>
<td>phonenumber</td>
<td>string</td>
<td>The phone number that the collection request is intended for, in international format, starting with a +</td>
</tr>
<tr>
<td>reason</td>
<td>string or null</td>
<td>Internal description or reason for this collection request</td>
</tr>
<tr>
<td>metadata</td>
<td>hash</td>
<td>Any custom metadata that was added to the collection request when it was created</td>
</tr>
<tr>
<td>created</td>
<td>string</td>
<td>The date that the collection request was created, in the UTC timezone. Format: &ldquo;YYYY-MM-DDTHH:MM:SSZ&rdquo;</td>
</tr>
<tr>
<td>author</td>
<td>long integer</td>
<td>The ID of the user who created the collection request</td>
</tr>
<tr>
<td>modified</td>
<td>string</td>
<td>The date that the collection request was last modified, in the UTC timezone. Format: &ldquo;YYYY-MM-DDTHH:MM:SSZ&rdquo;</td>
</tr>
<tr>
<td>updated_by</td>
<td>string</td>
<td>The ID of the user who last updated the collection request</td>
</tr>
<tr>
<td>collection</td>
<td>long integer or null</td>
<td>The ID of the collection that fulfilled the collection request, if any</td>
</tr>
<tr>
<td>success_message</td>
<td>string or null</td>
<td>The confirmation message delivered to the customer upon successful completion of this payment request</td>
</tr>
<tr>
<td>instructions</td>
<td>string or null</td>
<td>Any custom instructions that were delivered to the customer</td>
</tr>
<tr>
<td>send_instructions</td>
<td>boolean</td>
<td>Whether or not Beyonic will attempt to send instructions to the user</td>
</tr>
</tbody></table>

<h2 id="creating-a-new-collection-request">Creating a new collection request</h2>

<blockquote>
<p>Sample Request:</p>
</blockquote>
<pre class="highlight shell"><code>curl https://app.beyonic.com/api/collectionrequests -H <span class="s2">"Authorization: Token ab594c14986612f6167a975e1c369e71edab6900"</span> <span class="se">\</span>
-d <span class="nv">phonenumber</span><span class="o">=</span>+256772781923 <span class="se">\</span>
-d <span class="nv">currency</span><span class="o">=</span>UGX <span class="se">\</span>
-d <span class="nv">amount</span><span class="o">=</span>3000 <span class="se">\</span>
-d metadata.my_id<span class="o">=</span><span class="s1">'123ASDAsd123'</span>
</code></pre>
<pre class="highlight ruby"><code><span class="nb">require</span> <span class="s1">'beyonic'</span>
<span class="no">Beyonic</span><span class="p">.</span><span class="nf">api_key</span> <span class="o">=</span> <span class="s1">'ab594c14986612f6167a975e1c369e71edab6900'</span>

<span class="n">collection</span> <span class="o">=</span> <span class="no">Beyonic</span><span class="o">::</span><span class="no">CollectionRequest</span><span class="p">.</span><span class="nf">create</span><span class="p">(</span>
    <span class="ss">phonenumber: </span><span class="s2">"+256773712831"</span><span class="p">,</span>
    <span class="ss">amount: </span><span class="s2">"100.2"</span><span class="p">,</span>
    <span class="ss">currency: </span><span class="s2">"UGX"</span><span class="p">,</span>
    <span class="s1">'metadata.my_id'</span><span class="p">:</span> <span class="s2">"123ASDAsd123"</span>
<span class="p">)</span>
</code></pre>
<pre class="highlight php"><code><span class="cp">&lt;?php</span>
<span class="k">require_once</span><span class="p">(</span><span class="s1">'./lib/Beyonic.php'</span><span class="p">);</span>
<span class="nx">Beyonic</span><span class="o">::</span><span class="na">setApiKey</span><span class="p">(</span><span class="s2">"ab594c14986612f6167a975e1c369e71edab6900"</span><span class="p">);</span>

<span class="nx">Beyonic_Collection_Request</span><span class="o">::</span><span class="na">create</span><span class="p">(</span><span class="k">array</span><span class="p">(</span>
  <span class="s2">"phonenumber"</span> <span class="o">=&gt;</span> <span class="s2">"+256773712831"</span><span class="p">,</span>
  <span class="s2">"amount"</span> <span class="o">=&gt;</span> <span class="s2">"100.2"</span><span class="p">,</span>
  <span class="s2">"currency"</span> <span class="o">=&gt;</span> <span class="s2">"UGX"</span><span class="p">,</span>
  <span class="s2">"metadata.my_id"</span> <span class="o">=&gt;</span> <span class="s2">"123ASDAsd123"</span>
<span class="p">));</span>
<span class="cp">?&gt;</span>
</code></pre>
<pre class="highlight python"><code><span class="kn">import</span> <span class="nn">beyonic</span>
<span class="n">beyonic</span><span class="o">.</span><span class="n">api_key</span> <span class="o">=</span> <span class="s">'ab594c14986612f6167a975e1c369e71edab6900'</span>

<span class="n">kwargs</span> <span class="o">=</span> <span class="p">{</span><span class="s">'metadata.my_id'</span><span class="p">:</span> <span class="s">'123ASDAsd123'</span><span class="p">}</span>

<span class="n">beyonic</span><span class="o">.</span><span class="n">CollectionRequest</span><span class="o">.</span><span class="n">create</span><span class="p">(</span><span class="n">phonenumber</span><span class="o">=</span><span class="s">'+256773712831'</span><span class="p">,</span>
                       <span class="n">amount</span><span class="o">=</span><span class="s">'1200'</span><span class="p">,</span>
                       <span class="n">currency</span><span class="o">=</span><span class="s">'UGX'</span><span class="p">,</span>
                       <span class="n">description</span><span class="o">=</span><span class="s">'Per diem'</span><span class="p">,</span>
                       <span class="n">callback_url</span><span class="o">=</span><span class="s">'https://my.website/payments/callback'</span><span class="p">,</span>
                       <span class="o">**</span><span class="n">kwargs</span>
                       <span class="p">)</span>
</code></pre>
<pre class="highlight java"><code><span class="kn">package</span> <span class="n">com</span><span class="o">.</span><span class="na">beyonic</span><span class="o">.</span><span class="na">examples</span><span class="o">.</span><span class="na">collectionrequests</span><span class="o">;</span>

<span class="kn">import</span> <span class="nn">org.json.JSONException</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">org.json.JSONObject</span><span class="o">;</span>

<span class="kn">import</span> <span class="nn">java.io.*</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.net.HttpURLConnection</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.net.URL</span><span class="o">;</span>

<span class="kd">public</span> <span class="kd">class</span> <span class="nc">CreateCollectionRequestExample</span> <span class="o">{</span>

    <span class="kd">private</span> <span class="kd">static</span> <span class="kd">final</span> <span class="n">String</span> <span class="n">API_ENDPOINT</span> <span class="o">=</span> <span class="s">"https://app.beyonic.com/api/collectionrequests"</span><span class="o">;</span>
    <span class="kd">private</span> <span class="kd">static</span> <span class="kd">final</span> <span class="n">String</span> <span class="n">API_KEY</span> <span class="o">=</span> <span class="s">"ab594c14986612f6167a975e1c369e71edab6900"</span><span class="o">;</span>
    <span class="kd">private</span> <span class="kd">static</span> <span class="kd">final</span> <span class="n">String</span> <span class="n">CHARSET</span> <span class="o">=</span> <span class="s">"UTF-8"</span><span class="o">;</span>
    <span class="kd">private</span> <span class="kd">static</span> <span class="kd">final</span> <span class="n">String</span> <span class="n">PHONE_NUMBER</span> <span class="o">=</span> <span class="s">"+256773712831"</span><span class="o">;</span>
    <span class="kd">private</span> <span class="kd">static</span> <span class="kd">final</span> <span class="n">String</span> <span class="n">CURRENCY</span> <span class="o">=</span> <span class="s">"UGX"</span><span class="o">;</span>
    <span class="kd">private</span> <span class="kd">static</span> <span class="kd">final</span> <span class="n">String</span> <span class="n">DESCRIPTION</span> <span class="o">=</span> <span class="s">"Per Diem"</span><span class="o">;</span>
    <span class="kd">private</span> <span class="kd">static</span> <span class="kd">final</span> <span class="n">String</span> <span class="n">AMOUNT</span> <span class="o">=</span> <span class="s">"1200"</span><span class="o">;</span>
    <span class="kd">private</span> <span class="kd">static</span> <span class="kd">final</span> <span class="n">String</span> <span class="n">CALLBACK_URL</span> <span class="o">=</span> <span class="s">"https://my.website/payments/callback"</span><span class="o">;;</span>

    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="n">main</span><span class="o">(</span><span class="n">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">){</span>
        <span class="n">URL</span> <span class="n">url</span> <span class="o">=</span> <span class="kc">null</span><span class="o">;</span>
        <span class="k">try</span> <span class="o">{</span>
            <span class="n">url</span> <span class="o">=</span> <span class="k">new</span> <span class="n">URL</span><span class="o">(</span><span class="n">API_ENDPOINT</span><span class="o">);</span>
            <span class="n">HttpURLConnection</span> <span class="n">conn</span> <span class="o">=</span> <span class="o">(</span><span class="n">HttpURLConnection</span><span class="o">)</span> <span class="n">url</span><span class="o">.</span><span class="na">openConnection</span><span class="o">();</span>

            <span class="n">conn</span><span class="o">.</span><span class="na">setRequestProperty</span><span class="o">(</span><span class="s">"Content-Type"</span><span class="o">,</span> <span class="s">"application/json"</span><span class="o">);</span>
            <span class="n">conn</span><span class="o">.</span><span class="na">setRequestProperty</span><span class="o">(</span><span class="s">"Accept"</span><span class="o">,</span> <span class="s">"application/json"</span><span class="o">);</span>
            <span class="n">conn</span><span class="o">.</span><span class="na">setRequestProperty</span><span class="o">(</span><span class="s">"charset"</span><span class="o">,</span> <span class="n">CHARSET</span><span class="o">);</span>
            <span class="n">conn</span><span class="o">.</span><span class="na">setRequestProperty</span><span class="o">(</span><span class="s">"Authorization"</span><span class="o">,</span> <span class="s">"Token "</span> <span class="o">+</span> <span class="n">API_KEY</span><span class="o">);</span>
            <span class="n">conn</span><span class="o">.</span><span class="na">setRequestMethod</span><span class="o">(</span><span class="s">"POST"</span><span class="o">);</span>
            <span class="n">conn</span><span class="o">.</span><span class="na">setDoOutput</span><span class="o">(</span><span class="kc">true</span><span class="o">);</span>
            <span class="n">conn</span><span class="o">.</span><span class="na">setDoInput</span><span class="o">(</span><span class="kc">true</span><span class="o">);</span>

            <span class="n">JSONObject</span> <span class="n">collectionRequestObject</span> <span class="o">=</span> <span class="n">createCollectionRequestObject</span><span class="o">();</span>

            <span class="n">BufferedWriter</span> <span class="n">out</span> <span class="o">=</span> <span class="k">new</span> <span class="n">BufferedWriter</span><span class="o">(</span><span class="k">new</span> <span class="n">OutputStreamWriter</span><span class="o">(</span><span class="n">conn</span><span class="o">.</span><span class="na">getOutputStream</span><span class="o">()));</span>
            <span class="n">out</span><span class="o">.</span><span class="na">write</span><span class="o">(</span><span class="n">collectionRequestObject</span><span class="o">.</span><span class="na">toString</span><span class="o">());</span>
            <span class="n">out</span><span class="o">.</span><span class="na">close</span><span class="o">();</span>

            <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">conn</span><span class="o">.</span><span class="na">getResponseCode</span><span class="o">()</span> <span class="o">+</span> <span class="s">" // "</span> <span class="o">+</span> <span class="n">conn</span><span class="o">.</span><span class="na">getResponseMessage</span><span class="o">());</span>

            <span class="kt">int</span> <span class="n">beyID</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span>
            <span class="k">try</span> <span class="o">{</span>
                <span class="k">if</span> <span class="o">(</span><span class="n">conn</span><span class="o">.</span><span class="na">getResponseCode</span><span class="o">()</span> <span class="o">==</span> <span class="mi">201</span><span class="o">)</span> <span class="o">{</span>
                    <span class="n">InputStream</span> <span class="n">inputStream</span> <span class="o">=</span> <span class="n">conn</span><span class="o">.</span><span class="na">getInputStream</span><span class="o">();</span>
                    <span class="n">BufferedReader</span> <span class="n">reader</span> <span class="o">=</span> <span class="k">new</span> <span class="n">BufferedReader</span><span class="o">(</span><span class="k">new</span> <span class="n">InputStreamReader</span><span class="o">(</span><span class="n">inputStream</span><span class="o">));</span>
                    <span class="n">String</span> <span class="n">response</span> <span class="o">=</span> <span class="n">reader</span><span class="o">.</span><span class="na">readLine</span><span class="o">();</span>
                    <span class="n">reader</span><span class="o">.</span><span class="na">close</span><span class="o">();</span>

                    <span class="n">JSONObject</span> <span class="n">obj</span> <span class="o">=</span> <span class="k">new</span> <span class="n">JSONObject</span><span class="o">(</span><span class="n">response</span><span class="o">);</span>
                    <span class="n">beyID</span> <span class="o">=</span> <span class="n">obj</span><span class="o">.</span><span class="na">getInt</span><span class="o">(</span><span class="s">"id"</span><span class="o">);</span>
                    <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"ID of created Collection Request: "</span> <span class="o">+</span> <span class="n">beyID</span><span class="o">);</span>
                <span class="o">}</span>
            <span class="o">}</span> <span class="k">finally</span> <span class="o">{</span>
                <span class="n">conn</span><span class="o">.</span><span class="na">disconnect</span><span class="o">();</span>
            <span class="o">}</span>

        <span class="o">}</span> <span class="k">catch</span> <span class="o">(</span><span class="n">Exception</span> <span class="n">e</span><span class="o">)</span> <span class="o">{</span>
            <span class="n">e</span><span class="o">.</span><span class="na">printStackTrace</span><span class="o">();</span>
        <span class="o">}</span>
    <span class="o">}</span>

    <span class="kd">private</span> <span class="kd">static</span> <span class="n">JSONObject</span> <span class="n">createCollectionRequestObject</span><span class="o">()</span> <span class="kd">throws</span> <span class="n">JSONException</span> <span class="o">{</span>
        <span class="n">JSONObject</span> <span class="n">collectionRequest</span> <span class="o">=</span> <span class="k">new</span> <span class="n">JSONObject</span><span class="o">();</span>
        <span class="n">collectionRequest</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="s">"phonenumber"</span><span class="o">,</span> <span class="n">PHONE_NUMBER</span><span class="o">);</span>
        <span class="n">collectionRequest</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="s">"amount"</span><span class="o">,</span> <span class="n">AMOUNT</span><span class="o">);</span>
        <span class="n">collectionRequest</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="s">"currency"</span><span class="o">,</span> <span class="n">CURRENCY</span><span class="o">);</span>
        <span class="n">collectionRequest</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="s">"description"</span><span class="o">,</span> <span class="n">DESCRIPTION</span><span class="o">);</span>
        <span class="n">collectionRequest</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="s">"callback_url"</span><span class="o">,</span> <span class="n">CALLBACK_URL</span><span class="o">);</span>
        <span class="k">return</span> <span class="n">collectionRequest</span><span class="o">;</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre>

<blockquote>
<p>Sample Response (JSON):</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
    </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">3620</span><span class="p">,</span><span class="w">
    </span><span class="nt">"organization"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nt">"amount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"30"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"UGX"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"phone_number"</span><span class="p">:</span><span class="w"> </span><span class="s2">"+256772781923"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"created"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2014-11-22T20:57:04.017Z"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"author"</span><span class="p">:</span><span class="w"> </span><span class="mi">15</span><span class="p">,</span><span class="w">
    </span><span class="nt">"modified"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2014-11-22T20:57:04.018Z"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"updated_by"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
</span><span class="err">}</span><span class="w">
</span></code></pre>

<p>To create a new collection request, make a POST to the endpoint above, with the attributes below.</p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Required</th>
<th>Type</th>
<th>Example</th>
<th>Notes</th>
</tr>
</thead><tbody>
<tr>
<td>phonenumber</td>
<td>Yes</td>
<td>String</td>
<td>+256773712831</td>
<td>Must be in international format</td>
</tr>
<tr>
<td>first_name</td>
<td>No</td>
<td>String</td>
<td>Luke</td>
<td>Optional subscriber first name - if omitted, the first name will be set to &lsquo;Anonymous&rsquo;</td>
</tr>
<tr>
<td>last_name</td>
<td>No</td>
<td>String</td>
<td>Woods</td>
<td>Optional subscriber last name - if omitted, the last name will be set to &#39;Contact&rsquo;</td>
</tr>
<tr>
<td>amount</td>
<td>Yes</td>
<td>String, Integer or Decimal</td>
<td>3000</td>
<td>Do not include thousands separators</td>
</tr>
<tr>
<td>currency</td>
<td>Yes</td>
<td>String</td>
<td>UGX</td>
<td>3 letter ISO currency code. No currency conversion is done, so the currency must be valid for the selected phonenumber. You must have funded Beyonic an account in this currency. If your account for this currency has zero balance, your payment will fail.</td>
</tr>
<tr>
<td>reason</td>
<td>No</td>
<td>String</td>
<td>Transaction Fees</td>
<td>Internal description or reason for this collection request</td>
</tr>
<tr>
<td>metadata</td>
<td>No</td>
<td>JSON String</td>
<td>&ldquo;{&#39;my_id&rsquo;: &#39;123ASDAsd123&rsquo;}&rdquo;</td>
<td>Custom attributes to store with this object. See the Metadata section for more information.</td>
</tr>
<tr>
<td>success_message</td>
<td>No</td>
<td>String (Max 140 characters)</td>
<td>&ldquo;Thank you for your payment!&rdquo;</td>
<td><em>New in V2.</em> This message will be sent via SMS to the subscriber when they make a payment for this collection request. &rsquo;-Powered by Beyonic&rsquo; shall be appended to this message. If you leave this message out, a default message shall be sent by Beyonic. You can include {amount} and {customer} placeholders - these will be replaced with the amount and customer name or number details before the message is sent.</td>
</tr>
<tr>
<td>send_instructions</td>
<td>No</td>
<td>Boolean</td>
<td>False</td>
<td><em>New in V2.</em> Defaults to True. Indicates whether we should send payment instructions to the subscriber via SMS. This value may be ignored on some networks that have alternative ways of notifying the subscriber of pending payment requests.</td>
</tr>
<tr>
<td>instructions</td>
<td>No</td>
<td>String (Max 140 characters)</td>
<td>&ldquo;Use #1234 as the reference&rdquo;</td>
<td><em>New in V2.</em> Allows overriding of the default instructions sent to the subscriber. This value may be ignored on some networks that have alternative ways of notifying the subscriber of pending payment requests.</td>
</tr>
</tbody></table>

<h2 id="retrieving-a-single-collection-request">Retrieving a single collection request</h2>

<blockquote>
<p>Sample Request:</p>
</blockquote>
<pre class="highlight shell"><code>curl https://app.beyonic.com/api/collectionrequests/230 -H <span class="s2">"Authorization: Token ab594c14986612f6167a975e1c369e71edab6900"</span>
</code></pre>
<pre class="highlight ruby"><code><span class="nb">require</span> <span class="s1">'beyonic'</span>
<span class="no">Beyonic</span><span class="p">.</span><span class="nf">api_key</span> <span class="o">=</span> <span class="s1">'ab594c14986612f6167a975e1c369e71edab6900'</span>

<span class="n">collection</span> <span class="o">=</span> <span class="no">Beyonic</span><span class="o">::</span><span class="no">CollectionRequest</span><span class="p">.</span><span class="nf">get</span><span class="p">(</span><span class="mi">23</span><span class="p">)</span>
</code></pre>
<pre class="highlight php"><code><span class="cp">&lt;?php</span>
<span class="k">require_once</span><span class="p">(</span><span class="s1">'./lib/Beyonic.php'</span><span class="p">);</span>
<span class="nx">Beyonic</span><span class="o">::</span><span class="na">setApiKey</span><span class="p">(</span><span class="s2">"ab594c14986612f6167a975e1c369e71edab6900"</span><span class="p">);</span>

<span class="nv">$collection</span> <span class="o">=</span> <span class="nx">Beyonic_Collection_Request</span><span class="o">::</span><span class="na">get</span><span class="p">(</span><span class="mi">23</span><span class="p">);</span>
<span class="cp">?&gt;</span>
</code></pre>
<pre class="highlight python"><code><span class="kn">import</span> <span class="nn">beyonic</span>
<span class="n">beyonic</span><span class="o">.</span><span class="n">api_key</span> <span class="o">=</span> <span class="s">'ab594c14986612f6167a975e1c369e71edab6900'</span>

<span class="n">collection</span> <span class="o">=</span> <span class="n">beyonic</span><span class="o">.</span><span class="n">CollectionRequest</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="mi">23</span><span class="p">)</span>

</code></pre>
<pre class="highlight java"><code><span class="kn">package</span> <span class="n">com</span><span class="o">.</span><span class="na">beyonic</span><span class="o">.</span><span class="na">examples</span><span class="o">.</span><span class="na">collectionrequests</span><span class="o">;</span>

<span class="kn">import</span> <span class="nn">java.io.BufferedReader</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.io.InputStream</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.io.InputStreamReader</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.net.HttpURLConnection</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.net.URL</span><span class="o">;</span>


<span class="kd">public</span> <span class="kd">class</span> <span class="nc">SingleCollectionRequestExample</span> <span class="o">{</span>

    <span class="kd">private</span> <span class="kd">static</span> <span class="kd">final</span> <span class="n">String</span> <span class="n">API_ENDPOINT</span> <span class="o">=</span> <span class="s">"https://app.beyonic.com/api/collectionrequests"</span><span class="o">;</span>
    <span class="kd">private</span> <span class="kd">static</span> <span class="kd">final</span> <span class="n">String</span> <span class="n">API_KEY</span> <span class="o">=</span> <span class="s">"ab594c14986612f6167a975e1c369e71edab6900"</span><span class="o">;</span>
    <span class="kd">private</span> <span class="kd">static</span> <span class="kd">final</span> <span class="n">String</span> <span class="n">CHARSET</span> <span class="o">=</span> <span class="s">"UTF-8"</span><span class="o">;</span>

    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="n">main</span><span class="o">(</span><span class="n">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">){</span>
        <span class="n">URL</span> <span class="n">url</span> <span class="o">=</span> <span class="kc">null</span><span class="o">;</span>
        <span class="k">try</span> <span class="o">{</span>
            <span class="n">url</span> <span class="o">=</span> <span class="k">new</span> <span class="n">URL</span><span class="o">(</span><span class="n">API_ENDPOINT</span> <span class="o">+</span> <span class="s">"/1"</span><span class="o">);</span>
            <span class="n">HttpURLConnection</span> <span class="n">conn</span> <span class="o">=</span> <span class="o">(</span><span class="n">HttpURLConnection</span><span class="o">)</span> <span class="n">url</span><span class="o">.</span><span class="na">openConnection</span><span class="o">();</span>

            <span class="n">conn</span><span class="o">.</span><span class="na">setRequestProperty</span><span class="o">(</span><span class="s">"Content-Type"</span><span class="o">,</span> <span class="s">"application/json"</span><span class="o">);</span>
            <span class="n">conn</span><span class="o">.</span><span class="na">setRequestProperty</span><span class="o">(</span><span class="s">"Accept"</span><span class="o">,</span> <span class="s">"application/json"</span><span class="o">);</span>
            <span class="n">conn</span><span class="o">.</span><span class="na">setRequestProperty</span><span class="o">(</span><span class="s">"charset"</span><span class="o">,</span> <span class="n">CHARSET</span><span class="o">);</span>
            <span class="n">conn</span><span class="o">.</span><span class="na">setRequestProperty</span><span class="o">(</span><span class="s">"Authorization"</span><span class="o">,</span> <span class="s">"Token "</span> <span class="o">+</span> <span class="n">API_KEY</span><span class="o">);</span>

            <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">conn</span><span class="o">.</span><span class="na">getResponseCode</span><span class="o">()</span> <span class="o">+</span> <span class="s">" // "</span> <span class="o">+</span> <span class="n">conn</span><span class="o">.</span><span class="na">getResponseMessage</span><span class="o">());</span>

            <span class="k">try</span> <span class="o">{</span>
                <span class="k">if</span> <span class="o">(</span><span class="n">conn</span><span class="o">.</span><span class="na">getResponseCode</span><span class="o">()</span> <span class="o">==</span> <span class="mi">200</span><span class="o">)</span> <span class="o">{</span>
                    <span class="n">InputStream</span> <span class="n">inputStream</span> <span class="o">=</span> <span class="n">conn</span><span class="o">.</span><span class="na">getInputStream</span><span class="o">();</span>
                    <span class="n">BufferedReader</span> <span class="n">reader</span> <span class="o">=</span> <span class="k">new</span> <span class="n">BufferedReader</span><span class="o">(</span><span class="k">new</span> <span class="n">InputStreamReader</span><span class="o">(</span><span class="n">inputStream</span><span class="o">));</span>
                    <span class="n">String</span> <span class="n">response</span> <span class="o">=</span> <span class="n">reader</span><span class="o">.</span><span class="na">readLine</span><span class="o">();</span>
                    <span class="n">reader</span><span class="o">.</span><span class="na">close</span><span class="o">();</span>

                    <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">response</span><span class="o">);</span>
                <span class="o">}</span>
            <span class="o">}</span> <span class="k">finally</span> <span class="o">{</span>
                <span class="n">conn</span><span class="o">.</span><span class="na">disconnect</span><span class="o">();</span>
            <span class="o">}</span>

        <span class="o">}</span> <span class="k">catch</span> <span class="o">(</span><span class="n">Exception</span> <span class="n">e</span><span class="o">)</span> <span class="o">{</span>
            <span class="n">e</span><span class="o">.</span><span class="na">printStackTrace</span><span class="o">();</span>
        <span class="o">}</span>
    <span class="o">}</span>

<span class="o">}</span>
</code></pre>

<blockquote>
<p>Sample Response (JSON):</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
    </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">230</span><span class="p">,</span><span class="w">
    </span><span class="nt">"organization"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nt">"amount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"30"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"UGX"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"phone_number"</span><span class="p">:</span><span class="w"> </span><span class="s2">"+256772781923"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"created"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2014-11-22T20:57:04.017Z"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"author"</span><span class="p">:</span><span class="w"> </span><span class="mi">15</span><span class="p">,</span><span class="w">
    </span><span class="nt">"modified"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2014-11-22T20:57:04.018Z"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"updated_by"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
</span><span class="err">}</span><span class="w">
</span></code></pre>

<p>To retrieve a single collection request, provide the collection request id and a collection request object will be returned.</p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Required</th>
<th>Type</th>
<th>Example</th>
<th>Notes</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>Yes</td>
<td>Integer</td>
<td>23</td>
<td>The id of the collection you want to retrieve</td>
</tr>
</tbody></table>

<h2 id="listing-all-collection-requests">Listing all collection requests</h2>

<blockquote>
<p>Sample Request:</p>
</blockquote>
<pre class="highlight shell"><code>curl https://app.beyonic.com/api/collectionrequests -H <span class="s2">"Authorization: Token ab594c14986612f6167a975e1c369e71edab6900"</span>
</code></pre>
<pre class="highlight ruby"><code><span class="nb">require</span> <span class="s1">'beyonic'</span>
<span class="no">Beyonic</span><span class="p">.</span><span class="nf">api_key</span> <span class="o">=</span> <span class="s1">'ab594c14986612f6167a975e1c369e71edab6900'</span>

<span class="n">collection</span> <span class="o">=</span> <span class="no">Beyonic</span><span class="o">::</span><span class="no">CollectionRequest</span><span class="p">.</span><span class="nf">list</span>
</code></pre>
<pre class="highlight php"><code><span class="cp">&lt;?php</span>
<span class="k">require_once</span><span class="p">(</span><span class="s1">'./lib/Beyonic.php'</span><span class="p">);</span>
<span class="nx">Beyonic</span><span class="o">::</span><span class="na">setApiKey</span><span class="p">(</span><span class="s2">"ab594c14986612f6167a975e1c369e71edab6900"</span><span class="p">);</span>

<span class="nv">$collection</span> <span class="o">=</span> <span class="nx">Beyonic_Collection_Request</span><span class="o">::</span><span class="na">getAll</span><span class="p">();</span>
<span class="cp">?&gt;</span>
</code></pre>
<pre class="highlight python"><code><span class="kn">import</span> <span class="nn">beyonic</span>
<span class="n">beyonic</span><span class="o">.</span><span class="n">api_key</span> <span class="o">=</span> <span class="s">'ab594c14986612f6167a975e1c369e71edab6900'</span>

<span class="n">collection</span> <span class="o">=</span> <span class="n">beyonic</span><span class="o">.</span><span class="n">CollectionRequest</span><span class="o">.</span><span class="nb">list</span><span class="p">()</span>

</code></pre>
<pre class="highlight java"><code><span class="kn">package</span> <span class="n">com</span><span class="o">.</span><span class="na">beyonic</span><span class="o">.</span><span class="na">examples</span><span class="o">.</span><span class="na">collectionrequests</span><span class="o">;</span>

<span class="kn">import</span> <span class="nn">java.io.BufferedReader</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.io.InputStream</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.io.InputStreamReader</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.net.HttpURLConnection</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.net.URL</span><span class="o">;</span>

<span class="kd">public</span> <span class="kd">class</span> <span class="nc">ListAllCollectionRequestsExample</span> <span class="o">{</span>

    <span class="kd">private</span> <span class="kd">static</span> <span class="kd">final</span> <span class="n">String</span> <span class="n">API_ENDPOINT</span> <span class="o">=</span> <span class="s">"https://app.beyonic.com/api/collectionrequests"</span><span class="o">;</span>
    <span class="kd">private</span> <span class="kd">static</span> <span class="kd">final</span> <span class="n">String</span> <span class="n">API_KEY</span> <span class="o">=</span> <span class="s">"ab594c14986612f6167a975e1c369e71edab6900"</span><span class="o">;</span>
    <span class="kd">private</span> <span class="kd">static</span> <span class="kd">final</span> <span class="n">String</span> <span class="n">CHARSET</span> <span class="o">=</span> <span class="s">"UTF-8"</span><span class="o">;</span>

    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="n">main</span><span class="o">(</span><span class="n">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">){</span>
        <span class="n">URL</span> <span class="n">url</span> <span class="o">=</span> <span class="kc">null</span><span class="o">;</span>
        <span class="k">try</span> <span class="o">{</span>
            <span class="n">url</span> <span class="o">=</span> <span class="k">new</span> <span class="n">URL</span><span class="o">(</span><span class="n">API_ENDPOINT</span><span class="o">);</span>
            <span class="n">HttpURLConnection</span> <span class="n">conn</span> <span class="o">=</span> <span class="o">(</span><span class="n">HttpURLConnection</span><span class="o">)</span> <span class="n">url</span><span class="o">.</span><span class="na">openConnection</span><span class="o">();</span>

            <span class="n">conn</span><span class="o">.</span><span class="na">setRequestProperty</span><span class="o">(</span><span class="s">"Content-Type"</span><span class="o">,</span> <span class="s">"application/json"</span><span class="o">);</span>
            <span class="n">conn</span><span class="o">.</span><span class="na">setRequestProperty</span><span class="o">(</span><span class="s">"Accept"</span><span class="o">,</span> <span class="s">"application/json"</span><span class="o">);</span>
            <span class="n">conn</span><span class="o">.</span><span class="na">setRequestProperty</span><span class="o">(</span><span class="s">"charset"</span><span class="o">,</span> <span class="n">CHARSET</span><span class="o">);</span>
            <span class="n">conn</span><span class="o">.</span><span class="na">setRequestProperty</span><span class="o">(</span><span class="s">"Authorization"</span><span class="o">,</span> <span class="s">"Token "</span> <span class="o">+</span> <span class="n">API_KEY</span><span class="o">);</span>

            <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">conn</span><span class="o">.</span><span class="na">getResponseCode</span><span class="o">()</span> <span class="o">+</span> <span class="s">" // "</span> <span class="o">+</span> <span class="n">conn</span><span class="o">.</span><span class="na">getResponseMessage</span><span class="o">());</span>

            <span class="k">try</span> <span class="o">{</span>
                <span class="k">if</span> <span class="o">(</span><span class="n">conn</span><span class="o">.</span><span class="na">getResponseCode</span><span class="o">()</span> <span class="o">==</span> <span class="mi">200</span><span class="o">)</span> <span class="o">{</span>
                    <span class="n">InputStream</span> <span class="n">inputStream</span> <span class="o">=</span> <span class="n">conn</span><span class="o">.</span><span class="na">getInputStream</span><span class="o">();</span>
                    <span class="n">BufferedReader</span> <span class="n">reader</span> <span class="o">=</span> <span class="k">new</span> <span class="n">BufferedReader</span><span class="o">(</span><span class="k">new</span> <span class="n">InputStreamReader</span><span class="o">(</span><span class="n">inputStream</span><span class="o">));</span>
                    <span class="n">String</span> <span class="n">response</span> <span class="o">=</span> <span class="n">reader</span><span class="o">.</span><span class="na">readLine</span><span class="o">();</span>
                    <span class="n">reader</span><span class="o">.</span><span class="na">close</span><span class="o">();</span>

                    <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">response</span><span class="o">);</span>
                <span class="o">}</span>
            <span class="o">}</span> <span class="k">finally</span> <span class="o">{</span>
                <span class="n">conn</span><span class="o">.</span><span class="na">disconnect</span><span class="o">();</span>
            <span class="o">}</span>

        <span class="o">}</span> <span class="k">catch</span> <span class="o">(</span><span class="n">Exception</span> <span class="n">e</span><span class="o">)</span> <span class="o">{</span>
            <span class="n">e</span><span class="o">.</span><span class="na">printStackTrace</span><span class="o">();</span>
        <span class="o">}</span>
    <span class="o">}</span>

<span class="o">}</span>
</code></pre>

<blockquote>
<p>Sample Response (JSON)</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
    </span><span class="nt">"count"</span><span class="p">:</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w">
    </span><span class="nt">"next"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://localhost:8000/api/collectionrequests?offset=10"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"previous"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nt">"results"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">99</span><span class="p">,</span><span class="w">
            </span><span class="nt">"organization"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Beyonic"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"amount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"3000.0000"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"UGX"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"phonenumber"</span><span class="p">:</span><span class="w"> </span><span class="s2">"+256772781923"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"metadata"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
            </span><span class="nt">"created"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-08-10T16:10:01Z"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"author"</span><span class="p">:</span><span class="w"> </span><span class="mi">42</span><span class="p">,</span><span class="w">
            </span><span class="nt">"modified"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-08-10T16:10:01Z"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"updated_by"</span><span class="p">:</span><span class="w"> </span><span class="mi">42</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">100</span><span class="p">,</span><span class="w">
            </span><span class="nt">"organization"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Beyonic"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"amount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"3000.0000"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"UGX"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"phonenumber"</span><span class="p">:</span><span class="w"> </span><span class="s2">"+256772781923"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"metadata"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
            </span><span class="nt">"created"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-08-10T16:10:01Z"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"author"</span><span class="p">:</span><span class="w"> </span><span class="mi">42</span><span class="p">,</span><span class="w">
            </span><span class="nt">"modified"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-08-10T16:10:01Z"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"updated_by"</span><span class="p">:</span><span class="w"> </span><span class="mi">42</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">101</span><span class="p">,</span><span class="w">
            </span><span class="nt">"organization"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Beyonic"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"amount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"3000.0000"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"UGX"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"phonenumber"</span><span class="p">:</span><span class="w"> </span><span class="s2">"+256772781923"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"metadata"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
            </span><span class="nt">"created"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-08-10T16:10:01Z"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"author"</span><span class="p">:</span><span class="w"> </span><span class="mi">42</span><span class="p">,</span><span class="w">
            </span><span class="nt">"modified"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-08-10T16:10:01Z"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"updated_by"</span><span class="p">:</span><span class="w"> </span><span class="mi">42</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>To retrieve a list of all collections, make a GET request to the collections endpoint. This will return a list of collection objects.</p>

<h2 id="filtering-collection-requests">Filtering collection requests</h2>

<blockquote>
<p>Sample Request:</p>
</blockquote>
<pre class="highlight shell"><code>curl https://app.beyonic.com/api/collectionrequests?remote_transaction_id<span class="o">=</span>12345&amp;amount<span class="o">=</span>500 -H <span class="s2">"Authorization: Token ab594c14986612f6167a975e1c369e71edab6900"</span>
</code></pre>
<pre class="highlight ruby"><code><span class="nb">require</span> <span class="s1">'beyonic'</span>
<span class="no">Beyonic</span><span class="p">.</span><span class="nf">api_key</span> <span class="o">=</span> <span class="s1">'ab594c14986612f6167a975e1c369e71edab6900'</span>

<span class="n">collection</span> <span class="o">=</span> <span class="no">Beyonic</span><span class="o">::</span><span class="no">CollectionRequest</span><span class="p">.</span><span class="nf">list</span><span class="p">(</span>
  <span class="ss">remote_transaction_id: </span><span class="s1">'12345'</span><span class="p">,</span>
  <span class="ss">amount: </span><span class="mi">500</span>
<span class="p">)</span>
</code></pre>
<pre class="highlight php"><code><span class="cp">&lt;?php</span>
<span class="k">require_once</span><span class="p">(</span><span class="s1">'./lib/Beyonic.php'</span><span class="p">);</span>
<span class="nx">Beyonic</span><span class="o">::</span><span class="na">setApiKey</span><span class="p">(</span><span class="s2">"ab594c14986612f6167a975e1c369e71edab6900"</span><span class="p">);</span>

<span class="nv">$collection</span> <span class="o">=</span> <span class="nx">Beyonic_Collection_Request</span><span class="o">::</span><span class="na">getAll</span><span class="p">(</span><span class="k">array</span><span class="p">(</span>
  <span class="s2">"remote_transaction_id"</span> <span class="o">=&gt;</span> <span class="s2">"12345"</span><span class="p">,</span>
  <span class="s2">"amount"</span> <span class="o">=&gt;</span> <span class="mi">500</span>
<span class="p">));</span>
<span class="cp">?&gt;</span>
</code></pre>
<pre class="highlight python"><code><span class="kn">import</span> <span class="nn">beyonic</span>
<span class="n">beyonic</span><span class="o">.</span><span class="n">api_key</span> <span class="o">=</span> <span class="s">'ab594c14986612f6167a975e1c369e71edab6900'</span>

<span class="n">collection</span> <span class="o">=</span> <span class="n">beyonic</span><span class="o">.</span><span class="n">CollectionRequest</span><span class="o">.</span><span class="nb">list</span><span class="p">(</span><span class="n">remote_transaction_id</span><span class="o">=</span><span class="s">'12345'</span><span class="p">,</span> <span class="n">amount</span><span class="o">=</span><span class="mi">500</span><span class="p">)</span>

</code></pre>
<pre class="highlight java"><code><span class="kn">package</span> <span class="n">com</span><span class="o">.</span><span class="na">beyonic</span><span class="o">.</span><span class="na">examples</span><span class="o">.</span><span class="na">collectionrequests</span><span class="o">;</span>

<span class="kn">import</span> <span class="nn">java.io.BufferedReader</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.io.InputStream</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.io.InputStreamReader</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.net.HttpURLConnection</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.net.URL</span><span class="o">;</span>

<span class="kd">public</span> <span class="kd">class</span> <span class="nc">FilterCollectionRequestsExample</span> <span class="o">{</span>

    <span class="kd">private</span> <span class="kd">static</span> <span class="kd">final</span> <span class="n">String</span> <span class="n">API_ENDPOINT</span> <span class="o">=</span> <span class="s">"https://app.beyonic.com/api/collections"</span><span class="o">;</span>
    <span class="kd">private</span> <span class="kd">static</span> <span class="kd">final</span> <span class="n">String</span> <span class="n">API_KEY</span> <span class="o">=</span> <span class="s">"ab594c14986612f6167a975e1c369e71edab6900"</span><span class="o">;</span>
    <span class="kd">private</span> <span class="kd">static</span> <span class="kd">final</span> <span class="n">String</span> <span class="n">CHARSET</span> <span class="o">=</span> <span class="s">"UTF-8"</span><span class="o">;</span>

    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="n">main</span><span class="o">(</span><span class="n">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">){</span>
        <span class="n">URL</span> <span class="n">url</span> <span class="o">=</span> <span class="kc">null</span><span class="o">;</span>
        <span class="k">try</span> <span class="o">{</span>
            <span class="n">url</span> <span class="o">=</span> <span class="k">new</span> <span class="n">URL</span><span class="o">(</span><span class="n">API_ENDPOINT</span> <span class="o">+</span> <span class="s">"?remote_transaction_id=SS12312&amp;amount=500"</span><span class="o">);</span>
            <span class="n">HttpURLConnection</span> <span class="n">conn</span> <span class="o">=</span> <span class="o">(</span><span class="n">HttpURLConnection</span><span class="o">)</span> <span class="n">url</span><span class="o">.</span><span class="na">openConnection</span><span class="o">();</span>

            <span class="n">conn</span><span class="o">.</span><span class="na">setRequestProperty</span><span class="o">(</span><span class="s">"Content-Type"</span><span class="o">,</span> <span class="s">"application/json"</span><span class="o">);</span>
            <span class="n">conn</span><span class="o">.</span><span class="na">setRequestProperty</span><span class="o">(</span><span class="s">"Accept"</span><span class="o">,</span> <span class="s">"application/json"</span><span class="o">);</span>
            <span class="n">conn</span><span class="o">.</span><span class="na">setRequestProperty</span><span class="o">(</span><span class="s">"charset"</span><span class="o">,</span> <span class="n">CHARSET</span><span class="o">);</span>
            <span class="n">conn</span><span class="o">.</span><span class="na">setRequestProperty</span><span class="o">(</span><span class="s">"Authorization"</span><span class="o">,</span> <span class="s">"Token "</span> <span class="o">+</span> <span class="n">API_KEY</span><span class="o">);</span>

            <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">conn</span><span class="o">.</span><span class="na">getResponseCode</span><span class="o">()</span> <span class="o">+</span> <span class="s">" // "</span> <span class="o">+</span> <span class="n">conn</span><span class="o">.</span><span class="na">getResponseMessage</span><span class="o">());</span>

            <span class="k">try</span> <span class="o">{</span>
                <span class="k">if</span> <span class="o">(</span><span class="n">conn</span><span class="o">.</span><span class="na">getResponseCode</span><span class="o">()</span> <span class="o">==</span> <span class="mi">200</span><span class="o">)</span> <span class="o">{</span>
                    <span class="n">InputStream</span> <span class="n">inputStream</span> <span class="o">=</span> <span class="n">conn</span><span class="o">.</span><span class="na">getInputStream</span><span class="o">();</span>
                    <span class="n">BufferedReader</span> <span class="n">reader</span> <span class="o">=</span> <span class="k">new</span> <span class="n">BufferedReader</span><span class="o">(</span><span class="k">new</span> <span class="n">InputStreamReader</span><span class="o">(</span><span class="n">inputStream</span><span class="o">));</span>
                    <span class="n">String</span> <span class="n">response</span> <span class="o">=</span> <span class="n">reader</span><span class="o">.</span><span class="na">readLine</span><span class="o">();</span>
                    <span class="n">reader</span><span class="o">.</span><span class="na">close</span><span class="o">();</span>

                    <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">response</span><span class="o">);</span>
                <span class="o">}</span>
            <span class="o">}</span> <span class="k">finally</span> <span class="o">{</span>
                <span class="n">conn</span><span class="o">.</span><span class="na">disconnect</span><span class="o">();</span>
            <span class="o">}</span>

        <span class="o">}</span> <span class="k">catch</span> <span class="o">(</span><span class="n">Exception</span> <span class="n">e</span><span class="o">)</span> <span class="o">{</span>
            <span class="n">e</span><span class="o">.</span><span class="na">printStackTrace</span><span class="o">();</span>
        <span class="o">}</span>
    <span class="o">}</span>

<span class="o">}</span>
</code></pre>

<p>You can search or filter collection requests on the following fields. Simply add them to your request as shown in the examples. You can combine multiple filters. Note that filters return exact matches only. (The phonenumber field is treated differently - see below).</p>

<ul>
<li>amount - the transaction amount</li>
<li>currency - the currency code</li>
<li>collection - the ID of the collection that fulfilled or matched this collection request</li>
<li>phonenumber - the phonenumber that the collection request was intended for. Note that the phonenumber will be matched in international format, starting with a &rsquo;+&rsquo; sign. If the &rsquo;+&rsquo; sign isn&rsquo;t included in your request, it will be appended before attempting to match your request.</li>
<li>remote_transaction_id - the transation id or transaction reference of the collection on the mobile network operator&rsquo;s side</li>
</ul>

          <h1 id="contacts">Contacts</h1>

<h2 id="introduction">Introduction</h2>

<p>Contacts represent people whom you can send payments to, or receive payments from. The contacts api method allows you to add, retrieve, list and update contacts in your Beyonic account. Contacts are also added automatically whenever you send a payment to a new phone number.</p>

<p>The contacts api endpoint is:
    <aside class="notice">https://app.beyonic.com/api/contacts</aside></p>

<h2 id="the-contact-object">The contact object</h2>

<table><thead>
<tr>
<th>Field</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>long integer</td>
<td>Unique object identifier</td>
</tr>
<tr>
<td>organization</td>
<td>long integer</td>
<td>The ID of the organization that the contact belongs to. (This is usually your organization ID)</td>
</tr>
<tr>
<td>first_name</td>
<td>string</td>
<td>The contact&rsquo;s first name</td>
</tr>
<tr>
<td>last_name</td>
<td>string</td>
<td>The contact&rsquo;s last name</td>
</tr>
<tr>
<td>email</td>
<td>string</td>
<td>The contact&rsquo;s email address</td>
</tr>
<tr>
<td>phone_number</td>
<td>string</td>
<td>The contact&rsquo;s phone number, in international format, starting with a +</td>
</tr>
<tr>
<td>type</td>
<td>string</td>
<td>The contact&rsquo;s type, as set in the system. One of: employee, beneficiary, vendor, other OR a custom string</td>
</tr>
<tr>
<td>status</td>
<td>string</td>
<td>The contact&rsquo;s status. One of: active or inactive</td>
</tr>
<tr>
<td>metadata</td>
<td>hash</td>
<td>Any custom metadata that was added to the contact object at creation time</td>
</tr>
<tr>
<td>created</td>
<td>string</td>
<td>The date that the contact was created, in the UTC timezone. Format: &ldquo;YYYY-MM-DDTHH:MM:SSZ&rdquo;</td>
</tr>
<tr>
<td>author</td>
<td>long integer</td>
<td>The ID of the user who created the contact</td>
</tr>
<tr>
<td>modified</td>
<td>string</td>
<td>The date that the contact was last modified, in the UTC timezone. Format: &ldquo;YYYY-MM-DDTHH:MM:SSZ&rdquo;</td>
</tr>
<tr>
<td>updated_by</td>
<td>string</td>
<td>The ID of the user who last updated the contact</td>
</tr>
</tbody></table>

<h2 id="creating-a-new-contact">Creating a new contact</h2>

<blockquote>
<p>Sample Request:</p>
</blockquote>
<pre class="highlight shell"><code>curl https://app.beyonic.com/api/contacts -H <span class="s2">"Authorization: Token ab594c14986612f6167a975e1c369e71edab6900"</span> <span class="se">\</span>
-d <span class="nv">first_name</span><span class="o">=</span><span class="s1">'John'</span> <span class="se">\</span>
-d <span class="nv">last_name</span><span class="o">=</span><span class="s1">'Doe'</span> <span class="se">\</span>
-d <span class="nv">phone_number</span><span class="o">=</span><span class="s1">'+256712954253'</span> <span class="se">\</span>
-d <span class="nv">email</span><span class="o">=</span><span class="s1">'john.doe@beyonic.com'</span> <span class="se">\</span>
-d metadata.my_id<span class="o">=</span><span class="s1">'123ASDAsd123'</span>
</code></pre>
<pre class="highlight ruby"><code><span class="nb">require</span> <span class="s1">'beyonic'</span>
<span class="no">Beyonic</span><span class="p">.</span><span class="nf">api_key</span> <span class="o">=</span> <span class="s1">'ab594c14986612f6167a975e1c369e71edab6900'</span>

<span class="n">contact</span> <span class="o">=</span> <span class="no">Beyonic</span><span class="o">::</span><span class="no">Contact</span><span class="p">.</span><span class="nf">create</span><span class="p">(</span>
    <span class="ss">phone_number: </span><span class="s2">"+256773712831"</span><span class="p">,</span>
    <span class="ss">first_name: </span><span class="s2">"John"</span><span class="p">,</span>
    <span class="ss">last_name: </span><span class="s2">"Doe"</span><span class="p">,</span>
    <span class="ss">email: </span><span class="s2">"john.doe@beyonic.com"</span><span class="p">,</span>
    <span class="s1">'metadata.my_id'</span><span class="p">:</span> <span class="s2">"123ASDAsd123"</span>
<span class="p">)</span>
</code></pre>
<pre class="highlight php"><code><span class="cp">&lt;?php</span>
<span class="k">require_once</span><span class="p">(</span><span class="s1">'./lib/Beyonic.php'</span><span class="p">);</span>
<span class="nx">Beyonic</span><span class="o">::</span><span class="na">setApiKey</span><span class="p">(</span><span class="s2">"ab594c14986612f6167a975e1c369e71edab6900"</span><span class="p">);</span>

<span class="nx">Beyonic_Contact</span><span class="o">::</span><span class="na">create</span><span class="p">(</span><span class="k">array</span><span class="p">(</span>
  <span class="s2">"phone_number"</span> <span class="o">=&gt;</span> <span class="s2">"+256773712831"</span><span class="p">,</span>
  <span class="s2">"first_name"</span> <span class="o">=&gt;</span> <span class="s2">"John"</span><span class="p">,</span>
  <span class="s2">"last_name"</span> <span class="o">=&gt;</span> <span class="s2">"Doe"</span><span class="p">,</span>
  <span class="s2">"email"</span> <span class="o">=&gt;</span> <span class="s2">"john.doe@beyonic.com"</span><span class="p">,</span>
  <span class="s2">"metadata.my_id"</span> <span class="o">=&gt;</span> <span class="s2">"123ASDAsd123"</span>
<span class="p">));</span>
<span class="cp">?&gt;</span>
</code></pre>
<pre class="highlight python"><code><span class="kn">import</span> <span class="nn">beyonic</span>
<span class="n">beyonic</span><span class="o">.</span><span class="n">api_key</span> <span class="o">=</span> <span class="s">'ab594c14986612f6167a975e1c369e71edab6900'</span>

<span class="n">kwargs</span> <span class="o">=</span> <span class="p">{</span><span class="s">'metadata.my_id'</span><span class="p">:</span> <span class="s">'123ASDAsd123'</span><span class="p">}</span>

<span class="n">beyonic</span><span class="o">.</span><span class="n">Contact</span><span class="o">.</span><span class="n">create</span><span class="p">(</span><span class="n">phone_number</span><span class="o">=</span><span class="s">'+256773712831'</span><span class="p">,</span>
                       <span class="n">first_name</span><span class="o">=</span><span class="s">'John'</span><span class="p">,</span>
                       <span class="n">last_name</span><span class="o">=</span><span class="s">'Doe'</span><span class="p">,</span>
                       <span class="n">email</span><span class="o">=</span><span class="s">'john.doe@beyonic.com'</span><span class="p">,</span>
                       <span class="o">**</span><span class="n">kwargs</span>
                       <span class="p">)</span>
</code></pre>
<pre class="highlight java"><code><span class="kn">package</span> <span class="n">com</span><span class="o">.</span><span class="na">beyonic</span><span class="o">.</span><span class="na">examples</span><span class="o">.</span><span class="na">contacts</span>

<span class="kn">import</span> <span class="nn">org.json.JSONException</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">org.json.JSONObject</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.io.*</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.net.HttpURLConnection</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.net.URL</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">static</span> <span class="n">org</span><span class="o">.</span><span class="na">junit</span><span class="o">.</span><span class="na">Assert</span><span class="o">.</span><span class="na">assertTrue</span><span class="o">;</span>

<span class="kd">public</span> <span class="kd">class</span> <span class="nc">CreateContactExample</span> <span class="o">{</span>

    <span class="kd">private</span> <span class="kd">static</span> <span class="kd">final</span> <span class="n">String</span> <span class="n">API_ENDPOINT</span> <span class="o">=</span> <span class="s">"https://app.beyonic.com/api/contacts"</span><span class="o">;</span>
    <span class="kd">private</span> <span class="kd">static</span> <span class="kd">final</span> <span class="n">String</span> <span class="n">API_KEY</span> <span class="o">=</span> <span class="s">"ab594c14986612f6167a975e1c369e71edab6900"</span><span class="o">;</span>
    <span class="kd">private</span> <span class="kd">static</span> <span class="kd">final</span> <span class="n">String</span> <span class="n">CHARSET</span> <span class="o">=</span> <span class="s">"UTF-8"</span><span class="o">;</span>
    <span class="kd">private</span> <span class="kd">static</span> <span class="kd">final</span> <span class="n">String</span> <span class="n">FIRST_NAME</span> <span class="o">=</span> <span class="s">"John"</span><span class="o">;</span>
    <span class="kd">private</span> <span class="kd">static</span> <span class="kd">final</span> <span class="n">String</span> <span class="n">LAST_NAME</span> <span class="o">=</span> <span class="s">"Doe"</span><span class="o">;</span>
    <span class="kd">private</span> <span class="kd">static</span> <span class="kd">final</span> <span class="n">String</span> <span class="n">PHONE_NUMBER</span> <span class="o">=</span> <span class="s">"+256773712831"</span><span class="o">;</span>
    <span class="kd">private</span> <span class="kd">static</span> <span class="kd">final</span> <span class="n">String</span> <span class="n">EMAIL</span> <span class="o">=</span> <span class="s">"john.doe@beyonic.com"</span><span class="o">;</span>

    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="n">main</span><span class="o">(</span><span class="n">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">){</span>
        <span class="n">URL</span> <span class="n">url</span> <span class="o">=</span> <span class="kc">null</span><span class="o">;</span>
        <span class="k">try</span> <span class="o">{</span>
            <span class="n">url</span> <span class="o">=</span> <span class="k">new</span> <span class="n">URL</span><span class="o">(</span><span class="n">API_ENDPOINT</span><span class="o">);</span>
            <span class="n">HttpURLConnection</span> <span class="n">conn</span> <span class="o">=</span> <span class="o">(</span><span class="n">HttpURLConnection</span><span class="o">)</span> <span class="n">url</span><span class="o">.</span><span class="na">openConnection</span><span class="o">();</span>

            <span class="n">conn</span><span class="o">.</span><span class="na">setRequestProperty</span><span class="o">(</span><span class="s">"Content-Type"</span><span class="o">,</span> <span class="s">"application/json"</span><span class="o">);</span>
            <span class="n">conn</span><span class="o">.</span><span class="na">setRequestProperty</span><span class="o">(</span><span class="s">"Accept"</span><span class="o">,</span> <span class="s">"application/json"</span><span class="o">);</span>
            <span class="n">conn</span><span class="o">.</span><span class="na">setRequestProperty</span><span class="o">(</span><span class="s">"charset"</span><span class="o">,</span> <span class="n">CHARSET</span><span class="o">);</span>
            <span class="n">conn</span><span class="o">.</span><span class="na">setRequestProperty</span><span class="o">(</span><span class="s">"Authorization"</span><span class="o">,</span> <span class="s">"Token "</span> <span class="o">+</span> <span class="n">API_KEY</span><span class="o">);</span>
            <span class="n">conn</span><span class="o">.</span><span class="na">setRequestMethod</span><span class="o">(</span><span class="s">"POST"</span><span class="o">);</span>
            <span class="n">conn</span><span class="o">.</span><span class="na">setDoOutput</span><span class="o">(</span><span class="kc">true</span><span class="o">);</span>
            <span class="n">conn</span><span class="o">.</span><span class="na">setDoInput</span><span class="o">(</span><span class="kc">true</span><span class="o">);</span>

            <span class="n">JSONObject</span> <span class="n">contact</span> <span class="o">=</span> <span class="n">createContactObject</span><span class="o">();</span>

            <span class="n">BufferedWriter</span> <span class="n">out</span> <span class="o">=</span> <span class="k">new</span> <span class="n">BufferedWriter</span><span class="o">(</span><span class="k">new</span> <span class="n">OutputStreamWriter</span><span class="o">(</span><span class="n">conn</span><span class="o">.</span><span class="na">getOutputStream</span><span class="o">()));</span>
            <span class="n">out</span><span class="o">.</span><span class="na">write</span><span class="o">(</span><span class="n">contact</span><span class="o">.</span><span class="na">toString</span><span class="o">());</span>
            <span class="n">out</span><span class="o">.</span><span class="na">close</span><span class="o">();</span>

            <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">conn</span><span class="o">.</span><span class="na">getResponseCode</span><span class="o">()</span> <span class="o">+</span> <span class="s">" // "</span> <span class="o">+</span> <span class="n">conn</span><span class="o">.</span><span class="na">getResponseMessage</span><span class="o">());</span>

            <span class="kt">int</span> <span class="n">beyID</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span>
            <span class="k">try</span> <span class="o">{</span>
                <span class="k">if</span> <span class="o">(</span><span class="n">conn</span><span class="o">.</span><span class="na">getResponseCode</span><span class="o">()</span> <span class="o">==</span> <span class="mi">201</span><span class="o">)</span> <span class="o">{</span>
                    <span class="n">InputStream</span> <span class="n">inputStream</span> <span class="o">=</span> <span class="n">conn</span><span class="o">.</span><span class="na">getInputStream</span><span class="o">();</span>
                    <span class="n">BufferedReader</span> <span class="n">reader</span> <span class="o">=</span> <span class="k">new</span> <span class="n">BufferedReader</span><span class="o">(</span><span class="k">new</span> <span class="n">InputStreamReader</span><span class="o">(</span><span class="n">inputStream</span><span class="o">));</span>
                    <span class="n">String</span> <span class="n">response</span> <span class="o">=</span> <span class="n">reader</span><span class="o">.</span><span class="na">readLine</span><span class="o">();</span>
                    <span class="n">reader</span><span class="o">.</span><span class="na">close</span><span class="o">();</span>

                    <span class="n">JSONObject</span> <span class="n">obj</span> <span class="o">=</span> <span class="k">new</span> <span class="n">JSONObject</span><span class="o">(</span><span class="n">response</span><span class="o">);</span>
                    <span class="n">beyID</span> <span class="o">=</span> <span class="n">obj</span><span class="o">.</span><span class="na">getInt</span><span class="o">(</span><span class="s">"id"</span><span class="o">);</span>
                    <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"ID of created Contact: "</span> <span class="o">+</span> <span class="n">beyID</span><span class="o">);</span>
                <span class="o">}</span>
            <span class="o">}</span> <span class="k">finally</span> <span class="o">{</span>
                <span class="n">conn</span><span class="o">.</span><span class="na">disconnect</span><span class="o">();</span>
            <span class="o">}</span>

        <span class="o">}</span> <span class="k">catch</span> <span class="o">(</span><span class="n">Exception</span> <span class="n">e</span><span class="o">)</span> <span class="o">{</span>
            <span class="n">e</span><span class="o">.</span><span class="na">printStackTrace</span><span class="o">();</span>
        <span class="o">}</span>
    <span class="o">}</span>

    <span class="kd">private</span> <span class="kd">static</span> <span class="n">JSONObject</span> <span class="n">createContactObject</span><span class="o">()</span> <span class="kd">throws</span> <span class="n">JSONException</span> <span class="o">{</span>
        <span class="n">JSONObject</span> <span class="n">contact</span> <span class="o">=</span> <span class="k">new</span> <span class="n">JSONObject</span><span class="o">();</span>
        <span class="n">contact</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="s">"phone_number"</span><span class="o">,</span><span class="n">PHONE_NUMBER</span><span class="o">);</span>
        <span class="n">contact</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="s">"first_name"</span><span class="o">,</span><span class="n">FIRST_NAME</span><span class="o">);</span>
        <span class="n">contact</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="s">"last_name"</span><span class="o">,</span><span class="n">LAST_NAME</span><span class="o">);</span>
        <span class="n">contact</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="s">"email"</span><span class="o">,</span><span class="n">EMAIL</span><span class="o">);</span>
        <span class="k">return</span> <span class="n">contact</span><span class="o">;</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre>

<blockquote>
<p>Sample Response (JSON):</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
    </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">26</span><span class="p">,</span><span class="w">
    </span><span class="nt">"organization"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Beyonic"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"first_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Suzanne"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"last_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Kwagala"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"suzanne@beyonic.com"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"phone_number"</span><span class="p">:</span><span class="w"> </span><span class="s2">"+256784522611"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"employee"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"active"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"metadata"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nt">"created"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2013-09-19T21:26:10Z"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"author"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nt">"modified"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-04-14T18:21:47Z"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"updated_by"</span><span class="p">:</span><span class="w"> </span><span class="mi">42</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>To create a new contact, make a POST to the endpoint above, with the attributes below.</p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Required</th>
<th>Type</th>
<th>Example</th>
<th>Notes</th>
</tr>
</thead><tbody>
<tr>
<td>phone_number</td>
<td>Yes</td>
<td>String</td>
<td>+256773712831</td>
<td>Must be in international format</td>
</tr>
<tr>
<td>first_name</td>
<td>Yes</td>
<td>String</td>
<td>John</td>
<td>The contact&rsquo;s first name</td>
</tr>
<tr>
<td>last_name</td>
<td>Yes</td>
<td>String</td>
<td>Doe</td>
<td>The contact&rsquo;s last name</td>
</tr>
<tr>
<td>email</td>
<td>No</td>
<td>String</td>
<td>john.doe@beyonic.com</td>
<td>The contact&rsquo;s email address</td>
</tr>
<tr>
<td>metadata</td>
<td>No</td>
<td>JSON String</td>
<td>&ldquo;{&lsquo;my_id&rsquo;: &#39;123ASDAsd123&rsquo;}&rdquo;</td>
<td>Custom attributes to store with this object. See the Metadata section for more information.</td>
</tr>
</tbody></table>

<h2 id="retrieving-a-single-contact">Retrieving a single contact</h2>

<blockquote>
<p>Sample Request:</p>
</blockquote>
<pre class="highlight shell"><code>curl https://app.beyonic.com/api/contacts/44702 -H <span class="s2">"Authorization: Token ab594c14986612f6167a975e1c369e71edab6900"</span>
</code></pre>
<pre class="highlight ruby"><code><span class="nb">require</span> <span class="s1">'beyonic'</span>
<span class="no">Beyonic</span><span class="p">.</span><span class="nf">api_key</span> <span class="o">=</span> <span class="s1">'ab594c14986612f6167a975e1c369e71edab6900'</span>

<span class="n">contact</span> <span class="o">=</span> <span class="no">Beyonic</span><span class="o">::</span><span class="no">Contact</span><span class="p">.</span><span class="nf">get</span><span class="p">(</span><span class="mi">44702</span><span class="p">)</span>
</code></pre>
<pre class="highlight php"><code><span class="cp">&lt;?php</span>
<span class="k">require_once</span><span class="p">(</span><span class="s1">'./lib/Beyonic.php'</span><span class="p">);</span>
<span class="nx">Beyonic</span><span class="o">::</span><span class="na">setApiKey</span><span class="p">(</span><span class="s2">"ab594c14986612f6167a975e1c369e71edab6900"</span><span class="p">);</span>

<span class="nv">$contact</span> <span class="o">=</span> <span class="nx">Beyonic_Contact</span><span class="o">::</span><span class="na">get</span><span class="p">(</span><span class="mi">44702</span><span class="p">);</span>
<span class="cp">?&gt;</span>
</code></pre>
<pre class="highlight python"><code><span class="kn">import</span> <span class="nn">beyonic</span>
<span class="n">beyonic</span><span class="o">.</span><span class="n">api_key</span> <span class="o">=</span> <span class="s">'ab594c14986612f6167a975e1c369e71edab6900'</span>

<span class="n">contact</span> <span class="o">=</span> <span class="n">beyonic</span><span class="o">.</span><span class="n">Contact</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="mi">44702</span><span class="p">)</span>

</code></pre>
<pre class="highlight java"><code><span class="kn">package</span> <span class="n">com</span><span class="o">.</span><span class="na">beyonic</span><span class="o">.</span><span class="na">examples</span><span class="o">.</span><span class="na">contact</span><span class="o">;</span>

<span class="kn">import</span> <span class="nn">java.io.BufferedReader</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.io.InputStream</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.io.InputStreamReader</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.net.HttpURLConnection</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.net.URL</span><span class="o">;</span>


<span class="kd">public</span> <span class="kd">class</span> <span class="nc">SingleContactExample</span> <span class="o">{</span>

    <span class="kd">private</span> <span class="kd">static</span> <span class="kd">final</span> <span class="n">String</span> <span class="n">API_ENDPOINT</span> <span class="o">=</span> <span class="s">"https://app.beyonic.com/api/contacts"</span><span class="o">;</span>
    <span class="kd">private</span> <span class="kd">static</span> <span class="kd">final</span> <span class="n">String</span> <span class="n">API_KEY</span> <span class="o">=</span> <span class="s">"ab594c14986612f6167a975e1c369e71edab6900"</span><span class="o">;</span>
    <span class="kd">private</span> <span class="kd">static</span> <span class="kd">final</span> <span class="n">String</span> <span class="n">CHARSET</span> <span class="o">=</span> <span class="s">"UTF-8"</span><span class="o">;</span>

    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="n">main</span><span class="o">(</span><span class="n">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">){</span>
        <span class="n">URL</span> <span class="n">url</span> <span class="o">=</span> <span class="kc">null</span><span class="o">;</span>
        <span class="k">try</span> <span class="o">{</span>
            <span class="n">url</span> <span class="o">=</span> <span class="k">new</span> <span class="n">URL</span><span class="o">(</span><span class="n">API_ENDPOINT</span> <span class="o">+</span> <span class="s">"/44702"</span><span class="o">);</span>
            <span class="n">HttpURLConnection</span> <span class="n">conn</span> <span class="o">=</span> <span class="o">(</span><span class="n">HttpURLConnection</span><span class="o">)</span> <span class="n">url</span><span class="o">.</span><span class="na">openConnection</span><span class="o">();</span>

            <span class="n">conn</span><span class="o">.</span><span class="na">setRequestProperty</span><span class="o">(</span><span class="s">"Content-Type"</span><span class="o">,</span> <span class="s">"application/json"</span><span class="o">);</span>
            <span class="n">conn</span><span class="o">.</span><span class="na">setRequestProperty</span><span class="o">(</span><span class="s">"Accept"</span><span class="o">,</span> <span class="s">"application/json"</span><span class="o">);</span>
            <span class="n">conn</span><span class="o">.</span><span class="na">setRequestProperty</span><span class="o">(</span><span class="s">"charset"</span><span class="o">,</span> <span class="n">CHARSET</span><span class="o">);</span>
            <span class="n">conn</span><span class="o">.</span><span class="na">setRequestProperty</span><span class="o">(</span><span class="s">"Authorization"</span><span class="o">,</span> <span class="s">"Token "</span> <span class="o">+</span> <span class="n">API_KEY</span><span class="o">);</span>

            <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">conn</span><span class="o">.</span><span class="na">getResponseCode</span><span class="o">()</span> <span class="o">+</span> <span class="s">" // "</span> <span class="o">+</span> <span class="n">conn</span><span class="o">.</span><span class="na">getResponseMessage</span><span class="o">());</span>

            <span class="k">try</span> <span class="o">{</span>
                <span class="k">if</span> <span class="o">(</span><span class="n">conn</span><span class="o">.</span><span class="na">getResponseCode</span><span class="o">()</span> <span class="o">==</span> <span class="mi">200</span><span class="o">)</span> <span class="o">{</span>
                    <span class="n">InputStream</span> <span class="n">inputStream</span> <span class="o">=</span> <span class="n">conn</span><span class="o">.</span><span class="na">getInputStream</span><span class="o">();</span>
                    <span class="n">BufferedReader</span> <span class="n">reader</span> <span class="o">=</span> <span class="k">new</span> <span class="n">BufferedReader</span><span class="o">(</span><span class="k">new</span> <span class="n">InputStreamReader</span><span class="o">(</span><span class="n">inputStream</span><span class="o">));</span>
                    <span class="n">String</span> <span class="n">response</span> <span class="o">=</span> <span class="n">reader</span><span class="o">.</span><span class="na">readLine</span><span class="o">();</span>
                    <span class="n">reader</span><span class="o">.</span><span class="na">close</span><span class="o">();</span>

                    <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">response</span><span class="o">);</span>
                <span class="o">}</span>
            <span class="o">}</span> <span class="k">finally</span> <span class="o">{</span>
                <span class="n">conn</span><span class="o">.</span><span class="na">disconnect</span><span class="o">();</span>
            <span class="o">}</span>

        <span class="o">}</span> <span class="k">catch</span> <span class="o">(</span><span class="n">Exception</span> <span class="n">e</span><span class="o">)</span> <span class="o">{</span>
            <span class="n">e</span><span class="o">.</span><span class="na">printStackTrace</span><span class="o">();</span>
        <span class="o">}</span>
    <span class="o">}</span>

<span class="o">}</span>
</code></pre>

<blockquote>
<p>Sample Response (JSON):</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
    </span><span class="nt">"id"</span><span class="p">:</span><span class="mi">44702</span><span class="p">,</span><span class="w">
    </span><span class="nt">"organization"</span><span class="p">:</span><span class="mi">4</span><span class="p">,</span><span class="w">
    </span><span class="nt">"first_name"</span><span class="p">:</span><span class="s2">"John"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"last_name"</span><span class="p">:</span><span class="s2">"Doe"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"email"</span><span class="p">:</span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nt">"phone_number"</span><span class="p">:</span><span class="s2">"+41421234567"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"type"</span><span class="p">:</span><span class="s2">"employee"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"status"</span><span class="p">:</span><span class="s2">"active"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"metadata"</span><span class="p">:{},</span><span class="w">
    </span><span class="nt">"created"</span><span class="p">:</span><span class="s2">"2016-03-30T17:44:30Z"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"author"</span><span class="p">:</span><span class="mi">134</span><span class="p">,</span><span class="w">
    </span><span class="nt">"modified"</span><span class="p">:</span><span class="s2">"2016-03-30T17:45:22Z"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"updated_by"</span><span class="p">:</span><span class="mi">134</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>To retrieve a single contact, provide the contact id and a contact object will be returned.</p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Required</th>
<th>Type</th>
<th>Example</th>
<th>Notes</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>Yes</td>
<td>Integer</td>
<td>23</td>
<td>The id of the contact you want to retrieve</td>
</tr>
</tbody></table>

<h2 id="listing-all-contacts">Listing all contacts</h2>

<blockquote>
<p>Sample Request:</p>
</blockquote>
<pre class="highlight shell"><code>curl https://app.beyonic.com/api/contacts -H <span class="s2">"Authorization: Token ab594c14986612f6167a975e1c369e71edab6900"</span>
</code></pre>
<pre class="highlight ruby"><code><span class="nb">require</span> <span class="s1">'beyonic'</span>
<span class="no">Beyonic</span><span class="p">.</span><span class="nf">api_key</span> <span class="o">=</span> <span class="s1">'ab594c14986612f6167a975e1c369e71edab6900'</span>

<span class="n">contact</span> <span class="o">=</span> <span class="no">Beyonic</span><span class="o">::</span><span class="no">Contact</span><span class="p">.</span><span class="nf">list</span>
</code></pre>
<pre class="highlight php"><code><span class="cp">&lt;?php</span>
<span class="k">require_once</span><span class="p">(</span><span class="s1">'./lib/Beyonic.php'</span><span class="p">);</span>
<span class="nx">Beyonic</span><span class="o">::</span><span class="na">setApiKey</span><span class="p">(</span><span class="s2">"ab594c14986612f6167a975e1c369e71edab6900"</span><span class="p">);</span>

<span class="nv">$contact</span> <span class="o">=</span> <span class="nx">Beyonic_Contact</span><span class="o">::</span><span class="na">getAll</span><span class="p">();</span>
<span class="cp">?&gt;</span>
</code></pre>
<pre class="highlight python"><code><span class="kn">import</span> <span class="nn">beyonic</span>
<span class="n">beyonic</span><span class="o">.</span><span class="n">api_key</span> <span class="o">=</span> <span class="s">'ab594c14986612f6167a975e1c369e71edab6900'</span>

<span class="n">contact</span> <span class="o">=</span> <span class="n">beyonic</span><span class="o">.</span><span class="n">Contact</span><span class="o">.</span><span class="nb">list</span><span class="p">()</span>

</code></pre>
<pre class="highlight java"><code><span class="kn">package</span> <span class="n">com</span><span class="o">.</span><span class="na">beyonic</span><span class="o">.</span><span class="na">examples</span><span class="o">.</span><span class="na">contacts</span>

<span class="kn">import</span> <span class="nn">java.io.*</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.net.HttpURLConnection</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.net.URL</span><span class="o">;</span>

<span class="kd">public</span> <span class="kd">class</span> <span class="nc">ListAllContactsExample</span><span class="o">{</span>

    <span class="kd">private</span> <span class="kd">static</span> <span class="kd">final</span> <span class="n">String</span> <span class="n">API_ENDPOINT</span> <span class="o">=</span> <span class="s">"https://app.beyonic.com/api/contacts"</span><span class="o">;</span>
    <span class="kd">private</span> <span class="kd">static</span> <span class="kd">final</span> <span class="n">String</span> <span class="n">API_KEY</span> <span class="o">=</span> <span class="s">"ab594c14986612f6167a975e1c369e71edab6900"</span><span class="o">;</span>
    <span class="kd">private</span> <span class="kd">static</span> <span class="kd">final</span> <span class="n">String</span> <span class="n">CHARSET</span> <span class="o">=</span> <span class="s">"UTF-8"</span><span class="o">;</span>

    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="n">main</span><span class="o">(</span><span class="n">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">){</span>
        <span class="n">URL</span> <span class="n">url</span> <span class="o">=</span> <span class="kc">null</span><span class="o">;</span>
        <span class="k">try</span> <span class="o">{</span>
            <span class="n">url</span> <span class="o">=</span> <span class="k">new</span> <span class="n">URL</span><span class="o">(</span><span class="n">API_ENDPOINT</span><span class="o">);</span>
            <span class="n">HttpURLConnection</span> <span class="n">conn</span> <span class="o">=</span> <span class="o">(</span><span class="n">HttpURLConnection</span><span class="o">)</span> <span class="n">url</span><span class="o">.</span><span class="na">openConnection</span><span class="o">();</span>

            <span class="n">conn</span><span class="o">.</span><span class="na">setRequestProperty</span><span class="o">(</span><span class="s">"Content-Type"</span><span class="o">,</span> <span class="s">"application/json"</span><span class="o">);</span>
            <span class="n">conn</span><span class="o">.</span><span class="na">setRequestProperty</span><span class="o">(</span><span class="s">"Accept"</span><span class="o">,</span> <span class="s">"application/json"</span><span class="o">);</span>
            <span class="n">conn</span><span class="o">.</span><span class="na">setRequestProperty</span><span class="o">(</span><span class="s">"charset"</span><span class="o">,</span> <span class="n">CHARSET</span><span class="o">);</span>
            <span class="n">conn</span><span class="o">.</span><span class="na">setRequestProperty</span><span class="o">(</span><span class="s">"Authorization"</span><span class="o">,</span> <span class="s">"Token "</span> <span class="o">+</span> <span class="n">API_KEY</span><span class="o">);</span>

            <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">conn</span><span class="o">.</span><span class="na">getResponseCode</span><span class="o">()</span> <span class="o">+</span> <span class="s">" // "</span> <span class="o">+</span> <span class="n">conn</span><span class="o">.</span><span class="na">getResponseMessage</span><span class="o">());</span>

            <span class="k">try</span> <span class="o">{</span>
                <span class="k">if</span> <span class="o">(</span><span class="n">conn</span><span class="o">.</span><span class="na">getResponseCode</span><span class="o">()</span> <span class="o">==</span> <span class="mi">200</span><span class="o">)</span> <span class="o">{</span>
                    <span class="n">InputStream</span> <span class="n">inputStream</span> <span class="o">=</span> <span class="n">conn</span><span class="o">.</span><span class="na">getInputStream</span><span class="o">();</span>
                    <span class="n">BufferedReader</span> <span class="n">reader</span> <span class="o">=</span> <span class="k">new</span> <span class="n">BufferedReader</span><span class="o">(</span><span class="k">new</span> <span class="n">InputStreamReader</span><span class="o">(</span><span class="n">inputStream</span><span class="o">));</span>
                    <span class="n">String</span> <span class="n">response</span> <span class="o">=</span> <span class="n">reader</span><span class="o">.</span><span class="na">readLine</span><span class="o">();</span>
                    <span class="n">reader</span><span class="o">.</span><span class="na">close</span><span class="o">();</span>

                    <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">response</span><span class="o">);</span>
                <span class="o">}</span>
            <span class="o">}</span> <span class="k">finally</span> <span class="o">{</span>
                <span class="n">conn</span><span class="o">.</span><span class="na">disconnect</span><span class="o">();</span>
            <span class="o">}</span>

        <span class="o">}</span> <span class="k">catch</span> <span class="o">(</span><span class="n">Exception</span> <span class="n">e</span><span class="o">)</span> <span class="o">{</span>
            <span class="n">e</span><span class="o">.</span><span class="na">printStackTrace</span><span class="o">();</span>
        <span class="o">}</span>
    <span class="o">}</span>

<span class="o">}</span>
</code></pre>

<blockquote>
<p>Sample Response (JSON)</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
    </span><span class="nt">"count"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
    </span><span class="nt">"next"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://app.beyonic.com/api/contacts?offset=10"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"previous"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nt">"results"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1146</span><span class="p">,</span><span class="w">
            </span><span class="nt">"organization"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Demo Org"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"first_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Eliana"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"last_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Kalema"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"email"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
            </span><span class="nt">"phone_number"</span><span class="p">:</span><span class="w"> </span><span class="s2">"+25677XXXXXX"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"other"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"active"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"metadata"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
            </span><span class="nt">"created"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-02-13T04:22:31Z"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"author"</span><span class="p">:</span><span class="w"> </span><span class="mi">7</span><span class="p">,</span><span class="w">
            </span><span class="nt">"modified"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-02-26T13:00:35Z"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"updated_by"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1175</span><span class="p">,</span><span class="w">
            </span><span class="nt">"organization"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Demo Org"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"first_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Trina"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"last_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Faith"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"email"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
            </span><span class="nt">"phone_number"</span><span class="p">:</span><span class="w"> </span><span class="s2">"+25677XXXXXX"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"employee"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"active"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"metadata"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
            </span><span class="nt">"created"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-02-18T11:52:43Z"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"author"</span><span class="p">:</span><span class="w"> </span><span class="mi">137</span><span class="p">,</span><span class="w">
            </span><span class="nt">"modified"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-02-26T13:00:35Z"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"updated_by"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w">
        </span><span class="p">},</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>To retrieve a list of all contacts, make a GET request to the contact end point. This will return a list of contacts.</p>

<h2 id="filtering-contacts">Filtering contacts</h2>

<blockquote>
<p>Sample Request:</p>
</blockquote>
<pre class="highlight shell"><code>curl https://app.beyonic.com/api/contacts?first_name<span class="o">=</span>luke -H <span class="s2">"Authorization: Token ab594c14986612f6167a975e1c369e71edab6900"</span>
</code></pre>
<pre class="highlight ruby"><code><span class="nb">require</span> <span class="s1">'beyonic'</span>
<span class="no">Beyonic</span><span class="p">.</span><span class="nf">api_key</span> <span class="o">=</span> <span class="s1">'ab594c14986612f6167a975e1c369e71edab6900'</span>

<span class="n">contact</span> <span class="o">=</span> <span class="no">Beyonic</span><span class="o">::</span><span class="no">Contact</span><span class="p">.</span><span class="nf">list</span><span class="p">(</span>
  <span class="ss">first_name: </span><span class="s2">"luke"</span>
<span class="p">)</span>
</code></pre>
<pre class="highlight php"><code><span class="cp">&lt;?php</span>
<span class="k">require_once</span><span class="p">(</span><span class="s1">'./lib/Beyonic.php'</span><span class="p">);</span>
<span class="nx">Beyonic</span><span class="o">::</span><span class="na">setApiKey</span><span class="p">(</span><span class="s2">"ab594c14986612f6167a975e1c369e71edab6900"</span><span class="p">);</span>

<span class="nv">$contact</span> <span class="o">=</span> <span class="nx">Beyonic_Contact</span><span class="o">::</span><span class="na">getAll</span><span class="p">(</span><span class="k">array</span><span class="p">(</span>
  <span class="s2">"first_name"</span> <span class="o">=&gt;</span> <span class="s2">"luke"</span>
<span class="p">));</span>
<span class="cp">?&gt;</span>
</code></pre>
<pre class="highlight python"><code><span class="kn">import</span> <span class="nn">beyonic</span>
<span class="n">beyonic</span><span class="o">.</span><span class="n">api_key</span> <span class="o">=</span> <span class="s">'ab594c14986612f6167a975e1c369e71edab6900'</span>

<span class="n">contact</span> <span class="o">=</span> <span class="n">beyonic</span><span class="o">.</span><span class="n">Contact</span><span class="o">.</span><span class="nb">list</span><span class="p">(</span><span class="n">first_name</span><span class="o">=</span><span class="s">'luke'</span><span class="p">)</span>

</code></pre>
<pre class="highlight java"><code><span class="kn">package</span> <span class="n">com</span><span class="o">.</span><span class="na">beyonic</span><span class="o">.</span><span class="na">examples</span><span class="o">.</span><span class="na">contact</span><span class="o">;</span>

<span class="kn">import</span> <span class="nn">java.io.*</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.net.HttpURLConnection</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.net.URL</span><span class="o">;</span>

<span class="kd">public</span> <span class="kd">class</span> <span class="nc">FilterContactsExample</span><span class="o">{</span>

    <span class="kd">private</span> <span class="kd">static</span> <span class="kd">final</span> <span class="n">String</span> <span class="n">API_ENDPOINT</span> <span class="o">=</span> <span class="s">"https://app.beyonic.com/api/contacts"</span><span class="o">;</span>
    <span class="kd">private</span> <span class="kd">static</span> <span class="kd">final</span> <span class="n">String</span> <span class="n">API_KEY</span> <span class="o">=</span> <span class="s">"ab594c14986612f6167a975e1c369e71edab6900"</span><span class="o">;</span>
    <span class="kd">private</span> <span class="kd">static</span> <span class="kd">final</span> <span class="n">String</span> <span class="n">CHARSET</span> <span class="o">=</span> <span class="s">"UTF-8"</span><span class="o">;</span>

    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="n">main</span><span class="o">(</span><span class="n">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">){</span>
        <span class="n">URL</span> <span class="n">url</span> <span class="o">=</span> <span class="kc">null</span><span class="o">;</span>
        <span class="k">try</span> <span class="o">{</span>
            <span class="n">url</span> <span class="o">=</span> <span class="k">new</span> <span class="n">URL</span><span class="o">(</span><span class="n">API_ENDPOINT</span> <span class="o">+</span> <span class="s">"?first_name=John"</span><span class="o">);</span>
            <span class="n">HttpURLConnection</span> <span class="n">conn</span> <span class="o">=</span> <span class="o">(</span><span class="n">HttpURLConnection</span><span class="o">)</span> <span class="n">url</span><span class="o">.</span><span class="na">openConnection</span><span class="o">();</span>

            <span class="n">conn</span><span class="o">.</span><span class="na">setRequestProperty</span><span class="o">(</span><span class="s">"Content-Type"</span><span class="o">,</span> <span class="s">"application/json"</span><span class="o">);</span>
            <span class="n">conn</span><span class="o">.</span><span class="na">setRequestProperty</span><span class="o">(</span><span class="s">"Accept"</span><span class="o">,</span> <span class="s">"application/json"</span><span class="o">);</span>
            <span class="n">conn</span><span class="o">.</span><span class="na">setRequestProperty</span><span class="o">(</span><span class="s">"charset"</span><span class="o">,</span> <span class="n">CHARSET</span><span class="o">);</span>
            <span class="n">conn</span><span class="o">.</span><span class="na">setRequestProperty</span><span class="o">(</span><span class="s">"Authorization"</span><span class="o">,</span> <span class="s">"Token "</span> <span class="o">+</span> <span class="n">API_KEY</span><span class="o">);</span>

            <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">conn</span><span class="o">.</span><span class="na">getResponseCode</span><span class="o">()</span> <span class="o">+</span> <span class="s">" // "</span> <span class="o">+</span> <span class="n">conn</span><span class="o">.</span><span class="na">getResponseMessage</span><span class="o">());</span>

            <span class="k">try</span> <span class="o">{</span>
                <span class="k">if</span> <span class="o">(</span><span class="n">conn</span><span class="o">.</span><span class="na">getResponseCode</span><span class="o">()</span> <span class="o">==</span> <span class="mi">200</span><span class="o">)</span> <span class="o">{</span>
                    <span class="n">InputStream</span> <span class="n">inputStream</span> <span class="o">=</span> <span class="n">conn</span><span class="o">.</span><span class="na">getInputStream</span><span class="o">();</span>
                    <span class="n">BufferedReader</span> <span class="n">reader</span> <span class="o">=</span> <span class="k">new</span> <span class="n">BufferedReader</span><span class="o">(</span><span class="k">new</span> <span class="n">InputStreamReader</span><span class="o">(</span><span class="n">inputStream</span><span class="o">));</span>
                    <span class="n">String</span> <span class="n">response</span> <span class="o">=</span> <span class="n">reader</span><span class="o">.</span><span class="na">readLine</span><span class="o">();</span>
                    <span class="n">reader</span><span class="o">.</span><span class="na">close</span><span class="o">();</span>

                    <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">response</span><span class="o">);</span>
                <span class="o">}</span>
            <span class="o">}</span> <span class="k">finally</span> <span class="o">{</span>
                <span class="n">conn</span><span class="o">.</span><span class="na">disconnect</span><span class="o">();</span>
            <span class="o">}</span>

        <span class="o">}</span> <span class="k">catch</span> <span class="o">(</span><span class="n">Exception</span> <span class="n">e</span><span class="o">)</span> <span class="o">{</span>
            <span class="n">e</span><span class="o">.</span><span class="na">printStackTrace</span><span class="o">();</span>
        <span class="o">}</span>
    <span class="o">}</span>

<span class="o">}</span>
</code></pre>

<p>You can search or filter contacts on the following fields. Simply add them to your request as shown in the examples. You can combine multiple filters. Note that filters return exact matches only. (The phone_number field is treated differently - see below).</p>

<ul>
<li>first_name - the contact&rsquo;s first name</li>
<li>last_name - the contact&rsquo;s last name</li>
<li>email - the contact&rsquo;s email</li>
<li>phone_number - the contact&rsquo;s phone number. Note that the phonenumber will be matched in international format, starting with a &rsquo;+&rsquo; sign. If the &rsquo;+&rsquo; sign isn&rsquo;t included in your request, it will be appended before attempting to match your request.</li>
</ul>

          <h1 id="payments">Payments</h1>

<h2 id="introduction">Introduction</h2>

<p>To send payments to a mobile subscriber, you create a new payment object. You can also retrieve individual payments or list all payments.</p>

<p>The payments api endpoint is:
    <aside class="notice">https://app.beyonic.com/api/payments</aside></p>

<h2 id="the-payment-object">The payment object</h2>

<table><thead>
<tr>
<th>Field</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>long integer</td>
<td>Unique object identifier</td>
</tr>
<tr>
<td>organization</td>
<td>long integer</td>
<td>The ID of the organization that the payment belongs to. (This is usually your organization ID)</td>
</tr>
<tr>
<td>amount</td>
<td>decimal</td>
<td>The payment amount</td>
</tr>
<tr>
<td>currency</td>
<td>string</td>
<td>The 3 letter ISO currency code for the payment</td>
</tr>
<tr>
<td>account</td>
<td>long integer</td>
<td>The ID of the account from which the payment is made</td>
</tr>
<tr>
<td>description</td>
<td>string</td>
<td>The payment description</td>
</tr>
<tr>
<td>phone_nos</td>
<td>list</td>
<td>A list of phone numbers that this payment was sent to</td>
</tr>
<tr>
<td>start_date</td>
<td>string</td>
<td>The date that the payment is scheduled to be delivered, in the UTC timezone. Format: &ldquo;YYYY-MM-DDTHH:MM:SSZ&rdquo;</td>
</tr>
<tr>
<td>metadata</td>
<td>hash</td>
<td>Any custom metadata that was added to the contact object at creation time</td>
</tr>
<tr>
<td>state</td>
<td>string</td>
<td>The payment state. One of: new, validated, approval_needed, approval_requested, approved, rejected, scheduled, processed, processed_with_errors or cancelled</td>
</tr>
<tr>
<td>last_error</td>
<td>string</td>
<td>A string description of the latest error that occurred, if any</td>
</tr>
<tr>
<td>rejected_reason</td>
<td>string</td>
<td>Describes why the payment was rejected, if it is in the rejected state</td>
</tr>
<tr>
<td>rejected_time</td>
<td>string</td>
<td>The date that the payment was rejected, in the UTC timezone. Format: &ldquo;YYYY-MM-DDTHH:MM:SSZ&rdquo;</td>
</tr>
<tr>
<td>rejected_by</td>
<td>long integer</td>
<td>The ID of the user who rejected the payment</td>
</tr>
<tr>
<td>cancelled_reason</td>
<td>string</td>
<td>Describes why the payment was cancelled, if it is in the cancelled state</td>
</tr>
<tr>
<td>cancelled_time</td>
<td>string</td>
<td>The date that the payment was cancelled, in the UTC timezone. Format: &ldquo;YYYY-MM-DDTHH:MM:SSZ&rdquo;</td>
</tr>
<tr>
<td>cancelled_by long integer</td>
<td>The ID of the user who cancelled the payment</td>
<td></td>
</tr>
<tr>
<td>created</td>
<td>string</td>
<td>The date that the payment was created, in the UTC timezone. Format: &ldquo;YYYY-MM-DDTHH:MM:SSZ&rdquo;</td>
</tr>
<tr>
<td>author</td>
<td>long integer</td>
<td>The ID of the user who created the payment</td>
</tr>
<tr>
<td>modified</td>
<td>string</td>
<td>The date that the payment was last modified, in the UTC timezone. Format: &ldquo;YYYY-MM-DDTHH:MM:SSZ&rdquo;</td>
</tr>
<tr>
<td>updated_by</td>
<td>string</td>
<td>The ID of the user who last updated the payment</td>
</tr>
</tbody></table>

<h2 id="creating-a-new-payment">Creating a new payment</h2>

<blockquote>
<p>Sample Request:</p>
</blockquote>
<pre class="highlight shell"><code>curl https://app.beyonic.com/api/payments -H <span class="s2">"Authorization: Token ab594c14986612f6167a975e1c369e71edab6900"</span> <span class="se">\</span>
-d <span class="nv">phonenumber</span><span class="o">=</span>+256772781923 <span class="se">\</span>
-d <span class="nv">first_name</span><span class="o">=</span>Kennedy<span class="se">\</span>
-d <span class="nv">last_name</span><span class="o">=</span>Amani<span class="se">\</span>
-d <span class="nv">currency</span><span class="o">=</span>UGX <span class="se">\</span>
-d <span class="nv">account</span><span class="o">=</span>1 <span class="se">\</span>
-d <span class="nv">amount</span><span class="o">=</span>30 <span class="se">\</span>
-d <span class="nv">description</span><span class="o">=</span><span class="s2">"Per diem payment"</span> <span class="se">\</span>
-d <span class="nv">callback_url</span><span class="o">=</span><span class="s2">"https://my.website/payments/callback"</span> <span class="se">\</span>
-d <span class="nv">payment_type</span><span class="o">=</span>money
</code></pre>
<pre class="highlight ruby"><code><span class="nb">require</span> <span class="s1">'beyonic'</span>
<span class="no">Beyonic</span><span class="p">.</span><span class="nf">api_key</span> <span class="o">=</span> <span class="s1">'ab594c14986612f6167a975e1c369e71edab6900'</span>

<span class="n">payment</span> <span class="o">=</span> <span class="no">Beyonic</span><span class="o">::</span><span class="no">Payment</span><span class="p">.</span><span class="nf">create</span><span class="p">(</span>
    <span class="ss">phonenumber: </span><span class="s2">"+256773712831"</span><span class="p">,</span>
    <span class="ss">first_name: </span><span class="s2">"Kennedy"</span><span class="p">,</span>
    <span class="ss">last_name: </span><span class="s2">"Amani"</span><span class="p">,</span>
    <span class="ss">amount: </span><span class="s2">"100.2"</span><span class="p">,</span>
    <span class="ss">currency: </span><span class="s2">"UGX"</span><span class="p">,</span>
    <span class="ss">account: </span><span class="s2">"1"</span><span class="p">,</span>
    <span class="ss">description: </span><span class="s2">"Per diem payment"</span><span class="p">,</span>
    <span class="ss">payment_type: </span><span class="s2">"money"</span><span class="p">,</span>
    <span class="ss">callback_url: </span><span class="s2">"https://my.website/payments/callback"</span><span class="p">,</span>
    <span class="s1">'metadata.id'</span><span class="o">=&gt;</span> <span class="mi">1234</span><span class="p">,</span>
    <span class="s1">'metadata.name'</span><span class="o">=&gt;</span> <span class="s1">'Lucy'</span>
<span class="p">)</span>
</code></pre>
<pre class="highlight php"><code><span class="cp">&lt;?php</span>
<span class="k">require_once</span><span class="p">(</span><span class="s1">'./lib/Beyonic.php'</span><span class="p">);</span>
<span class="nx">Beyonic</span><span class="o">::</span><span class="na">setApiKey</span><span class="p">(</span><span class="s2">"ab594c14986612f6167a975e1c369e71edab6900"</span><span class="p">);</span>

<span class="nx">Beyonic_Payment</span><span class="o">::</span><span class="na">create</span><span class="p">(</span><span class="k">array</span><span class="p">(</span>
  <span class="s2">"phonenumber"</span> <span class="o">=&gt;</span> <span class="s2">"+256773712831"</span><span class="p">,</span>
  <span class="s2">"first_name"</span> <span class="o">=&gt;</span> <span class="s2">"Kennedy"</span><span class="p">,</span>
  <span class="s2">"last_name"</span> <span class="o">=&gt;</span> <span class="s2">"Kennedy"</span><span class="p">,</span>
  <span class="s2">"amount"</span> <span class="o">=&gt;</span> <span class="s2">"100.2"</span><span class="p">,</span>
  <span class="s2">"currency"</span> <span class="o">=&gt;</span> <span class="s2">"UGX"</span><span class="p">,</span>
  <span class="s2">"account"</span> <span class="o">=&gt;</span> <span class="s2">"1"</span><span class="p">,</span>
  <span class="s2">"description"</span> <span class="o">=&gt;</span> <span class="s2">"Per diem payment"</span><span class="p">,</span>
  <span class="s2">"payment_type"</span> <span class="o">=&gt;</span> <span class="s2">"money"</span><span class="p">,</span>
  <span class="s2">"callback_url"</span> <span class="o">=&gt;</span> <span class="s2">"https://my.website/payments/callback"</span><span class="p">,</span>
  <span class="s2">"metadata.id"</span> <span class="o">=&gt;</span> <span class="s2">"1234"</span><span class="p">,</span>
  <span class="s2">"name.name"</span> <span class="o">=&gt;</span> <span class="s2">"Lucy"</span>
<span class="p">));</span>
<span class="cp">?&gt;</span>
</code></pre>
<pre class="highlight python"><code><span class="kn">import</span> <span class="nn">beyonic</span>
<span class="n">beyonic</span><span class="o">.</span><span class="n">api_key</span> <span class="o">=</span> <span class="s">'ab594c14986612f6167a975e1c369e71edab6900'</span>

<span class="n">kwargs</span> <span class="o">=</span> <span class="p">{</span><span class="s">'metadata.id'</span><span class="p">:</span> <span class="mi">1234</span><span class="p">,</span> <span class="s">'metadata.name'</span><span class="p">:</span> <span class="s">'Lucy'</span><span class="p">}</span>

<span class="n">beyonic</span><span class="o">.</span><span class="n">Payment</span><span class="o">.</span><span class="n">create</span><span class="p">(</span><span class="n">phonenumber</span><span class="o">=</span><span class="s">'+256773712831'</span><span class="p">,</span>
                       <span class="n">first_name</span><span class="o">=</span><span class="s">'Kennedy'</span><span class="p">,</span>
                       <span class="n">last_name</span><span class="o">=</span><span class="s">'Amani'</span><span class="p">,</span>
                       <span class="n">amount</span><span class="o">=</span><span class="s">'1200'</span><span class="p">,</span>
                       <span class="n">currency</span><span class="o">=</span><span class="s">'UGX'</span><span class="p">,</span>
                       <span class="n">account</span><span class="o">=</span><span class="s">'1'</span><span class="p">,</span>
                       <span class="n">description</span><span class="o">=</span><span class="s">'Per diem'</span><span class="p">,</span>
                       <span class="n">callback_url</span><span class="o">=</span><span class="s">'https://my.website/payments/callback'</span><span class="p">,</span>
                       <span class="o">**</span><span class="n">kwargs</span>
                       <span class="p">)</span>
</code></pre>
<pre class="highlight java"><code><span class="kn">package</span> <span class="n">com</span><span class="o">.</span><span class="na">beyonic</span><span class="o">.</span><span class="na">examples</span><span class="o">.</span><span class="na">payments</span><span class="o">;</span>

<span class="kn">import</span> <span class="nn">org.json.JSONException</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">org.json.JSONObject</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.io.*</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.net.HttpURLConnection</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.net.URL</span><span class="o">;</span>

<span class="kd">public</span> <span class="kd">class</span> <span class="nc">CreatePayment</span> <span class="o">{</span>

    <span class="kd">private</span> <span class="kd">static</span> <span class="kd">final</span> <span class="n">String</span> <span class="n">API_ENDPOINT</span> <span class="o">=</span> <span class="s">"https://app.beyonic.com/api/payments"</span><span class="o">;</span>
    <span class="kd">private</span> <span class="kd">static</span> <span class="kd">final</span> <span class="n">String</span> <span class="n">API_KEY</span> <span class="o">=</span> <span class="s">"ab594c14986612f6167a975e1c369e71edab6900"</span><span class="o">;</span>
    <span class="kd">private</span> <span class="kd">static</span> <span class="kd">final</span> <span class="n">String</span> <span class="n">CHARSET</span> <span class="o">=</span> <span class="s">"UTF-8"</span><span class="o">;</span>
    <span class="kd">private</span> <span class="kd">static</span> <span class="kd">final</span> <span class="n">String</span> <span class="n">PHONE_NUMBER</span> <span class="o">=</span> <span class="s">"+256773712831"</span><span class="o">;</span>
    <span class="kd">private</span> <span class="kd">static</span> <span class="kd">final</span> <span class="n">String</span> <span class="n">CURRENCY</span> <span class="o">=</span> <span class="s">"UGX"</span><span class="o">;</span>
    <span class="kd">private</span> <span class="kd">static</span> <span class="kd">final</span> <span class="n">String</span> <span class="n">DESCRIPTION</span> <span class="o">=</span> <span class="s">"Per Diem"</span><span class="o">;</span>
    <span class="kd">private</span> <span class="kd">static</span> <span class="kd">final</span> <span class="n">String</span> <span class="n">AMOUNT</span> <span class="o">=</span> <span class="s">"1200"</span><span class="o">;</span>
    <span class="kd">private</span> <span class="kd">static</span> <span class="kd">final</span> <span class="n">String</span> <span class="n">CALLBACK_URL</span> <span class="o">=</span> <span class="s">"https://my.website/payments/callback"</span><span class="o">;</span>

    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="n">main</span><span class="o">(</span><span class="n">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">){</span>
        <span class="n">URL</span> <span class="n">url</span> <span class="o">=</span> <span class="kc">null</span><span class="o">;</span>
        <span class="k">try</span> <span class="o">{</span>
            <span class="n">url</span> <span class="o">=</span> <span class="k">new</span> <span class="n">URL</span><span class="o">(</span><span class="n">API_ENDPOINT</span><span class="o">);</span>
            <span class="n">HttpURLConnection</span> <span class="n">conn</span> <span class="o">=</span> <span class="o">(</span><span class="n">HttpURLConnection</span><span class="o">)</span> <span class="n">url</span><span class="o">.</span><span class="na">openConnection</span><span class="o">();</span>

            <span class="n">conn</span><span class="o">.</span><span class="na">setRequestProperty</span><span class="o">(</span><span class="s">"Content-Type"</span><span class="o">,</span> <span class="s">"application/json"</span><span class="o">);</span>
            <span class="n">conn</span><span class="o">.</span><span class="na">setRequestProperty</span><span class="o">(</span><span class="s">"Accept"</span><span class="o">,</span> <span class="s">"application/json"</span><span class="o">);</span>
            <span class="n">conn</span><span class="o">.</span><span class="na">setRequestProperty</span><span class="o">(</span><span class="s">"charset"</span><span class="o">,</span> <span class="n">CHARSET</span><span class="o">);</span>
            <span class="n">conn</span><span class="o">.</span><span class="na">setRequestProperty</span><span class="o">(</span><span class="s">"Authorization"</span><span class="o">,</span> <span class="s">"Token "</span> <span class="o">+</span> <span class="n">API_KEY</span><span class="o">);</span>
            <span class="n">conn</span><span class="o">.</span><span class="na">setRequestMethod</span><span class="o">(</span><span class="s">"POST"</span><span class="o">);</span>
            <span class="n">conn</span><span class="o">.</span><span class="na">setDoOutput</span><span class="o">(</span><span class="kc">true</span><span class="o">);</span>
            <span class="n">conn</span><span class="o">.</span><span class="na">setDoInput</span><span class="o">(</span><span class="kc">true</span><span class="o">);</span>

            <span class="n">JSONObject</span> <span class="n">paymentObject</span> <span class="o">=</span> <span class="n">createPaymentObject</span><span class="o">();</span>

            <span class="n">BufferedWriter</span> <span class="n">out</span> <span class="o">=</span> <span class="k">new</span> <span class="n">BufferedWriter</span><span class="o">(</span><span class="k">new</span> <span class="n">OutputStreamWriter</span><span class="o">(</span><span class="n">conn</span><span class="o">.</span><span class="na">getOutputStream</span><span class="o">()));</span>
            <span class="n">out</span><span class="o">.</span><span class="na">write</span><span class="o">(</span><span class="n">paymentObject</span><span class="o">.</span><span class="na">toString</span><span class="o">());</span>
            <span class="n">out</span><span class="o">.</span><span class="na">close</span><span class="o">();</span>

            <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">conn</span><span class="o">.</span><span class="na">getResponseCode</span><span class="o">()</span> <span class="o">+</span> <span class="s">" // "</span> <span class="o">+</span> <span class="n">conn</span><span class="o">.</span><span class="na">getResponseMessage</span><span class="o">());</span>

            <span class="k">try</span> <span class="o">{</span>
                <span class="k">if</span> <span class="o">(</span><span class="n">conn</span><span class="o">.</span><span class="na">getResponseCode</span><span class="o">()</span> <span class="o">==</span> <span class="mi">201</span><span class="o">)</span> <span class="o">{</span>
                    <span class="n">InputStream</span> <span class="n">inputStream</span> <span class="o">=</span> <span class="n">conn</span><span class="o">.</span><span class="na">getInputStream</span><span class="o">();</span>
                    <span class="n">BufferedReader</span> <span class="n">reader</span> <span class="o">=</span> <span class="k">new</span> <span class="n">BufferedReader</span><span class="o">(</span><span class="k">new</span> <span class="n">InputStreamReader</span><span class="o">(</span><span class="n">inputStream</span><span class="o">));</span>
                    <span class="n">String</span> <span class="n">response</span> <span class="o">=</span> <span class="n">reader</span><span class="o">.</span><span class="na">readLine</span><span class="o">();</span>
                    <span class="n">reader</span><span class="o">.</span><span class="na">close</span><span class="o">();</span>

                    <span class="n">JSONObject</span> <span class="n">obj</span> <span class="o">=</span> <span class="k">new</span> <span class="n">JSONObject</span><span class="o">(</span><span class="n">response</span><span class="o">);</span>
                    <span class="kt">int</span> <span class="n">paymentID</span> <span class="o">=</span> <span class="n">obj</span><span class="o">.</span><span class="na">getInt</span><span class="o">(</span><span class="s">"id"</span><span class="o">);</span>
                    <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"ID of created Payment: "</span> <span class="o">+</span> <span class="n">paymentID</span><span class="o">);</span>
                <span class="o">}</span>
            <span class="o">}</span> <span class="k">finally</span> <span class="o">{</span>
                <span class="n">conn</span><span class="o">.</span><span class="na">disconnect</span><span class="o">();</span>
            <span class="o">}</span>

        <span class="o">}</span> <span class="k">catch</span> <span class="o">(</span><span class="n">Exception</span> <span class="n">e</span><span class="o">)</span> <span class="o">{</span>
            <span class="n">e</span><span class="o">.</span><span class="na">printStackTrace</span><span class="o">();</span>
        <span class="o">}</span>
    <span class="o">}</span>

    <span class="kd">private</span> <span class="kd">static</span> <span class="n">JSONObject</span> <span class="n">createPaymentObject</span><span class="o">()</span> <span class="kd">throws</span> <span class="n">JSONException</span> <span class="o">{</span>
        <span class="n">JSONObject</span> <span class="n">payment</span> <span class="o">=</span> <span class="k">new</span> <span class="n">JSONObject</span><span class="o">();</span>
        <span class="n">payment</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="s">"phonenumber"</span><span class="o">,</span> <span class="n">PHONE_NUMBER</span><span class="o">);</span>
        <span class="n">payment</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="s">"amount"</span><span class="o">,</span> <span class="n">AMOUNT</span><span class="o">);</span>
        <span class="n">payment</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="s">"currency"</span><span class="o">,</span> <span class="n">CURRENCY</span><span class="o">);</span>
        <span class="n">payment</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="s">"description"</span><span class="o">,</span> <span class="n">DESCRIPTION</span><span class="o">);</span>
        <span class="n">payment</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="s">"callback_url"</span><span class="o">,</span> <span class="n">CALLBACK_URL</span><span class="o">);</span>
        <span class="k">return</span> <span class="n">payment</span><span class="o">;</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre>

<blockquote>
<p>Sample Response (JSON):</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
    </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">3620</span><span class="p">,</span><span class="w">
    </span><span class="nt">"organization"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nt">"amount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"30"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"UGX"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"account"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"payment_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"money"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"metadata"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1234</span><span class="p">,</span><span class="w"> </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Lucy"</span><span class="p">},</span><span class="w">
    </span><span class="nt">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Per diem payment"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"phone_nos"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"+256772781923"</span><span class="p">],</span><span class="w">
    </span><span class="nt">"state"</span><span class="p">:</span><span class="w"> </span><span class="s2">"new"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"last_error"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nt">"rejected_reason"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nt">"rejected_by"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nt">"rejected_time"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nt">"cancelled_reason"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nt">"cancelled_by"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nt">"cancelled_time"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nt">"created"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2014-11-22T20:57:04.017Z"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"author"</span><span class="p">:</span><span class="w"> </span><span class="mi">15</span><span class="p">,</span><span class="w">
    </span><span class="nt">"modified"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2014-11-22T20:57:04.018Z"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"updated_by"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nt">"start_date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2014-11-22T20:57:04.018Z"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>To create a new payment, make a POST to the end point above, with the attributes below.</p>

<p><strong>Note</strong>:</p>

<ul>
<li>A contact is created for each new phone number you send payments to. This gives you the benefits of the pre-verification checks that are done prior to payment processing.</li>
<li>If the contact isn&rsquo;t registered for mobile money, then the payment will not be sent.</li>
<li><strong>Important</strong>: One of the pre-verification checks does a name match check to make sure that the contact name is right. This check can cause your payments to fail if the names that you are sending are not the same as the names in the telecom database. If you want to by-pass this check, go into your settings in your account and uncheck the checkbox that says &ldquo;Name match affects payment&rdquo;.</li>
<li><strong>Important</strong>: The account and currency parameters are both optional but you must provide one of them. If you provide both them then the account&rsquo;s currency must match the currency parameter.</li>
</ul>

<table><thead>
<tr>
<th>Parameter</th>
<th>Required</th>
<th>Type</th>
<th>Example</th>
<th>Notes</th>
</tr>
</thead><tbody>
<tr>
<td>phonenumber</td>
<td>Yes</td>
<td>String</td>
<td>+256773712831</td>
<td>Must be in international format</td>
</tr>
<tr>
<td>amount</td>
<td>Yes</td>
<td>String, Integer or Decimal</td>
<td>3000</td>
<td>Do not include thousands separators</td>
</tr>
<tr>
<td>currency</td>
<td>No</td>
<td>String</td>
<td>UGX</td>
<td>3 letter ISO currency code. No currency conversion is done, so the currency must be valid for the selected phonenumber. You must have a funded Beyonic account in this currency. If your account for this currency has zero balance, your payment will fail. If you also provide an account parameter then the account&rsquo;s currency must match the currency parameter.</td>
</tr>
<tr>
<td>account</td>
<td>No</td>
<td>Integer</td>
<td>1</td>
<td>The ID of the account from which you are making the payment. The account must be active and funded. If the account has zero balance, your payment will fail. This parameter is optional if a currency is provided. If you have more than one account with the same currency, and you leave this parameter out, the earliest created account (oldest account) that is still active will be used.</td>
</tr>
<tr>
<td>description</td>
<td>Yes</td>
<td>String</td>
<td>Per diem payment</td>
<td>This description will be sent to the recipient along with the payment, so it should be limited to about 140 characters.</td>
</tr>
<tr>
<td>payment_type</td>
<td>No</td>
<td>String</td>
<td>money</td>
<td>Options: money (default), airtime - use &ldquo;airtime&rdquo; to send an airtime payment instead of a mobile money payment</td>
</tr>
<tr>
<td>callback_url</td>
<td>No</td>
<td>String</td>
<td>https://my.website/payments/callback</td>
<td>See &ldquo;Callback URLs&rdquo; below for more info.</td>
</tr>
<tr>
<td>metadata</td>
<td>No</td>
<td>JSON-formatted string or dictionary</td>
<td>&ldquo;{&lsquo;id&rsquo;:&#39;1234&rsquo;,&#39;name&rsquo;:&#39;Lucy&rsquo;}&rdquo;</td>
<td>Metadata allows you to add custom attributes to your payments. E.g. You can include a unique ID to identify each payment. Attributes must be key-value pairs. Both the keys and values must be strings. You can add up to 10 attributes. This data will be returned when you retrieve a payment.</td>
</tr>
<tr>
<td>first_name</td>
<td>No</td>
<td>String</td>
<td>John</td>
<td>If this payment is to a new contact, you can include their first name. This name will only be used if the phone number is new.</td>
</tr>
<tr>
<td>last_name</td>
<td>No</td>
<td>String</td>
<td>Doe</td>
<td>If this payment is to a new contact, you can include their last name. This name will only be used if the phone number is new.</td>
</tr>
</tbody></table>

<p><strong>Callback URLs</strong></p>

<p>Callback URLs are used to send notifications of changes in payment status. Not all payments will be completed immediately, especially if it is a payment to a new number that hasn’t been verified, or if your account has approval rules that require other users to approve payments before they are processed.</p>

<ul>
<li>Non-HTTPS URLs will be rejected.</li>
<li>Data will be posted to the URL, and a 200 response is expected.</li>
<li>In version 1, a non 200 response may result in deletion of the URL, and no further notifications will be sent.</li>
<li>In version 1, the URL you submit isn’t specific to the payment you have created. Once submitted, it will receive notifications for all future payments made via your organization, whether they are made via the API or via the web-interface.</li>
<li>Therefore, you are encouraged to use the same URL for all payments. Since URLs are stored at a per-organization level, using different URLs may result in duplicate notifications being sent to the different URLs.</li>
<li>In version 1, previously submitted urls can be deleted via the web browser, or the Webhooks API methods described elsewhere in this reference.</li>
</ul>

<p><strong>Responses</strong></p>

<ul>
<li>If successful, a JSON representation of the new payment object will be returned. The state field will be &ldquo;new&rdquo;</li>
<li>The payment object can be identified using it’s id field, or the metadata that you supplied.</li>
<li>On subsequent notification callbacks to your callback URL, the same payment object (with the same id field) will be returned. Check the state field for the latest payment status.</li>
<li>The state field values can be:

<ul>
<li>new – for new payments</li>
<li>processed – for successfully completed payments</li>
<li>processed_with_errors – for payments that didn’t complete successfully. The last_error field with have more information.</li>
<li>rejected – for payments that were rejected during the approval process. The following fields will have more information: rejected_reason, rejected_by and rejected_time</li>
<li>cancelled – for payments that were cancelled. The following fields will have more information: cancelled_reason, cancelled_by and cancelled_time</li>
</ul></li>
</ul>

<h2 id="retrieving-a-single-payment">Retrieving a single payment</h2>

<blockquote>
<p>Sample Request:</p>
</blockquote>
<pre class="highlight shell"><code>curl https://app.beyonic.com/api/payments/22744 -H <span class="s2">"Authorization: Token ab594c14986612f6167a975e1c369e71edab6900"</span>
</code></pre>
<pre class="highlight ruby"><code><span class="nb">require</span> <span class="s1">'beyonic'</span>
<span class="no">Beyonic</span><span class="p">.</span><span class="nf">api_key</span> <span class="o">=</span> <span class="s1">'ab594c14986612f6167a975e1c369e71edab6900'</span>

<span class="n">payment</span> <span class="o">=</span> <span class="no">Beyonic</span><span class="o">::</span><span class="no">Payment</span><span class="p">.</span><span class="nf">get</span><span class="p">(</span><span class="mi">22744</span><span class="p">)</span>
</code></pre>
<pre class="highlight php"><code><span class="cp">&lt;?php</span>
<span class="k">require_once</span><span class="p">(</span><span class="s1">'./lib/Beyonic.php'</span><span class="p">);</span>
<span class="nx">Beyonic</span><span class="o">::</span><span class="na">setApiKey</span><span class="p">(</span><span class="s2">"ab594c14986612f6167a975e1c369e71edab6900"</span><span class="p">);</span>

<span class="nv">$payment</span> <span class="o">=</span> <span class="nx">Beyonic_Payment</span><span class="o">::</span><span class="na">get</span><span class="p">(</span><span class="mi">22744</span><span class="p">);</span>
<span class="cp">?&gt;</span>
</code></pre>
<pre class="highlight python"><code><span class="kn">import</span> <span class="nn">beyonic</span>
<span class="n">beyonic</span><span class="o">.</span><span class="n">api_key</span> <span class="o">=</span> <span class="s">'ab594c14986612f6167a975e1c369e71edab6900'</span>

<span class="n">payment</span> <span class="o">=</span> <span class="n">beyonic</span><span class="o">.</span><span class="n">Payment</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="mi">22744</span><span class="p">)</span>

</code></pre>
<pre class="highlight java"><code><span class="kn">package</span> <span class="n">com</span><span class="o">.</span><span class="na">beyonic</span><span class="o">.</span><span class="na">examples</span><span class="o">.</span><span class="na">payments</span><span class="o">;</span>

<span class="kn">import</span> <span class="nn">java.io.BufferedReader</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.io.InputStream</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.io.InputStreamReader</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.net.HttpURLConnection</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.net.URL</span><span class="o">;</span>


<span class="kd">public</span> <span class="kd">class</span> <span class="nc">SinglePaymentExample</span> <span class="o">{</span>

    <span class="kd">private</span> <span class="kd">static</span> <span class="kd">final</span> <span class="n">String</span> <span class="n">API_ENDPOINT</span> <span class="o">=</span> <span class="s">"https://app.beyonic.com/api/payments"</span><span class="o">;</span>
    <span class="kd">private</span> <span class="kd">static</span> <span class="kd">final</span> <span class="n">String</span> <span class="n">API_KEY</span> <span class="o">=</span> <span class="s">"ab594c14986612f6167a975e1c369e71edab6900"</span><span class="o">;</span>
    <span class="kd">private</span> <span class="kd">static</span> <span class="kd">final</span> <span class="n">String</span> <span class="n">CHARSET</span> <span class="o">=</span> <span class="s">"UTF-8"</span><span class="o">;</span>

    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="n">main</span><span class="o">(</span><span class="n">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">){</span>
        <span class="n">URL</span> <span class="n">url</span> <span class="o">=</span> <span class="kc">null</span><span class="o">;</span>
        <span class="k">try</span> <span class="o">{</span>
            <span class="n">url</span> <span class="o">=</span> <span class="k">new</span> <span class="n">URL</span><span class="o">(</span><span class="n">API_ENDPOINT</span> <span class="o">+</span> <span class="s">"/22744"</span><span class="o">);</span>
            <span class="n">HttpURLConnection</span> <span class="n">conn</span> <span class="o">=</span> <span class="o">(</span><span class="n">HttpURLConnection</span><span class="o">)</span> <span class="n">url</span><span class="o">.</span><span class="na">openConnection</span><span class="o">();</span>

            <span class="n">conn</span><span class="o">.</span><span class="na">setRequestProperty</span><span class="o">(</span><span class="s">"Content-Type"</span><span class="o">,</span> <span class="s">"application/json"</span><span class="o">);</span>
            <span class="n">conn</span><span class="o">.</span><span class="na">setRequestProperty</span><span class="o">(</span><span class="s">"Accept"</span><span class="o">,</span> <span class="s">"application/json"</span><span class="o">);</span>
            <span class="n">conn</span><span class="o">.</span><span class="na">setRequestProperty</span><span class="o">(</span><span class="s">"charset"</span><span class="o">,</span> <span class="n">CHARSET</span><span class="o">);</span>
            <span class="n">conn</span><span class="o">.</span><span class="na">setRequestProperty</span><span class="o">(</span><span class="s">"Authorization"</span><span class="o">,</span> <span class="s">"Token "</span> <span class="o">+</span> <span class="n">API_KEY</span><span class="o">);</span>

            <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">conn</span><span class="o">.</span><span class="na">getResponseCode</span><span class="o">()</span> <span class="o">+</span> <span class="s">" // "</span> <span class="o">+</span> <span class="n">conn</span><span class="o">.</span><span class="na">getResponseMessage</span><span class="o">());</span>

            <span class="k">try</span> <span class="o">{</span>
                <span class="k">if</span> <span class="o">(</span><span class="n">conn</span><span class="o">.</span><span class="na">getResponseCode</span><span class="o">()</span> <span class="o">==</span> <span class="mi">200</span><span class="o">)</span> <span class="o">{</span>
                    <span class="n">InputStream</span> <span class="n">inputStream</span> <span class="o">=</span> <span class="n">conn</span><span class="o">.</span><span class="na">getInputStream</span><span class="o">();</span>
                    <span class="n">BufferedReader</span> <span class="n">reader</span> <span class="o">=</span> <span class="k">new</span> <span class="n">BufferedReader</span><span class="o">(</span><span class="k">new</span> <span class="n">InputStreamReader</span><span class="o">(</span><span class="n">inputStream</span><span class="o">));</span>
                    <span class="n">String</span> <span class="n">response</span> <span class="o">=</span> <span class="n">reader</span><span class="o">.</span><span class="na">readLine</span><span class="o">();</span>
                    <span class="n">reader</span><span class="o">.</span><span class="na">close</span><span class="o">();</span>

                    <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">response</span><span class="o">);</span>
                <span class="o">}</span>
            <span class="o">}</span> <span class="k">finally</span> <span class="o">{</span>
                <span class="n">conn</span><span class="o">.</span><span class="na">disconnect</span><span class="o">();</span>
            <span class="o">}</span>

        <span class="o">}</span> <span class="k">catch</span> <span class="o">(</span><span class="n">Exception</span> <span class="n">e</span><span class="o">)</span> <span class="o">{</span>
            <span class="n">e</span><span class="o">.</span><span class="na">printStackTrace</span><span class="o">();</span>
        <span class="o">}</span>
    <span class="o">}</span>

<span class="o">}</span>
</code></pre>

<blockquote>
<p>Sample Response (JSON):</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
    </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">22744</span><span class="p">,</span><span class="w">
    </span><span class="nt">"organization"</span><span class="p">:</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span><span class="w">
    </span><span class="nt">"amount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1200.0000"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"UGX"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"account"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"payment_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"money"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"metadata"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1234</span><span class="p">,</span><span class="w"> </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Lucy"</span><span class="p">},</span><span class="w">
    </span><span class="nt">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Per diem payment"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"phone_nos"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"+256773712831"</span><span class="p">],</span><span class="w">
    </span><span class="nt">"state"</span><span class="p">:</span><span class="w"> </span><span class="s2">"new"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"last_error"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nt">"rejected_reason"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nt">"rejected_by"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nt">"rejected_time"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nt">"cancelled_reason"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nt">"cancelled_by"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nt">"cancelled_time"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nt">"created"</span><span class="p">:</span><span class="s2">"2016-03-31T08:08:01Z"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"author"</span><span class="p">:</span><span class="mi">134</span><span class="p">,</span><span class="w">
    </span><span class="nt">"modified"</span><span class="p">:</span><span class="s2">"2016-03-31T08:08:45Z"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"updated_by"</span><span class="p">:</span><span class="mi">134</span><span class="p">,</span><span class="w">
    </span><span class="nt">"start_date"</span><span class="p">:</span><span class="s2">"2016-03-31T08:08:01Z"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>To retrieve a single payment object, provide the payment id and a payment object will be returned.</p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Required</th>
<th>Type</th>
<th>Example</th>
<th>Notes</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>Yes</td>
<td>Integer</td>
<td>2314</td>
<td>The id of the payment you want to retrieve</td>
</tr>
</tbody></table>

<h2 id="listing-all-payments">Listing all payments</h2>

<blockquote>
<p>Sample Request:</p>
</blockquote>
<pre class="highlight shell"><code>curl https://app.beyonic.com/api/payments -H <span class="s2">"Authorization: Token ab594c14986612f6167a975e1c369e71edab6900"</span>
</code></pre>
<pre class="highlight ruby"><code><span class="nb">require</span> <span class="s1">'beyonic'</span>
<span class="no">Beyonic</span><span class="p">.</span><span class="nf">api_key</span> <span class="o">=</span> <span class="s1">'ab594c14986612f6167a975e1c369e71edab6900'</span>

<span class="n">payments</span> <span class="o">=</span> <span class="no">Beyonic</span><span class="o">::</span><span class="no">Payment</span><span class="p">.</span><span class="nf">list</span>
</code></pre>
<pre class="highlight php"><code><span class="cp">&lt;?php</span>
<span class="k">require_once</span><span class="p">(</span><span class="s1">'./lib/Beyonic.php'</span><span class="p">);</span>
<span class="nx">Beyonic</span><span class="o">::</span><span class="na">setApiKey</span><span class="p">(</span><span class="s2">"ab594c14986612f6167a975e1c369e71edab6900"</span><span class="p">);</span>

<span class="nv">$payments</span> <span class="o">=</span> <span class="nx">Beyonic_Payment</span><span class="o">::</span><span class="na">getAll</span><span class="p">();</span>
<span class="cp">?&gt;</span>
</code></pre>
<pre class="highlight python"><code><span class="kn">import</span> <span class="nn">beyonic</span>
<span class="n">beyonic</span><span class="o">.</span><span class="n">api_key</span> <span class="o">=</span> <span class="s">'ab594c14986612f6167a975e1c369e71edab6900'</span>

<span class="n">payments</span> <span class="o">=</span> <span class="n">beyonic</span><span class="o">.</span><span class="n">Payment</span><span class="o">.</span><span class="nb">list</span><span class="p">()</span>

</code></pre>
<pre class="highlight java"><code><span class="kn">package</span> <span class="n">com</span><span class="o">.</span><span class="na">beyonic</span><span class="o">.</span><span class="na">examples</span><span class="o">.</span><span class="na">payments</span><span class="o">;</span>

<span class="kn">import</span> <span class="nn">java.io.BufferedReader</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.io.InputStream</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.io.InputStreamReader</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.net.HttpURLConnection</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.net.URL</span><span class="o">;</span>

<span class="kd">public</span> <span class="kd">class</span> <span class="nc">ListAllPaymentsExample</span> <span class="o">{</span>

    <span class="kd">private</span> <span class="kd">static</span> <span class="kd">final</span> <span class="n">String</span> <span class="n">API_ENDPOINT</span> <span class="o">=</span> <span class="s">"https://app.beyonic.com/api/payments"</span><span class="o">;</span>
    <span class="kd">private</span> <span class="kd">static</span> <span class="kd">final</span> <span class="n">String</span> <span class="n">API_KEY</span> <span class="o">=</span> <span class="s">"ab594c14986612f6167a975e1c369e71edab6900"</span><span class="o">;</span>
    <span class="kd">private</span> <span class="kd">static</span> <span class="kd">final</span> <span class="n">String</span> <span class="n">CHARSET</span> <span class="o">=</span> <span class="s">"UTF-8"</span><span class="o">;</span>

    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="n">main</span><span class="o">(</span><span class="n">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">){</span>
        <span class="n">URL</span> <span class="n">url</span> <span class="o">=</span> <span class="kc">null</span><span class="o">;</span>
        <span class="k">try</span> <span class="o">{</span>
            <span class="n">url</span> <span class="o">=</span> <span class="k">new</span> <span class="n">URL</span><span class="o">(</span><span class="n">API_ENDPOINT</span><span class="o">);</span>
            <span class="n">HttpURLConnection</span> <span class="n">conn</span> <span class="o">=</span> <span class="o">(</span><span class="n">HttpURLConnection</span><span class="o">)</span> <span class="n">url</span><span class="o">.</span><span class="na">openConnection</span><span class="o">();</span>

            <span class="n">conn</span><span class="o">.</span><span class="na">setRequestProperty</span><span class="o">(</span><span class="s">"Content-Type"</span><span class="o">,</span> <span class="s">"application/json"</span><span class="o">);</span>
            <span class="n">conn</span><span class="o">.</span><span class="na">setRequestProperty</span><span class="o">(</span><span class="s">"Accept"</span><span class="o">,</span> <span class="s">"application/json"</span><span class="o">);</span>
            <span class="n">conn</span><span class="o">.</span><span class="na">setRequestProperty</span><span class="o">(</span><span class="s">"charset"</span><span class="o">,</span> <span class="n">CHARSET</span><span class="o">);</span>
            <span class="n">conn</span><span class="o">.</span><span class="na">setRequestProperty</span><span class="o">(</span><span class="s">"Authorization"</span><span class="o">,</span> <span class="s">"Token "</span> <span class="o">+</span> <span class="n">API_KEY</span><span class="o">);</span>

            <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">conn</span><span class="o">.</span><span class="na">getResponseCode</span><span class="o">()</span> <span class="o">+</span> <span class="s">" // "</span> <span class="o">+</span> <span class="n">conn</span><span class="o">.</span><span class="na">getResponseMessage</span><span class="o">());</span>

            <span class="k">try</span> <span class="o">{</span>
                <span class="k">if</span> <span class="o">(</span><span class="n">conn</span><span class="o">.</span><span class="na">getResponseCode</span><span class="o">()</span> <span class="o">==</span> <span class="mi">200</span><span class="o">)</span> <span class="o">{</span>
                    <span class="n">InputStream</span> <span class="n">inputStream</span> <span class="o">=</span> <span class="n">conn</span><span class="o">.</span><span class="na">getInputStream</span><span class="o">();</span>
                    <span class="n">BufferedReader</span> <span class="n">reader</span> <span class="o">=</span> <span class="k">new</span> <span class="n">BufferedReader</span><span class="o">(</span><span class="k">new</span> <span class="n">InputStreamReader</span><span class="o">(</span><span class="n">inputStream</span><span class="o">));</span>
                    <span class="n">String</span> <span class="n">response</span> <span class="o">=</span> <span class="n">reader</span><span class="o">.</span><span class="na">readLine</span><span class="o">();</span>
                    <span class="n">reader</span><span class="o">.</span><span class="na">close</span><span class="o">();</span>

                    <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">response</span><span class="o">);</span>
                <span class="o">}</span>
            <span class="o">}</span> <span class="k">finally</span> <span class="o">{</span>
                <span class="n">conn</span><span class="o">.</span><span class="na">disconnect</span><span class="o">();</span>
            <span class="o">}</span>

        <span class="o">}</span> <span class="k">catch</span> <span class="o">(</span><span class="n">Exception</span> <span class="n">e</span><span class="o">)</span> <span class="o">{</span>
            <span class="n">e</span><span class="o">.</span><span class="na">printStackTrace</span><span class="o">();</span>
        <span class="o">}</span>
    <span class="o">}</span>

<span class="o">}</span>
</code></pre>

<blockquote>
<p>Sample Response (JSON)</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
    </span><span class="nt">"count"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
    </span><span class="nt">"next"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://app.beyonic.com/api/payments?offset=10"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"previous"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nt">"results"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
            </span><span class="nt">"organization"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Beyonic"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"amount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.0000"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"UGX"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"account"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"payment_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"money"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"metadata"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
            </span><span class="nt">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Test"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"phone_nos"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                </span><span class="s2">"+256784522613"</span><span class="w">
            </span><span class="p">],</span><span class="w">
            </span><span class="nt">"state"</span><span class="p">:</span><span class="w"> </span><span class="s2">"approved"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"last_error"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
            </span><span class="nt">"rejected_reason"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
            </span><span class="nt">"rejected_by"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
            </span><span class="nt">"rejected_time"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
            </span><span class="nt">"cancelled_reason"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
            </span><span class="nt">"cancelled_by"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
            </span><span class="nt">"cancelled_time"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
            </span><span class="nt">"created"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2013-08-20T17:21:39Z"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"author"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
            </span><span class="nt">"modified"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2013-08-20T17:21:39Z"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"updated_by"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
            </span><span class="nt">"start_date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2013-08-20T00:00:00Z"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
            </span><span class="nt">"organization"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Beyonic"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"amount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"200.0000"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"UGX"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"account"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"payment_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"money"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"metadata"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
            </span><span class="nt">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Test2"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"phone_nos"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                </span><span class="s2">"+256784522611"</span><span class="w">
            </span><span class="p">],</span><span class="w">
            </span><span class="nt">"state"</span><span class="p">:</span><span class="w"> </span><span class="s2">"scheduled"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"last_error"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
            </span><span class="nt">"rejected_reason"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
            </span><span class="nt">"rejected_by"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
            </span><span class="nt">"rejected_time"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
            </span><span class="nt">"cancelled_reason"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
            </span><span class="nt">"cancelled_by"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
            </span><span class="nt">"cancelled_time"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
            </span><span class="nt">"created"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2013-08-22T01:53:35Z"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"author"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
            </span><span class="nt">"modified"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2013-08-22T01:53:36Z"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"updated_by"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
            </span><span class="nt">"start_date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2013-08-21T00:00:00Z"</span><span class="w">
        </span><span class="p">},</span><span class="w">
</span></code></pre>

<p>To return a list of all payments, make a GET request to the payments endpoint. This will return a list of payment objects.</p>

<h2 id="filtering-payments">Filtering payments</h2>

<blockquote>
<p>Sample Request:</p>
</blockquote>
<pre class="highlight shell"><code>curl https://app.beyonic.com/api/payments?amount<span class="o">=</span>500 -H <span class="s2">"Authorization: Token ab594c14986612f6167a975e1c369e71edab6900"</span>
</code></pre>
<pre class="highlight ruby"><code><span class="nb">require</span> <span class="s1">'beyonic'</span>
<span class="no">Beyonic</span><span class="p">.</span><span class="nf">api_key</span> <span class="o">=</span> <span class="s1">'ab594c14986612f6167a975e1c369e71edab6900'</span>

<span class="n">payments</span> <span class="o">=</span> <span class="no">Beyonic</span><span class="o">::</span><span class="no">Payment</span><span class="p">.</span><span class="nf">list</span><span class="p">(</span>
  <span class="ss">amount: </span><span class="mi">500</span>
<span class="p">)</span>
</code></pre>
<pre class="highlight php"><code><span class="cp">&lt;?php</span>
<span class="k">require_once</span><span class="p">(</span><span class="s1">'./lib/Beyonic.php'</span><span class="p">);</span>
<span class="nx">Beyonic</span><span class="o">::</span><span class="na">setApiKey</span><span class="p">(</span><span class="s2">"ab594c14986612f6167a975e1c369e71edab6900"</span><span class="p">);</span>

<span class="nv">$payments</span> <span class="o">=</span> <span class="nx">Beyonic_Payment</span><span class="o">::</span><span class="na">getAll</span><span class="p">(</span><span class="k">array</span><span class="p">(</span>
  <span class="s2">"amount"</span> <span class="o">=&gt;</span> <span class="mi">500</span>
<span class="p">));</span>
<span class="cp">?&gt;</span>
</code></pre>
<pre class="highlight python"><code><span class="kn">import</span> <span class="nn">beyonic</span>
<span class="n">beyonic</span><span class="o">.</span><span class="n">api_key</span> <span class="o">=</span> <span class="s">'ab594c14986612f6167a975e1c369e71edab6900'</span>

<span class="n">payments</span> <span class="o">=</span> <span class="n">beyonic</span><span class="o">.</span><span class="n">Payment</span><span class="o">.</span><span class="nb">list</span><span class="p">(</span><span class="n">amount</span><span class="o">=</span><span class="mi">500</span><span class="p">)</span>

</code></pre>
<pre class="highlight java"><code><span class="kn">package</span> <span class="n">com</span><span class="o">.</span><span class="na">beyonic</span><span class="o">.</span><span class="na">examples</span><span class="o">.</span><span class="na">payments</span><span class="o">;</span>

<span class="kn">import</span> <span class="nn">java.io.BufferedReader</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.io.InputStream</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.io.InputStreamReader</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.net.HttpURLConnection</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.net.URL</span><span class="o">;</span>

<span class="kd">public</span> <span class="kd">class</span> <span class="nc">FilterPaymentsExample</span> <span class="o">{</span>

    <span class="kd">private</span> <span class="kd">static</span> <span class="kd">final</span> <span class="n">String</span> <span class="n">API_ENDPOINT</span> <span class="o">=</span> <span class="s">"https://app.beyonic.com/api/payments"</span><span class="o">;</span>
    <span class="kd">private</span> <span class="kd">static</span> <span class="kd">final</span> <span class="n">String</span> <span class="n">API_KEY</span> <span class="o">=</span> <span class="s">"ab594c14986612f6167a975e1c369e71edab6900"</span><span class="o">;</span>
    <span class="kd">private</span> <span class="kd">static</span> <span class="kd">final</span> <span class="n">String</span> <span class="n">CHARSET</span> <span class="o">=</span> <span class="s">"UTF-8"</span><span class="o">;</span>

    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="n">main</span><span class="o">(</span><span class="n">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">){</span>
        <span class="n">URL</span> <span class="n">url</span> <span class="o">=</span> <span class="kc">null</span><span class="o">;</span>
        <span class="k">try</span> <span class="o">{</span>
            <span class="n">url</span> <span class="o">=</span> <span class="k">new</span> <span class="n">URL</span><span class="o">(</span><span class="n">API_ENDPOINT</span> <span class="o">+</span> <span class="s">"?amount=500"</span><span class="o">);</span>
            <span class="n">HttpURLConnection</span> <span class="n">conn</span> <span class="o">=</span> <span class="o">(</span><span class="n">HttpURLConnection</span><span class="o">)</span> <span class="n">url</span><span class="o">.</span><span class="na">openConnection</span><span class="o">();</span>

            <span class="n">conn</span><span class="o">.</span><span class="na">setRequestProperty</span><span class="o">(</span><span class="s">"Content-Type"</span><span class="o">,</span> <span class="s">"application/json"</span><span class="o">);</span>
            <span class="n">conn</span><span class="o">.</span><span class="na">setRequestProperty</span><span class="o">(</span><span class="s">"Accept"</span><span class="o">,</span> <span class="s">"application/json"</span><span class="o">);</span>
            <span class="n">conn</span><span class="o">.</span><span class="na">setRequestProperty</span><span class="o">(</span><span class="s">"charset"</span><span class="o">,</span> <span class="n">CHARSET</span><span class="o">);</span>
            <span class="n">conn</span><span class="o">.</span><span class="na">setRequestProperty</span><span class="o">(</span><span class="s">"Authorization"</span><span class="o">,</span> <span class="s">"Token "</span> <span class="o">+</span> <span class="n">API_KEY</span><span class="o">);</span>

            <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">conn</span><span class="o">.</span><span class="na">getResponseCode</span><span class="o">()</span> <span class="o">+</span> <span class="s">" // "</span> <span class="o">+</span> <span class="n">conn</span><span class="o">.</span><span class="na">getResponseMessage</span><span class="o">());</span>

            <span class="k">try</span> <span class="o">{</span>
                <span class="k">if</span> <span class="o">(</span><span class="n">conn</span><span class="o">.</span><span class="na">getResponseCode</span><span class="o">()</span> <span class="o">==</span> <span class="mi">200</span><span class="o">)</span> <span class="o">{</span>
                    <span class="n">InputStream</span> <span class="n">inputStream</span> <span class="o">=</span> <span class="n">conn</span><span class="o">.</span><span class="na">getInputStream</span><span class="o">();</span>
                    <span class="n">BufferedReader</span> <span class="n">reader</span> <span class="o">=</span> <span class="k">new</span> <span class="n">BufferedReader</span><span class="o">(</span><span class="k">new</span> <span class="n">InputStreamReader</span><span class="o">(</span><span class="n">inputStream</span><span class="o">));</span>
                    <span class="n">String</span> <span class="n">response</span> <span class="o">=</span> <span class="n">reader</span><span class="o">.</span><span class="na">readLine</span><span class="o">();</span>
                    <span class="n">reader</span><span class="o">.</span><span class="na">close</span><span class="o">();</span>

                    <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">response</span><span class="o">);</span>
                <span class="o">}</span>
            <span class="o">}</span> <span class="k">finally</span> <span class="o">{</span>
                <span class="n">conn</span><span class="o">.</span><span class="na">disconnect</span><span class="o">();</span>
            <span class="o">}</span>

        <span class="o">}</span> <span class="k">catch</span> <span class="o">(</span><span class="n">Exception</span> <span class="n">e</span><span class="o">)</span> <span class="o">{</span>
            <span class="n">e</span><span class="o">.</span><span class="na">printStackTrace</span><span class="o">();</span>
        <span class="o">}</span>
    <span class="o">}</span>

<span class="o">}</span>
</code></pre>

<p>You can search or filter payments on the following fields. Simply add them to your request as shown in the examples. You can combine multiple filters. Note that filters return exact matches only.</p>

<ul>
<li>amount - the payment amount</li>
<li>currency - the payment currency code</li>
<li>payment_type - the payment type</li>
</ul>

          <h1 id="webhooks">Webhooks</h1>

<h2 id="introduction">Introduction</h2>

<p>Webhooks or callback URLs allow you to define URLs on your server that notifications should be sent to. Notifications are sent for specific events, as defined in the “Supported Event” section below.</p>

<p>You can be managed in two ways:</p>

<ul>
<li>By logging into your account via the web browser</li>
<li>By using the Webhooks API</li>
</ul>

<p><strong>Required permissions</strong></p>

<p>To manage webhooks, either with the API or the web browser, you must have “Manage Users and Organization Settings” permissions for your organization</p>

<p><strong>Managing Webhooks from the web browser</strong></p>

<p>To manage webhooks using the web browser:
1. Log into your account.
2. Go to your organizations profile page. You can access this either from the organizations menu, or by clicking your organization name at the top left of the page.
3. Click the Settings button (Cog wheel with an arrow pointing down)
4. Click “Manage Webhooks” from the drop down menu that appears</p>

<p><strong>Managing Webhooks from the API</strong></p>

<p>You can use the Webhooks API described below to update or delete your callback URLs programatically.</p>

<p>The webhooks api endpoint is:</p>

<p><aside class="notice">https://app.beyonic.com/api/webhooks</aside></p>

<h2 id="the-webhook-object">The webhook object</h2>

<table><thead>
<tr>
<th>Field</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>long integer</td>
<td>Unique object identifier</td>
</tr>
<tr>
<td>user</td>
<td>long integer</td>
<td>The ID of the user who created the webhook</td>
</tr>
<tr>
<td>event</td>
<td>string</td>
<td>The webhook event. See supported events below</td>
</tr>
<tr>
<td>created</td>
<td>string</td>
<td>The date that the webhook was created, in the UTC timezone. Format: &ldquo;YYYY-MM-DDTHH:MM:SSZ&rdquo;</td>
</tr>
<tr>
<td>updated</td>
<td>string</td>
<td>The date that the webhook was last modified, in the UTC timezone. Format: &ldquo;YYYY-MM-DDTHH:MM:SSZ&rdquo;</td>
</tr>
<tr>
<td>target</td>
<td>string</td>
<td>The URL that triggered events will be sent to</td>
</tr>
</tbody></table>

<h2 id="supported-events">Supported events</h2>

<p>The following events are supported</p>

<table><thead>
<tr>
<th>Event</th>
<th>Description</th>
<th>Object returned in data</th>
</tr>
</thead><tbody>
<tr>
<td>payment.status.changed</td>
<td>Triggered any time a payment changes status.</td>
<td>Payment object</td>
</tr>
<tr>
<td>collection.received</td>
<td>Triggered any time a collection (an incoming payment) is received from a customer</td>
<td>Collection object</td>
</tr>
</tbody></table>

<h2 id="notification-body-format">Notification body format</h2>

<blockquote>
<p>Sample Response (JSON):</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
    </span><span class="nt">"hook"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">53</span><span class="p">,</span><span class="w">
                </span><span class="nt">"created"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-08-01T16:56:29Z"</span><span class="p">,</span><span class="w">
                </span><span class="nt">"updated"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-08-01T16:56:29Z"</span><span class="p">,</span><span class="w">
                </span><span class="nt">"event"</span><span class="p">:</span><span class="w"> </span><span class="s2">"payment.status.changed"</span><span class="p">,</span><span class="w">
                </span><span class="nt">"target"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://my.callback.url/"</span><span class="p">,</span><span class="w">
                </span><span class="nt">"user"</span><span class="p">:</span><span class="w"> </span><span class="mi">42</span><span class="w">
            </span><span class="p">},</span><span class="w">
    </span><span class="nt">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">2314</span><span class="p">,</span><span class="w"> 
                </span><span class="nt">"organization"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> 
                </span><span class="nt">"amount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"30"</span><span class="p">,</span><span class="w"> 
                </span><span class="nt">"currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"UGX"</span><span class="p">,</span><span class="w">
                </span><span class="nt">"payment_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"money"</span><span class="p">,</span><span class="w">
                </span><span class="nt">"metadata"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1234</span><span class="p">,</span><span class="w"> </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Lucy"</span><span class="p">},</span><span class="w"> 
                </span><span class="nt">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Per diem payment"</span><span class="p">,</span><span class="w"> 
                </span><span class="nt">"phone_nos"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"+256772781923"</span><span class="p">],</span><span class="w"> 
                </span><span class="nt">"state"</span><span class="p">:</span><span class="w"> </span><span class="s2">"completed"</span><span class="p">,</span><span class="w"> 
                </span><span class="nt">"last_error"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
                </span><span class="nt">"rejected_reason"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
                </span><span class="nt">"rejected_by"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
                </span><span class="nt">"rejected_time"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
                </span><span class="nt">"cancelled_reason"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
                </span><span class="nt">"cancelled_by"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
                </span><span class="nt">"cancelled_time"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w"> 
                </span><span class="nt">"created"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2014-11-22T20:57:04.017Z"</span><span class="p">,</span><span class="w">
                </span><span class="nt">"author"</span><span class="p">:</span><span class="w"> </span><span class="mi">15</span><span class="p">,</span><span class="w">
                </span><span class="nt">"modified"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2014-11-22T20:57:04.018Z"</span><span class="p">,</span><span class="w">
                </span><span class="nt">"updated_by"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
                </span><span class="nt">"start_date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2014-11-22T20:57:04.018Z"</span><span class="w">
            </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>When an event is triggered, a JSON post will be sent to the URL that subscribed to the webhook. The JSON post body will include the following information:</p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>hook</td>
<td>A JSON representation of a webhook object. See the see webhook section below.</td>
</tr>
<tr>
<td>data</td>
<td>A JSON representation of the object that triggered the event. This is different for each event. See the &lsquo;Supported events&rsquo; section above.</td>
</tr>
</tbody></table>

<h2 id="tips-for-testing-callbacks">Tips for testing callbacks</h2>

<p><strong>1. Https with invalid certificates</strong></p>

<p>Beyonic only supports notification urls that start with &ldquo;https://&rdquo;, even when testing. So, you should set up URL to a dedicated page on your server with a server-side https certificate. </p>

<p>Beyonic will usually validate the https certificate, and if validation fails, the notification will not be sent to your URL. To skip validation while testing, add ?skip-cert-verify to your URL, for example: 
    <aside class="notice">https://my.callback.url.com?skip-cert-verify.</aside></p>

<p>Note that skip-cert-verify only prevents certificate verification. It doesn&rsquo;t eliminate the &ldquo;https://&rdquo; requirement</p>

<p>While you can use skip-cert-verify on your production URLs, we advise you to use valid server side certificates to maximize security on your production systems</p>

<p><strong>2. Setting up a temporary callback URL and verifying the format of the notifications</strong></p>

<p>If you are not able to set up a dedicated &ldquo;https://&rdquo; url while testing, we recommend using a service like <a href="https://requestb.in/">RequestBin</a>.</p>

<p>RequestBin gives you a URL that will collect requests made to it and let you inspect them in a human-friendly way. Use RequestBin to inspect and debug the webhook notifications.</p>

<p>Once you get a RequestBin URL, it uses http by default. Since Beyonic only supports https, remember to use &ldquo;https://&rdquo; and &ldquo;skip-cert-verify&rdquo;</p>

<p>For example, if your RequestBin URL is </p>

<p><aside class="notice">http://requestb.in/xzdqe313</aside></p>

<p>Then use this for your callback URLs:</p>

<p><aside class="notice">https://requestb.in/xzdqe313?skip-cert-verify</aside></p>

<p><strong>3. Logging all callback requests and responses</strong></p>

<p>RequestBin will only show you the request format, but will not send the request to your final callback URL, and will not show you the response that Beyonic is receiving from your callback URL.</p>

<p>A number of third party services can be used to provide request proxying and logging. For example, <a href="https://www.runscope.com/">Runscope</a> provides full traffic inspection and debugging via its Gateway URLs service. This service will provide a custom URL for you, that will proxy the callbacks to your real callback URL, and log both the requests and responses. Runscope provides free plans as well as paid plans.</p>

<p>Once you have your gateway URL from Runscope, use that as your callback URL in Beyonic.</p>

<p><a href="https://www.runscope.com/docs/debugging">See this article for more information.</a></p>

<h2 id="creating-a-new-webhook">Creating a new webhook</h2>

<blockquote>
<p>Sample Request:</p>
</blockquote>
<pre class="highlight shell"><code>curl http://app.beyonic.com/api/webhooks -H <span class="s2">"Authorization: Token ab594c14986612f6167a975e1c369e71edab6900"</span> <span class="se">\</span>
-d <span class="s2">"payment.status.changed"</span> <span class="se">\</span>
-d <span class="nv">target</span><span class="o">=</span><span class="s2">"https://my.callback.url/"</span>
</code></pre>
<pre class="highlight ruby"><code><span class="nb">require</span> <span class="s1">'beyonic'</span>
<span class="no">Beyonic</span><span class="p">.</span><span class="nf">api_key</span> <span class="o">=</span> <span class="s1">'ab594c14986612f6167a975e1c369e71edab6900'</span>

<span class="n">hook</span> <span class="o">=</span> <span class="no">Beyonic</span><span class="o">::</span><span class="no">Webhook</span><span class="p">.</span><span class="nf">create</span><span class="p">(</span>
    <span class="ss">event: </span><span class="s2">"payment.status.changed"</span><span class="p">,</span>
    <span class="ss">target: </span><span class="s2">"https://my.callback.url/"</span>
<span class="p">)</span>
</code></pre>
<pre class="highlight php"><code><span class="cp">&lt;?php</span>
<span class="k">require_once</span><span class="p">(</span><span class="s1">'./lib/Beyonic.php'</span><span class="p">);</span>
<span class="nx">Beyonic</span><span class="o">::</span><span class="na">setApiKey</span><span class="p">(</span><span class="s2">"ab594c14986612f6167a975e1c369e71edab6900"</span><span class="p">);</span>

<span class="nx">Beyonic_Webhook</span><span class="o">::</span><span class="na">create</span><span class="p">(</span><span class="k">array</span><span class="p">(</span>
  <span class="s2">"event"</span> <span class="o">=&gt;</span> <span class="s2">"payment.status.changed"</span><span class="p">,</span>
  <span class="s2">"target"</span> <span class="o">=&gt;</span> <span class="s2">"https://my.callback.url/"</span>
<span class="p">));</span>
<span class="cp">?&gt;</span>
</code></pre>
<pre class="highlight python"><code><span class="kn">import</span> <span class="nn">beyonic</span>
<span class="n">beyonic</span><span class="o">.</span><span class="n">api_key</span> <span class="o">=</span> <span class="s">'ab594c14986612f6167a975e1c369e71edab6900'</span>

<span class="n">hook</span> <span class="o">=</span> <span class="n">beyonic</span><span class="o">.</span><span class="n">Webhook</span><span class="o">.</span><span class="n">create</span><span class="p">(</span><span class="n">event</span><span class="o">=</span><span class="s">'payment.status.changed'</span><span class="p">,</span>
                              <span class="n">target</span><span class="o">=</span><span class="s">'https://my.callback.url/'</span>
                              <span class="p">)</span>

</code></pre>
<pre class="highlight java"><code><span class="kn">package</span> <span class="n">com</span><span class="o">.</span><span class="na">beyonic</span><span class="o">.</span><span class="na">examples</span><span class="o">.</span><span class="na">webhooks</span><span class="o">;</span>

<span class="kn">import</span> <span class="nn">org.json.JSONException</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">org.json.JSONObject</span><span class="o">;</span>

<span class="kn">import</span> <span class="nn">java.io.*</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.net.HttpURLConnection</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.net.URL</span><span class="o">;</span>

<span class="kd">public</span> <span class="kd">class</span> <span class="nc">CreateWebhookExample</span> <span class="o">{</span>

    <span class="kd">private</span> <span class="kd">static</span> <span class="kd">final</span> <span class="n">String</span> <span class="n">API_ENDPOINT</span> <span class="o">=</span> <span class="s">"https://app.beyonic.com/api/webhooks"</span><span class="o">;</span>
    <span class="kd">private</span> <span class="kd">static</span> <span class="kd">final</span> <span class="n">String</span> <span class="n">API_KEY</span> <span class="o">=</span> <span class="s">"ab594c14986612f6167a975e1c369e71edab6900"</span><span class="o">;</span>
    <span class="kd">private</span> <span class="kd">static</span> <span class="kd">final</span> <span class="n">String</span> <span class="n">CHARSET</span> <span class="o">=</span> <span class="s">"UTF-8"</span><span class="o">;</span>
    <span class="kd">private</span> <span class="kd">static</span> <span class="kd">final</span> <span class="n">String</span> <span class="n">EVENT</span> <span class="o">=</span> <span class="s">"payment.status.changed"</span><span class="o">;</span>
    <span class="kd">private</span> <span class="kd">static</span> <span class="kd">final</span> <span class="n">String</span> <span class="n">TARGET</span> <span class="o">=</span> <span class="s">"https://my.callback.url/"</span><span class="o">;</span>

    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="n">main</span><span class="o">(</span><span class="n">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">){</span>
        <span class="n">URL</span> <span class="n">url</span> <span class="o">=</span> <span class="kc">null</span><span class="o">;</span>
        <span class="k">try</span> <span class="o">{</span>
            <span class="n">url</span> <span class="o">=</span> <span class="k">new</span> <span class="n">URL</span><span class="o">(</span><span class="n">API_ENDPOINT</span><span class="o">);</span>
            <span class="n">HttpURLConnection</span> <span class="n">conn</span> <span class="o">=</span> <span class="o">(</span><span class="n">HttpURLConnection</span><span class="o">)</span> <span class="n">url</span><span class="o">.</span><span class="na">openConnection</span><span class="o">();</span>

            <span class="n">conn</span><span class="o">.</span><span class="na">setRequestProperty</span><span class="o">(</span><span class="s">"Content-Type"</span><span class="o">,</span> <span class="s">"application/json"</span><span class="o">);</span>
            <span class="n">conn</span><span class="o">.</span><span class="na">setRequestProperty</span><span class="o">(</span><span class="s">"Accept"</span><span class="o">,</span> <span class="s">"application/json"</span><span class="o">);</span>
            <span class="n">conn</span><span class="o">.</span><span class="na">setRequestProperty</span><span class="o">(</span><span class="s">"charset"</span><span class="o">,</span> <span class="n">CHARSET</span><span class="o">);</span>
            <span class="n">conn</span><span class="o">.</span><span class="na">setRequestProperty</span><span class="o">(</span><span class="s">"Authorization"</span><span class="o">,</span> <span class="s">"Token "</span> <span class="o">+</span> <span class="n">API_KEY</span><span class="o">);</span>
            <span class="n">conn</span><span class="o">.</span><span class="na">setRequestMethod</span><span class="o">(</span><span class="s">"POST"</span><span class="o">);</span>
            <span class="n">conn</span><span class="o">.</span><span class="na">setDoOutput</span><span class="o">(</span><span class="kc">true</span><span class="o">);</span>
            <span class="n">conn</span><span class="o">.</span><span class="na">setDoInput</span><span class="o">(</span><span class="kc">true</span><span class="o">);</span>

            <span class="n">JSONObject</span> <span class="n">contact</span> <span class="o">=</span> <span class="n">createWebhookObject</span><span class="o">();</span>

            <span class="n">BufferedWriter</span> <span class="n">out</span> <span class="o">=</span> <span class="k">new</span> <span class="n">BufferedWriter</span><span class="o">(</span><span class="k">new</span> <span class="n">OutputStreamWriter</span><span class="o">(</span><span class="n">conn</span><span class="o">.</span><span class="na">getOutputStream</span><span class="o">()));</span>
            <span class="n">out</span><span class="o">.</span><span class="na">write</span><span class="o">(</span><span class="n">contact</span><span class="o">.</span><span class="na">toString</span><span class="o">());</span>
            <span class="n">out</span><span class="o">.</span><span class="na">close</span><span class="o">();</span>

            <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">conn</span><span class="o">.</span><span class="na">getResponseCode</span><span class="o">()</span> <span class="o">+</span> <span class="s">" // "</span> <span class="o">+</span> <span class="n">conn</span><span class="o">.</span><span class="na">getResponseMessage</span><span class="o">());</span>

            <span class="kt">int</span> <span class="n">beyID</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span>
            <span class="k">try</span> <span class="o">{</span>
                <span class="k">if</span> <span class="o">(</span><span class="n">conn</span><span class="o">.</span><span class="na">getResponseCode</span><span class="o">()</span> <span class="o">==</span> <span class="mi">201</span><span class="o">)</span> <span class="o">{</span>
                    <span class="n">InputStream</span> <span class="n">inputStream</span> <span class="o">=</span> <span class="n">conn</span><span class="o">.</span><span class="na">getInputStream</span><span class="o">();</span>
                    <span class="n">BufferedReader</span> <span class="n">reader</span> <span class="o">=</span> <span class="k">new</span> <span class="n">BufferedReader</span><span class="o">(</span><span class="k">new</span> <span class="n">InputStreamReader</span><span class="o">(</span><span class="n">inputStream</span><span class="o">));</span>
                    <span class="n">String</span> <span class="n">response</span> <span class="o">=</span> <span class="n">reader</span><span class="o">.</span><span class="na">readLine</span><span class="o">();</span>
                    <span class="n">reader</span><span class="o">.</span><span class="na">close</span><span class="o">();</span>

                    <span class="n">JSONObject</span> <span class="n">obj</span> <span class="o">=</span> <span class="k">new</span> <span class="n">JSONObject</span><span class="o">(</span><span class="n">response</span><span class="o">);</span>
                    <span class="n">beyID</span> <span class="o">=</span> <span class="n">obj</span><span class="o">.</span><span class="na">getInt</span><span class="o">(</span><span class="s">"id"</span><span class="o">);</span>
                    <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"ID of created Webhook: "</span> <span class="o">+</span> <span class="n">beyID</span><span class="o">);</span>
                <span class="o">}</span>
            <span class="o">}</span> <span class="k">finally</span> <span class="o">{</span>
                <span class="n">conn</span><span class="o">.</span><span class="na">disconnect</span><span class="o">();</span>
            <span class="o">}</span>

        <span class="o">}</span> <span class="k">catch</span> <span class="o">(</span><span class="n">Exception</span> <span class="n">e</span><span class="o">)</span> <span class="o">{</span>
            <span class="n">e</span><span class="o">.</span><span class="na">printStackTrace</span><span class="o">();</span>
        <span class="o">}</span>
    <span class="o">}</span>

    <span class="kd">private</span> <span class="kd">static</span> <span class="n">JSONObject</span> <span class="n">createWebhookObject</span><span class="o">()</span> <span class="kd">throws</span> <span class="n">JSONException</span> <span class="o">{</span>
        <span class="n">JSONObject</span> <span class="n">webhook</span> <span class="o">=</span> <span class="k">new</span> <span class="n">JSONObject</span><span class="o">();</span>
        <span class="n">webhook</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="s">"event"</span><span class="o">,</span><span class="n">EVENT</span><span class="o">);</span>
        <span class="n">webhook</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="s">"target"</span><span class="o">,</span><span class="n">TARGET</span><span class="o">);</span>
        <span class="k">return</span> <span class="n">webhook</span><span class="o">;</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre>

<blockquote>
<p>Sample Response (JSON)</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
    </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">53</span><span class="p">,</span><span class="w">
    </span><span class="nt">"created"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-08-01T16:56:29Z"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"updated"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-08-01T16:56:29Z"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"event"</span><span class="p">:</span><span class="w"> </span><span class="s2">"payment.status.changed"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"target"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://my.callback.url/"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"user"</span><span class="p">:</span><span class="w"> </span><span class="mi">42</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>To create a new webhook, make a POST to the endpoint above, with the attributes below.</p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Required</th>
<th>Type</th>
<th>Example</th>
<th>Notes</th>
</tr>
</thead><tbody>
<tr>
<td>event</td>
<td>Yes</td>
<td>String</td>
<td>&#39;payment.status.changed&rsquo;</td>
<td>Must be a supported event</td>
</tr>
<tr>
<td>target</td>
<td>Yes</td>
<td>String</td>
<td>&#39;https://my.callback.url/&ldquo;&rsquo;</td>
<td>Must be an https URL</td>
</tr>
</tbody></table>

<p><strong>Responses</strong></p>

<ul>
<li>If successful, a JSON representation of the new webhook object will be returned.</li>
</ul>

<h2 id="retrieving-a-single-webhook">Retrieving a single webhook</h2>

<blockquote>
<p>Sample Request:</p>
</blockquote>
<pre class="highlight shell"><code>curl https://app.beyonic.com/api/webhooks/23 -H <span class="s2">"Authorization: Token ab594c14986612f6167a975e1c369e71edab6900"</span>
</code></pre>
<pre class="highlight ruby"><code><span class="nb">require</span> <span class="s1">'beyonic'</span>
<span class="no">Beyonic</span><span class="p">.</span><span class="nf">api_key</span> <span class="o">=</span> <span class="s1">'ab594c14986612f6167a975e1c369e71edab6900'</span>

<span class="n">hook</span> <span class="o">=</span> <span class="no">Beyonic</span><span class="o">::</span><span class="no">Webhook</span><span class="p">.</span><span class="nf">get</span><span class="p">(</span><span class="mi">23</span><span class="p">)</span>
</code></pre>
<pre class="highlight php"><code><span class="cp">&lt;?php</span>
<span class="k">require_once</span><span class="p">(</span><span class="s1">'./lib/Beyonic.php'</span><span class="p">);</span>
<span class="nx">Beyonic</span><span class="o">::</span><span class="na">setApiKey</span><span class="p">(</span><span class="s2">"ab594c14986612f6167a975e1c369e71edab6900"</span><span class="p">);</span>

<span class="nv">$hook</span> <span class="o">=</span> <span class="nx">Beyonic_Webhook</span><span class="o">::</span><span class="na">get</span><span class="p">(</span><span class="mi">23</span><span class="p">);</span>
<span class="cp">?&gt;</span>
</code></pre>
<pre class="highlight python"><code><span class="kn">import</span> <span class="nn">beyonic</span>
<span class="n">beyonic</span><span class="o">.</span><span class="n">api_key</span> <span class="o">=</span> <span class="s">'ab594c14986612f6167a975e1c369e71edab6900'</span>

<span class="n">hook</span> <span class="o">=</span> <span class="n">beyonic</span><span class="o">.</span><span class="n">Webhook</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="mi">23</span><span class="p">)</span>

</code></pre>
<pre class="highlight java"><code><span class="kn">package</span> <span class="n">com</span><span class="o">.</span><span class="na">beyonic</span><span class="o">.</span><span class="na">examples</span><span class="o">.</span><span class="na">webhooks</span><span class="o">;</span>

<span class="kn">import</span> <span class="nn">java.io.BufferedReader</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.io.InputStream</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.io.InputStreamReader</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.net.HttpURLConnection</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.net.URL</span><span class="o">;</span>


<span class="kd">public</span> <span class="kd">class</span> <span class="nc">SingleWebhookExample</span> <span class="o">{</span>

    <span class="kd">private</span> <span class="kd">static</span> <span class="kd">final</span> <span class="n">String</span> <span class="n">API_ENDPOINT</span> <span class="o">=</span> <span class="s">"https://app.beyonic.com/api/webhooks"</span><span class="o">;</span>
    <span class="kd">private</span> <span class="kd">static</span> <span class="kd">final</span> <span class="n">String</span> <span class="n">API_KEY</span> <span class="o">=</span> <span class="s">"ab594c14986612f6167a975e1c369e71edab6900"</span><span class="o">;</span>
    <span class="kd">private</span> <span class="kd">static</span> <span class="kd">final</span> <span class="n">String</span> <span class="n">CHARSET</span> <span class="o">=</span> <span class="s">"UTF-8"</span><span class="o">;</span>

    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="n">main</span><span class="o">(</span><span class="n">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">){</span>
        <span class="n">URL</span> <span class="n">url</span> <span class="o">=</span> <span class="kc">null</span><span class="o">;</span>
        <span class="k">try</span> <span class="o">{</span>
            <span class="n">url</span> <span class="o">=</span> <span class="k">new</span> <span class="n">URL</span><span class="o">(</span><span class="n">API_ENDPOINT</span> <span class="o">+</span> <span class="s">"/1"</span><span class="o">);</span>
            <span class="n">HttpURLConnection</span> <span class="n">conn</span> <span class="o">=</span> <span class="o">(</span><span class="n">HttpURLConnection</span><span class="o">)</span> <span class="n">url</span><span class="o">.</span><span class="na">openConnection</span><span class="o">();</span>

            <span class="n">conn</span><span class="o">.</span><span class="na">setRequestProperty</span><span class="o">(</span><span class="s">"Content-Type"</span><span class="o">,</span> <span class="s">"application/json"</span><span class="o">);</span>
            <span class="n">conn</span><span class="o">.</span><span class="na">setRequestProperty</span><span class="o">(</span><span class="s">"Accept"</span><span class="o">,</span> <span class="s">"application/json"</span><span class="o">);</span>
            <span class="n">conn</span><span class="o">.</span><span class="na">setRequestProperty</span><span class="o">(</span><span class="s">"charset"</span><span class="o">,</span> <span class="n">CHARSET</span><span class="o">);</span>
            <span class="n">conn</span><span class="o">.</span><span class="na">setRequestProperty</span><span class="o">(</span><span class="s">"Authorization"</span><span class="o">,</span> <span class="s">"Token "</span> <span class="o">+</span> <span class="n">API_KEY</span><span class="o">);</span>

            <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">conn</span><span class="o">.</span><span class="na">getResponseCode</span><span class="o">()</span> <span class="o">+</span> <span class="s">" // "</span> <span class="o">+</span> <span class="n">conn</span><span class="o">.</span><span class="na">getResponseMessage</span><span class="o">());</span>

            <span class="k">try</span> <span class="o">{</span>
                <span class="k">if</span> <span class="o">(</span><span class="n">conn</span><span class="o">.</span><span class="na">getResponseCode</span><span class="o">()</span> <span class="o">==</span> <span class="mi">200</span><span class="o">)</span> <span class="o">{</span>
                    <span class="n">InputStream</span> <span class="n">inputStream</span> <span class="o">=</span> <span class="n">conn</span><span class="o">.</span><span class="na">getInputStream</span><span class="o">();</span>
                    <span class="n">BufferedReader</span> <span class="n">reader</span> <span class="o">=</span> <span class="k">new</span> <span class="n">BufferedReader</span><span class="o">(</span><span class="k">new</span> <span class="n">InputStreamReader</span><span class="o">(</span><span class="n">inputStream</span><span class="o">));</span>
                    <span class="n">String</span> <span class="n">response</span> <span class="o">=</span> <span class="n">reader</span><span class="o">.</span><span class="na">readLine</span><span class="o">();</span>
                    <span class="n">reader</span><span class="o">.</span><span class="na">close</span><span class="o">();</span>

                    <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">response</span><span class="o">);</span>
                <span class="o">}</span>
            <span class="o">}</span> <span class="k">finally</span> <span class="o">{</span>
                <span class="n">conn</span><span class="o">.</span><span class="na">disconnect</span><span class="o">();</span>
            <span class="o">}</span>

        <span class="o">}</span> <span class="k">catch</span> <span class="o">(</span><span class="n">Exception</span> <span class="n">e</span><span class="o">)</span> <span class="o">{</span>
            <span class="n">e</span><span class="o">.</span><span class="na">printStackTrace</span><span class="o">();</span>
        <span class="o">}</span>
    <span class="o">}</span>

<span class="o">}</span>

</code></pre>

<blockquote>
<p>Sample Response (JSON)</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
    </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">23</span><span class="p">,</span><span class="w">
    </span><span class="nt">"created"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-08-01T16:56:29Z"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"updated"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-08-01T16:56:29Z"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"event"</span><span class="p">:</span><span class="w"> </span><span class="s2">"payment.status.changed"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"target"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://my.callback.url/"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"user"</span><span class="p">:</span><span class="w"> </span><span class="mi">42</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>To retrieve a single webhook object, provide the webhook id and a webhook object will be returned.</p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Required</th>
<th>Type</th>
<th>Example</th>
<th>Notes</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>Yes</td>
<td>Integer</td>
<td>23</td>
<td>The id of the webhook you want to retrieve</td>
</tr>
</tbody></table>

<h2 id="listing-all-webhooks">Listing all webhooks</h2>

<blockquote>
<p>Sample Request:</p>
</blockquote>
<pre class="highlight shell"><code>curl https://app.beyonic.com/api/webhooks -H <span class="s2">"Authorization: Token ab594c14986612f6167a975e1c369e71edab6900"</span>
</code></pre>
<pre class="highlight ruby"><code><span class="nb">require</span> <span class="s1">'beyonic'</span>
<span class="no">Beyonic</span><span class="p">.</span><span class="nf">api_key</span> <span class="o">=</span> <span class="s1">'ab594c14986612f6167a975e1c369e71edab6900'</span>

<span class="n">hooks</span> <span class="o">=</span> <span class="no">Beyonic</span><span class="o">::</span><span class="no">Webhook</span><span class="p">.</span><span class="nf">list</span>
</code></pre>
<pre class="highlight php"><code><span class="cp">&lt;?php</span>
<span class="k">require_once</span><span class="p">(</span><span class="s1">'./lib/Beyonic.php'</span><span class="p">);</span>
<span class="nx">Beyonic</span><span class="o">::</span><span class="na">setApiKey</span><span class="p">(</span><span class="s2">"ab594c14986612f6167a975e1c369e71edab6900"</span><span class="p">);</span>

<span class="nv">$hooks</span> <span class="o">=</span> <span class="nx">Beyonic_Webhook</span><span class="o">::</span><span class="na">getAll</span><span class="p">();</span>
<span class="cp">?&gt;</span>
</code></pre>
<pre class="highlight python"><code><span class="kn">import</span> <span class="nn">beyonic</span>
<span class="n">beyonic</span><span class="o">.</span><span class="n">api_key</span> <span class="o">=</span> <span class="s">'ab594c14986612f6167a975e1c369e71edab6900'</span>

<span class="n">hooks</span> <span class="o">=</span> <span class="n">beyonic</span><span class="o">.</span><span class="n">Webhook</span><span class="o">.</span><span class="nb">list</span><span class="p">()</span>

</code></pre>
<pre class="highlight java"><code><span class="kn">package</span> <span class="n">com</span><span class="o">.</span><span class="na">beyonic</span><span class="o">.</span><span class="na">examples</span><span class="o">.</span><span class="na">webhooks</span><span class="o">;</span>

<span class="kn">import</span> <span class="nn">java.io.BufferedReader</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.io.InputStream</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.io.InputStreamReader</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.net.HttpURLConnection</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.net.URL</span><span class="o">;</span>

<span class="kd">public</span> <span class="kd">class</span> <span class="nc">ListAllWebhooksExample</span> <span class="o">{</span>

    <span class="kd">private</span> <span class="kd">static</span> <span class="kd">final</span> <span class="n">String</span> <span class="n">API_ENDPOINT</span> <span class="o">=</span> <span class="s">"https://app.beyonic.com/api/webhooks"</span><span class="o">;</span>
    <span class="kd">private</span> <span class="kd">static</span> <span class="kd">final</span> <span class="n">String</span> <span class="n">API_KEY</span> <span class="o">=</span> <span class="s">"ab594c14986612f6167a975e1c369e71edab6900"</span><span class="o">;</span>
    <span class="kd">private</span> <span class="kd">static</span> <span class="kd">final</span> <span class="n">String</span> <span class="n">CHARSET</span> <span class="o">=</span> <span class="s">"UTF-8"</span><span class="o">;</span>

    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="n">main</span><span class="o">(</span><span class="n">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">){</span>
        <span class="n">URL</span> <span class="n">url</span> <span class="o">=</span> <span class="kc">null</span><span class="o">;</span>
        <span class="k">try</span> <span class="o">{</span>
            <span class="n">url</span> <span class="o">=</span> <span class="k">new</span> <span class="n">URL</span><span class="o">(</span><span class="n">API_ENDPOINT</span><span class="o">);</span>
            <span class="n">HttpURLConnection</span> <span class="n">conn</span> <span class="o">=</span> <span class="o">(</span><span class="n">HttpURLConnection</span><span class="o">)</span> <span class="n">url</span><span class="o">.</span><span class="na">openConnection</span><span class="o">();</span>

            <span class="n">conn</span><span class="o">.</span><span class="na">setRequestProperty</span><span class="o">(</span><span class="s">"Content-Type"</span><span class="o">,</span> <span class="s">"application/json"</span><span class="o">);</span>
            <span class="n">conn</span><span class="o">.</span><span class="na">setRequestProperty</span><span class="o">(</span><span class="s">"Accept"</span><span class="o">,</span> <span class="s">"application/json"</span><span class="o">);</span>
            <span class="n">conn</span><span class="o">.</span><span class="na">setRequestProperty</span><span class="o">(</span><span class="s">"charset"</span><span class="o">,</span> <span class="n">CHARSET</span><span class="o">);</span>
            <span class="n">conn</span><span class="o">.</span><span class="na">setRequestProperty</span><span class="o">(</span><span class="s">"Authorization"</span><span class="o">,</span> <span class="s">"Token "</span> <span class="o">+</span> <span class="n">API_KEY</span><span class="o">);</span>

            <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">conn</span><span class="o">.</span><span class="na">getResponseCode</span><span class="o">()</span> <span class="o">+</span> <span class="s">" // "</span> <span class="o">+</span> <span class="n">conn</span><span class="o">.</span><span class="na">getResponseMessage</span><span class="o">());</span>

            <span class="k">try</span> <span class="o">{</span>
                <span class="k">if</span> <span class="o">(</span><span class="n">conn</span><span class="o">.</span><span class="na">getResponseCode</span><span class="o">()</span> <span class="o">==</span> <span class="mi">200</span><span class="o">)</span> <span class="o">{</span>
                    <span class="n">InputStream</span> <span class="n">inputStream</span> <span class="o">=</span> <span class="n">conn</span><span class="o">.</span><span class="na">getInputStream</span><span class="o">();</span>
                    <span class="n">BufferedReader</span> <span class="n">reader</span> <span class="o">=</span> <span class="k">new</span> <span class="n">BufferedReader</span><span class="o">(</span><span class="k">new</span> <span class="n">InputStreamReader</span><span class="o">(</span><span class="n">inputStream</span><span class="o">));</span>
                    <span class="n">String</span> <span class="n">response</span> <span class="o">=</span> <span class="n">reader</span><span class="o">.</span><span class="na">readLine</span><span class="o">();</span>
                    <span class="n">reader</span><span class="o">.</span><span class="na">close</span><span class="o">();</span>

                    <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">response</span><span class="o">);</span>
                <span class="o">}</span>
            <span class="o">}</span> <span class="k">finally</span> <span class="o">{</span>
                <span class="n">conn</span><span class="o">.</span><span class="na">disconnect</span><span class="o">();</span>
            <span class="o">}</span>

        <span class="o">}</span> <span class="k">catch</span> <span class="o">(</span><span class="n">Exception</span> <span class="n">e</span><span class="o">)</span> <span class="o">{</span>
            <span class="n">e</span><span class="o">.</span><span class="na">printStackTrace</span><span class="o">();</span>
        <span class="o">}</span>
    <span class="o">}</span>

<span class="o">}</span>
</code></pre>

<blockquote>
<p>Sample Response (JSON)</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
    </span><span class="nt">"count"</span><span class="p">:</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span><span class="w">
    </span><span class="nt">"next"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://localhost:8000/api/webhooks?offset=10"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"previous"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nt">"results"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">50</span><span class="p">,</span><span class="w">
            </span><span class="nt">"created"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-08-01T16:43:43Z"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"updated"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-08-01T17:05:38Z"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"event"</span><span class="p">:</span><span class="w"> </span><span class="s2">"payment.status.changed"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"target"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://mysite.com/callbacks/payment/saved/1"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"user"</span><span class="p">:</span><span class="w"> </span><span class="mi">42</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">52</span><span class="p">,</span><span class="w">
            </span><span class="nt">"created"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-08-01T16:43:43Z"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"updated"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-08-01T17:05:38Z"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"event"</span><span class="p">:</span><span class="w"> </span><span class="s2">"payment.status.changed"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"target"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://mysite.com/callbacks/payment/saved"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"user"</span><span class="p">:</span><span class="w"> </span><span class="mi">42</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">53</span><span class="p">,</span><span class="w">
            </span><span class="nt">"created"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-08-01T16:56:29Z"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"updated"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-08-01T16:56:29Z"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"event"</span><span class="p">:</span><span class="w"> </span><span class="s2">"payment.status.changed"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"target"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://my.callback.url/"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"user"</span><span class="p">:</span><span class="w"> </span><span class="mi">42</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">55</span><span class="p">,</span><span class="w">
            </span><span class="nt">"created"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-08-01T16:56:29Z"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"updated"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-08-01T16:56:29Z"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"event"</span><span class="p">:</span><span class="w"> </span><span class="s2">"payment.status.changed"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"target"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://google.com"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"user"</span><span class="p">:</span><span class="w"> </span><span class="mi">42</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>To retrieve a list of all webhooks, make a GET request to the webhooks endpoint. This will return a list of webhooks objects.</p>

<h2 id="updating-a-webhook">Updating a webhook</h2>

<blockquote>
<p>Sample Request:</p>
</blockquote>
<pre class="highlight shell"><code>ccurl http://app.beyonic.com/api/webhooks/1 -H <span class="s2">"Authorization: Token ab594c14986612f6167a975e1c369e71edab6900"</span> <span class="se">\</span>
-d <span class="nv">event</span><span class="o">=</span><span class="s2">"payment.status.changed"</span> <span class="se">\</span>
-d <span class="nv">target</span><span class="o">=</span><span class="s2">"https://my.callback.url/"</span> <span class="se">\</span>
-X PUT
</code></pre>
<pre class="highlight ruby"><code><span class="nb">require</span> <span class="s1">'beyonic'</span>
<span class="no">Beyonic</span><span class="p">.</span><span class="nf">api_key</span> <span class="o">=</span> <span class="s1">'ab594c14986612f6167a975e1c369e71edab6900'</span>

<span class="n">hook</span> <span class="o">=</span> <span class="no">Beyonic</span><span class="o">::</span><span class="no">Webhook</span><span class="p">.</span><span class="nf">get</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<span class="n">hook</span><span class="p">.</span><span class="nf">target</span> <span class="o">=</span> <span class="s1">'https://my.callback.url/'</span>
<span class="n">hook</span><span class="p">.</span><span class="nf">save</span><span class="p">()</span>
</code></pre>
<pre class="highlight php"><code><span class="cp">&lt;?php</span>
<span class="k">require_once</span><span class="p">(</span><span class="s1">'./lib/Beyonic.php'</span><span class="p">);</span>
<span class="nx">Beyonic</span><span class="o">::</span><span class="na">setApiKey</span><span class="p">(</span><span class="s2">"ab594c14986612f6167a975e1c369e71edab6900"</span><span class="p">);</span>

<span class="nv">$hook</span> <span class="o">=</span> <span class="nx">Beyonic_Webhook</span><span class="o">::</span><span class="na">get</span><span class="p">(</span><span class="mi">1</span><span class="p">);</span>
<span class="nv">$hook</span><span class="o">-&gt;</span><span class="na">target</span> <span class="o">=</span> <span class="s1">'https://my.callback.url/'</span><span class="p">;</span>
<span class="nv">$hook</span><span class="o">-&gt;</span><span class="na">save</span><span class="p">();</span>
<span class="cp">?&gt;</span>
</code></pre>
<pre class="highlight python"><code><span class="kn">import</span> <span class="nn">beyonic</span>
<span class="n">beyonic</span><span class="o">.</span><span class="n">api_key</span> <span class="o">=</span> <span class="s">'ab594c14986612f6167a975e1c369e71edab6900'</span>

<span class="n">hook</span> <span class="o">=</span> <span class="n">beyonic</span><span class="o">.</span><span class="n">Webhook</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<span class="n">hook</span><span class="o">.</span><span class="n">target</span> <span class="o">=</span> <span class="s">'https://my.callback.url/'</span>
<span class="n">hook</span><span class="o">.</span><span class="n">save</span><span class="p">()</span>

</code></pre>
<pre class="highlight java"><code><span class="kn">package</span> <span class="n">com</span><span class="o">.</span><span class="na">beyonic</span><span class="o">.</span><span class="na">examples</span><span class="o">.</span><span class="na">webhooks</span><span class="o">;</span>

<span class="kn">import</span> <span class="nn">org.json.JSONException</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">org.json.JSONObject</span><span class="o">;</span>

<span class="kn">import</span> <span class="nn">java.io.*</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.net.HttpURLConnection</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.net.URL</span><span class="o">;</span>


<span class="kd">public</span> <span class="kd">class</span> <span class="nc">UpdateWebhookExample</span> <span class="o">{</span>

    <span class="kd">private</span> <span class="kd">static</span> <span class="kd">final</span> <span class="n">String</span> <span class="n">API_ENDPOINT</span> <span class="o">=</span> <span class="s">"https://app.beyonic.com/api/webhooks"</span><span class="o">;</span>
    <span class="kd">private</span> <span class="kd">static</span> <span class="kd">final</span> <span class="n">String</span> <span class="n">API_KEY</span> <span class="o">=</span> <span class="s">"ab594c14986612f6167a975e1c369e71edab6900"</span><span class="o">;</span>
    <span class="kd">private</span> <span class="kd">static</span> <span class="kd">final</span> <span class="n">String</span> <span class="n">CHARSET</span> <span class="o">=</span> <span class="s">"UTF-8"</span><span class="o">;</span>
    <span class="kd">private</span> <span class="kd">static</span> <span class="kd">final</span> <span class="n">String</span> <span class="n">EVENT</span> <span class="o">=</span> <span class="s">"payment.status.changed"</span><span class="o">;</span>
    <span class="kd">private</span> <span class="kd">static</span> <span class="kd">final</span> <span class="n">String</span> <span class="n">TARGET</span> <span class="o">=</span> <span class="s">"https://my.callback.url/"</span><span class="o">;</span>

    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="n">main</span><span class="o">(</span><span class="n">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">){</span>
        <span class="n">URL</span> <span class="n">url</span> <span class="o">=</span> <span class="kc">null</span><span class="o">;</span>
        <span class="k">try</span> <span class="o">{</span>
            <span class="n">url</span> <span class="o">=</span> <span class="k">new</span> <span class="n">URL</span><span class="o">(</span><span class="n">API_ENDPOINT</span> <span class="o">+</span> <span class="s">"/503"</span><span class="o">);</span>
            <span class="n">HttpURLConnection</span> <span class="n">conn</span> <span class="o">=</span> <span class="o">(</span><span class="n">HttpURLConnection</span><span class="o">)</span> <span class="n">url</span><span class="o">.</span><span class="na">openConnection</span><span class="o">();</span>

            <span class="n">conn</span><span class="o">.</span><span class="na">setRequestProperty</span><span class="o">(</span><span class="s">"Content-Type"</span><span class="o">,</span> <span class="s">"application/json"</span><span class="o">);</span>
            <span class="n">conn</span><span class="o">.</span><span class="na">setRequestProperty</span><span class="o">(</span><span class="s">"Accept"</span><span class="o">,</span> <span class="s">"application/json"</span><span class="o">);</span>
            <span class="n">conn</span><span class="o">.</span><span class="na">setRequestProperty</span><span class="o">(</span><span class="s">"charset"</span><span class="o">,</span> <span class="n">CHARSET</span><span class="o">);</span>
            <span class="n">conn</span><span class="o">.</span><span class="na">setRequestProperty</span><span class="o">(</span><span class="s">"Authorization"</span><span class="o">,</span> <span class="s">"Token "</span> <span class="o">+</span> <span class="n">API_KEY</span><span class="o">);</span>
            <span class="n">conn</span><span class="o">.</span><span class="na">setRequestMethod</span><span class="o">(</span><span class="s">"PUT"</span><span class="o">);</span>
            <span class="n">conn</span><span class="o">.</span><span class="na">setDoOutput</span><span class="o">(</span><span class="kc">true</span><span class="o">);</span>
            <span class="n">conn</span><span class="o">.</span><span class="na">setDoInput</span><span class="o">(</span><span class="kc">true</span><span class="o">);</span>

            <span class="n">BufferedWriter</span> <span class="n">out</span> <span class="o">=</span> <span class="k">new</span> <span class="n">BufferedWriter</span><span class="o">(</span><span class="k">new</span> <span class="n">OutputStreamWriter</span><span class="o">(</span><span class="n">conn</span><span class="o">.</span><span class="na">getOutputStream</span><span class="o">()));</span>
            <span class="n">out</span><span class="o">.</span><span class="na">write</span><span class="o">(</span><span class="n">webhookObject</span><span class="o">().</span><span class="na">toString</span><span class="o">());</span>
            <span class="n">out</span><span class="o">.</span><span class="na">close</span><span class="o">();</span>

            <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">conn</span><span class="o">.</span><span class="na">getResponseCode</span><span class="o">()</span> <span class="o">+</span> <span class="s">" // "</span> <span class="o">+</span> <span class="n">conn</span><span class="o">.</span><span class="na">getResponseMessage</span><span class="o">());</span>

            <span class="k">try</span> <span class="o">{</span>
                <span class="k">if</span> <span class="o">(</span><span class="n">conn</span><span class="o">.</span><span class="na">getResponseCode</span><span class="o">()</span> <span class="o">==</span> <span class="mi">200</span><span class="o">)</span> <span class="o">{</span>
                    <span class="n">InputStream</span> <span class="n">inputStream</span> <span class="o">=</span> <span class="n">conn</span><span class="o">.</span><span class="na">getInputStream</span><span class="o">();</span>
                    <span class="n">BufferedReader</span> <span class="n">reader</span> <span class="o">=</span> <span class="k">new</span> <span class="n">BufferedReader</span><span class="o">(</span><span class="k">new</span> <span class="n">InputStreamReader</span><span class="o">(</span><span class="n">inputStream</span><span class="o">));</span>
                    <span class="n">String</span> <span class="n">response</span> <span class="o">=</span> <span class="n">reader</span><span class="o">.</span><span class="na">readLine</span><span class="o">();</span>
                    <span class="n">reader</span><span class="o">.</span><span class="na">close</span><span class="o">();</span>

                    <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">response</span><span class="o">);</span>
                <span class="o">}</span>
            <span class="o">}</span> <span class="k">finally</span> <span class="o">{</span>
                <span class="n">conn</span><span class="o">.</span><span class="na">disconnect</span><span class="o">();</span>
            <span class="o">}</span>

        <span class="o">}</span> <span class="k">catch</span> <span class="o">(</span><span class="n">Exception</span> <span class="n">e</span><span class="o">)</span> <span class="o">{</span>
            <span class="n">e</span><span class="o">.</span><span class="na">printStackTrace</span><span class="o">();</span>
        <span class="o">}</span>
    <span class="o">}</span>

    <span class="kd">private</span> <span class="kd">static</span> <span class="n">JSONObject</span> <span class="n">webhookObject</span><span class="o">()</span> <span class="kd">throws</span> <span class="n">JSONException</span> <span class="o">{</span>
        <span class="n">JSONObject</span> <span class="n">webhook</span> <span class="o">=</span> <span class="k">new</span> <span class="n">JSONObject</span><span class="o">();</span>
        <span class="n">webhook</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="s">"event"</span><span class="o">,</span><span class="n">EVENT</span><span class="o">);</span>
        <span class="n">webhook</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="s">"target"</span><span class="o">,</span><span class="n">TARGET</span><span class="o">);</span>
        <span class="k">return</span> <span class="n">webhook</span><span class="o">;</span>
    <span class="o">}</span>

<span class="o">}</span>
</code></pre>

<blockquote>
<p>Sample Response (JSON)</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
    </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nt">"created"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-08-01T16:56:29Z"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"updated"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-08-01T16:56:29Z"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"event"</span><span class="p">:</span><span class="w"> </span><span class="s2">"payment.status.changed"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"target"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://my.callback.url/"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"user"</span><span class="p">:</span><span class="w"> </span><span class="mi">42</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>To update a webhook, make a PUT request to the specific webhook’s endpoint, identified by its Id.</p>

<h2 id="deleting-a-webhook">Deleting a webhook</h2>

<blockquote>
<p>Sample Request:</p>
</blockquote>
<pre class="highlight shell"><code>curl http://app.beyonic.com/api/webhooks/1 -H <span class="s2">"Authorization: Token ab594c14986612f6167a975e1c369e71edab6900"</span> -X DELETE
</code></pre>
<pre class="highlight ruby"><code><span class="nb">require</span> <span class="s1">'beyonic'</span>
<span class="no">Beyonic</span><span class="p">.</span><span class="nf">api_key</span> <span class="o">=</span> <span class="s1">'ab594c14986612f6167a975e1c369e71edab6900'</span>

<span class="no">Beyonic</span><span class="o">::</span><span class="no">Webhook</span><span class="p">.</span><span class="nf">delete</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
</code></pre>
<pre class="highlight php"><code><span class="cp">&lt;?php</span>
<span class="k">require_once</span><span class="p">(</span><span class="s1">'./lib/Beyonic.php'</span><span class="p">);</span>
<span class="nx">Beyonic</span><span class="o">::</span><span class="na">setApiKey</span><span class="p">(</span><span class="s2">"ab594c14986612f6167a975e1c369e71edab6900"</span><span class="p">);</span>

<span class="nx">Beyonic_Webhook</span><span class="o">::</span><span class="na">delete</span><span class="p">(</span> <span class="mi">11</span> <span class="p">);</span>
<span class="cp">?&gt;</span>
</code></pre>
<pre class="highlight python"><code><span class="kn">import</span> <span class="nn">beyonic</span>
<span class="n">beyonic</span><span class="o">.</span><span class="n">api_key</span> <span class="o">=</span> <span class="s">'ab594c14986612f6167a975e1c369e71edab6900'</span>

<span class="n">beyonic</span><span class="o">.</span><span class="n">Webhook</span><span class="o">.</span><span class="n">delete</span><span class="p">(</span><span class="mi">11</span><span class="p">)</span>

</code></pre>
<pre class="highlight java"><code><span class="kn">package</span> <span class="n">com</span><span class="o">.</span><span class="na">beyonic</span><span class="o">.</span><span class="na">examples</span><span class="o">.</span><span class="na">webhooks</span><span class="o">;</span>

<span class="kn">import</span> <span class="nn">java.io.BufferedReader</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.io.InputStream</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.io.InputStreamReader</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.net.HttpURLConnection</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.net.URL</span><span class="o">;</span>


<span class="kd">public</span> <span class="kd">class</span> <span class="nc">DeleteWebhookExample</span> <span class="o">{</span>

    <span class="kd">private</span> <span class="kd">static</span> <span class="kd">final</span> <span class="n">String</span> <span class="n">API_ENDPOINT</span> <span class="o">=</span> <span class="s">"https://app.beyonic.com/api/webhooks"</span><span class="o">;</span>
    <span class="kd">private</span> <span class="kd">static</span> <span class="kd">final</span> <span class="n">String</span> <span class="n">API_KEY</span> <span class="o">=</span> <span class="s">"ab594c14986612f6167a975e1c369e71edab6900"</span><span class="o">;</span>
    <span class="kd">private</span> <span class="kd">static</span> <span class="kd">final</span> <span class="n">String</span> <span class="n">CHARSET</span> <span class="o">=</span> <span class="s">"UTF-8"</span><span class="o">;</span>

    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="n">main</span><span class="o">(</span><span class="n">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">){</span>
        <span class="n">URL</span> <span class="n">url</span> <span class="o">=</span> <span class="kc">null</span><span class="o">;</span>
        <span class="k">try</span> <span class="o">{</span>
            <span class="n">url</span> <span class="o">=</span> <span class="k">new</span> <span class="n">URL</span><span class="o">(</span><span class="n">API_ENDPOINT</span> <span class="o">+</span> <span class="s">"/502"</span><span class="o">);</span>
            <span class="n">HttpURLConnection</span> <span class="n">conn</span> <span class="o">=</span> <span class="o">(</span><span class="n">HttpURLConnection</span><span class="o">)</span> <span class="n">url</span><span class="o">.</span><span class="na">openConnection</span><span class="o">();</span>

            <span class="n">conn</span><span class="o">.</span><span class="na">setRequestProperty</span><span class="o">(</span><span class="s">"Content-Type"</span><span class="o">,</span> <span class="s">"application/json"</span><span class="o">);</span>
            <span class="n">conn</span><span class="o">.</span><span class="na">setRequestProperty</span><span class="o">(</span><span class="s">"Accept"</span><span class="o">,</span> <span class="s">"application/json"</span><span class="o">);</span>
            <span class="n">conn</span><span class="o">.</span><span class="na">setRequestProperty</span><span class="o">(</span><span class="s">"charset"</span><span class="o">,</span> <span class="n">CHARSET</span><span class="o">);</span>
            <span class="n">conn</span><span class="o">.</span><span class="na">setRequestProperty</span><span class="o">(</span><span class="s">"Authorization"</span><span class="o">,</span> <span class="s">"Token "</span> <span class="o">+</span> <span class="n">API_KEY</span><span class="o">);</span>
            <span class="n">conn</span><span class="o">.</span><span class="na">setRequestMethod</span><span class="o">(</span><span class="s">"DELETE"</span><span class="o">);</span>

            <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">conn</span><span class="o">.</span><span class="na">getResponseCode</span><span class="o">()</span> <span class="o">+</span> <span class="s">" // "</span> <span class="o">+</span> <span class="n">conn</span><span class="o">.</span><span class="na">getResponseMessage</span><span class="o">());</span>

        <span class="o">}</span> <span class="k">catch</span> <span class="o">(</span><span class="n">Exception</span> <span class="n">e</span><span class="o">)</span> <span class="o">{</span>
            <span class="n">e</span><span class="o">.</span><span class="na">printStackTrace</span><span class="o">();</span>
        <span class="o">}</span>
    <span class="o">}</span>

<span class="o">}</span>
</code></pre>

<p>To delete a webhook, make a DELETE request to the specific webhook’s endpoint, identified by its Id.</p>

<h2 id="filtering-webhooks">Filtering webhooks</h2>

<blockquote>
<p>Sample Request:</p>
</blockquote>
<pre class="highlight shell"><code>curl https://app.beyonic.com/api/webhooks?user<span class="o">=</span>1 -H <span class="s2">"Authorization: Token ab594c14986612f6167a975e1c369e71edab6900"</span>
</code></pre>
<pre class="highlight ruby"><code><span class="nb">require</span> <span class="s1">'beyonic'</span>
<span class="no">Beyonic</span><span class="p">.</span><span class="nf">api_key</span> <span class="o">=</span> <span class="s1">'ab594c14986612f6167a975e1c369e71edab6900'</span>

<span class="n">hooks</span> <span class="o">=</span> <span class="no">Beyonic</span><span class="o">::</span><span class="no">Webhook</span><span class="p">.</span><span class="nf">list</span><span class="p">(</span>
  <span class="ss">user: </span><span class="mi">1</span>
<span class="p">)</span>
</code></pre>
<pre class="highlight php"><code><span class="cp">&lt;?php</span>
<span class="k">require_once</span><span class="p">(</span><span class="s1">'./lib/Beyonic.php'</span><span class="p">);</span>
<span class="nx">Beyonic</span><span class="o">::</span><span class="na">setApiKey</span><span class="p">(</span><span class="s2">"ab594c14986612f6167a975e1c369e71edab6900"</span><span class="p">);</span>

<span class="nv">$hooks</span> <span class="o">=</span> <span class="nx">Beyonic_Webhook</span><span class="o">::</span><span class="na">getAll</span><span class="p">(</span><span class="k">array</span><span class="p">(</span>
  <span class="s2">"user"</span> <span class="o">=&gt;</span> <span class="mi">1</span>
<span class="p">));</span>
<span class="cp">?&gt;</span>
</code></pre>
<pre class="highlight python"><code><span class="kn">import</span> <span class="nn">beyonic</span>
<span class="n">beyonic</span><span class="o">.</span><span class="n">api_key</span> <span class="o">=</span> <span class="s">'ab594c14986612f6167a975e1c369e71edab6900'</span>

<span class="n">hooks</span> <span class="o">=</span> <span class="n">beyonic</span><span class="o">.</span><span class="n">Webhook</span><span class="o">.</span><span class="nb">list</span><span class="p">(</span><span class="n">user</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>

</code></pre>
<pre class="highlight java"><code><span class="kn">package</span> <span class="n">com</span><span class="o">.</span><span class="na">beyonic</span><span class="o">.</span><span class="na">examples</span><span class="o">.</span><span class="na">webhooks</span><span class="o">;</span>

<span class="kn">import</span> <span class="nn">java.io.BufferedReader</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.io.InputStream</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.io.InputStreamReader</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.net.HttpURLConnection</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.net.URL</span><span class="o">;</span>

<span class="kd">public</span> <span class="kd">class</span> <span class="nc">FilterWebhooksExample</span> <span class="o">{</span>

    <span class="kd">private</span> <span class="kd">static</span> <span class="kd">final</span> <span class="n">String</span> <span class="n">API_ENDPOINT</span> <span class="o">=</span> <span class="s">"https://app.beyonic.com/api/webhooks"</span><span class="o">;</span>
    <span class="kd">private</span> <span class="kd">static</span> <span class="kd">final</span> <span class="n">String</span> <span class="n">API_KEY</span> <span class="o">=</span> <span class="s">"ab594c14986612f6167a975e1c369e71edab6900"</span><span class="o">;</span>
    <span class="kd">private</span> <span class="kd">static</span> <span class="kd">final</span> <span class="n">String</span> <span class="n">CHARSET</span> <span class="o">=</span> <span class="s">"UTF-8"</span><span class="o">;</span>

    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="n">main</span><span class="o">(</span><span class="n">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">){</span>
        <span class="n">URL</span> <span class="n">url</span> <span class="o">=</span> <span class="kc">null</span><span class="o">;</span>
        <span class="k">try</span> <span class="o">{</span>
            <span class="n">url</span> <span class="o">=</span> <span class="k">new</span> <span class="n">URL</span><span class="o">(</span><span class="n">API_ENDPOINT</span> <span class="o">+</span> <span class="s">"?user=12"</span><span class="o">);</span>
            <span class="n">HttpURLConnection</span> <span class="n">conn</span> <span class="o">=</span> <span class="o">(</span><span class="n">HttpURLConnection</span><span class="o">)</span> <span class="n">url</span><span class="o">.</span><span class="na">openConnection</span><span class="o">();</span>

            <span class="n">conn</span><span class="o">.</span><span class="na">setRequestProperty</span><span class="o">(</span><span class="s">"Content-Type"</span><span class="o">,</span> <span class="s">"application/json"</span><span class="o">);</span>
            <span class="n">conn</span><span class="o">.</span><span class="na">setRequestProperty</span><span class="o">(</span><span class="s">"Accept"</span><span class="o">,</span> <span class="s">"application/json"</span><span class="o">);</span>
            <span class="n">conn</span><span class="o">.</span><span class="na">setRequestProperty</span><span class="o">(</span><span class="s">"charset"</span><span class="o">,</span> <span class="n">CHARSET</span><span class="o">);</span>
            <span class="n">conn</span><span class="o">.</span><span class="na">setRequestProperty</span><span class="o">(</span><span class="s">"Authorization"</span><span class="o">,</span> <span class="s">"Token "</span> <span class="o">+</span> <span class="n">API_KEY</span><span class="o">);</span>

            <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">conn</span><span class="o">.</span><span class="na">getResponseCode</span><span class="o">()</span> <span class="o">+</span> <span class="s">" // "</span> <span class="o">+</span> <span class="n">conn</span><span class="o">.</span><span class="na">getResponseMessage</span><span class="o">());</span>

            <span class="k">try</span> <span class="o">{</span>
                <span class="k">if</span> <span class="o">(</span><span class="n">conn</span><span class="o">.</span><span class="na">getResponseCode</span><span class="o">()</span> <span class="o">==</span> <span class="mi">200</span><span class="o">)</span> <span class="o">{</span>
                    <span class="n">InputStream</span> <span class="n">inputStream</span> <span class="o">=</span> <span class="n">conn</span><span class="o">.</span><span class="na">getInputStream</span><span class="o">();</span>
                    <span class="n">BufferedReader</span> <span class="n">reader</span> <span class="o">=</span> <span class="k">new</span> <span class="n">BufferedReader</span><span class="o">(</span><span class="k">new</span> <span class="n">InputStreamReader</span><span class="o">(</span><span class="n">inputStream</span><span class="o">));</span>
                    <span class="n">String</span> <span class="n">response</span> <span class="o">=</span> <span class="n">reader</span><span class="o">.</span><span class="na">readLine</span><span class="o">();</span>
                    <span class="n">reader</span><span class="o">.</span><span class="na">close</span><span class="o">();</span>

                    <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">response</span><span class="o">);</span>
                <span class="o">}</span>
            <span class="o">}</span> <span class="k">finally</span> <span class="o">{</span>
                <span class="n">conn</span><span class="o">.</span><span class="na">disconnect</span><span class="o">();</span>
            <span class="o">}</span>

        <span class="o">}</span> <span class="k">catch</span> <span class="o">(</span><span class="n">Exception</span> <span class="n">e</span><span class="o">)</span> <span class="o">{</span>
            <span class="n">e</span><span class="o">.</span><span class="na">printStackTrace</span><span class="o">();</span>
        <span class="o">}</span>
    <span class="o">}</span>

<span class="o">}</span>
</code></pre>

<p>You can search or filter webhooks on the following fields. Simply add them to your request as shown in the examples. You can combine multiple filters. Note that filters return exact matches only.</p>

<ul>
<li>user - the ID of the user who created the webhook. Note that only users within your organization will be matched.</li>
<li>event - the webhook event</li>
</ul>

      </div>
      <div class="dark-box">
          <div class="lang-selector">
                <a href="#" data-language-name="shell">CURL</a>
                <a href="#" data-language-name="php">PHP</a>
                <a href="#" data-language-name="ruby">RUBY</a>
                <a href="#" data-language-name="python">PYTHON</a>
                <a href="#" data-language-name="java">JAVA</a>
          </div>
      </div>
    </div>
    <!-- begin olark code -->
	<script data-cfasync="false" type='text/javascript'>/*<![CDATA[*/window.olark||(function(c){var f=window,d=document,l=f.location.protocol=="https:"?"https:":"http:",z=c.name,r="load";var nt=function(){
	f[z]=function(){
	(a.s=a.s||[]).push(arguments)};var a=f[z]._={
	},q=c.methods.length;while(q--){(function(n){f[z][n]=function(){
	f[z]("call",n,arguments)}})(c.methods[q])}a.l=c.loader;a.i=nt;a.p={
	0:+new Date};a.P=function(u){
	a.p[u]=new Date-a.p[0]};function s(){
	a.P(r);f[z](r)}f.addEventListener?f.addEventListener(r,s,false):f.attachEvent("on"+r,s);var ld=function(){function p(hd){
	hd="head";return["<",hd,"></",hd,"><",i,' onl' + 'oad="var d=',g,";d.getElementsByTagName('head')[0].",j,"(d.",h,"('script')).",k,"='",l,"//",a.l,"'",'"',"></",i,">"].join("")}var i="body",m=d[i];if(!m){
	return setTimeout(ld,100)}a.P(1);var j="appendChild",h="createElement",k="src",n=d[h]("div"),v=n[j](d[h](z)),b=d[h]("iframe"),g="document",e="domain",o;n.style.display="none";m.insertBefore(n,m.firstChild).id=z;b.frameBorder="0";b.id=z+"-loader";if(/MSIE[ ]+6/.test(navigator.userAgent)){
	b.src="javascript:false"}b.allowTransparency="true";v[j](b);try{
	b.contentWindow[g].open()}catch(w){
	c[e]=d[e];o="javascript:var d="+g+".open();d.domain='"+d.domain+"';";b[k]=o+"void(0);"}try{
	var t=b.contentWindow[g];t.write(p());t.close()}catch(x){
	b[k]=o+'d.write("'+p().replace(/"/g,String.fromCharCode(92)+'"')+'");d.close();'}a.P(2)};ld()};nt()})({
	loader: "static.olark.com/jsclient/loader0.js",name:"olark",methods:["configure","extend","declare","identify"]});
	/* custom configuration goes here (www.olark.com/documentation) */
	olark.identify('3232-384-10-7564');/*]]>*/</script><noscript><a href="https://www.olark.com/site/3232-384-10-7564/contact" title="Contact us" target="_blank">Questions? Feedback?</a> powered by <a href="http://www.olark.com?welcome" title="Olark live chat software">Olark live chat software</a></noscript>
	<!-- end olark code -->
  </body>
</html>
