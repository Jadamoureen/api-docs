<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <title>Beyonic API Reference</title>

    <link href="stylesheets/screen.css" rel="stylesheet" type="text/css" media="screen" />
    <link href="stylesheets/print.css" rel="stylesheet" type="text/css" media="print" />
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.0/jquery.min.js"></script>
      <script src="javascripts/all.js" type="text/javascript"></script>

      <script>
        $(function() {
          setupLanguages(["shell","php","ruby","python"]);
        });
      </script>
    <script>
	  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
	  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
	  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
	  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
	
	  ga('create', 'UA-11086135-5', 'auto');
	  ga('send', 'pageview');
	</script>
  </head>

  <body class="index">
    <a href="#" id="nav-button">
      <span>
        NAV
        <img src="images/navbar.png" />
      </span>
    </a>
    <div class="tocify-wrapper">
      <img src="images/logo.png" />
        <div class="lang-selector">
              <a href="#" data-language-name="shell">CURL</a>
              <a href="#" data-language-name="php">PHP</a>
              <a href="#" data-language-name="ruby">RUBY</a>
              <a href="#" data-language-name="python">PYTHON</a>
        </div>
        <div class="search">
          <input type="text" class="search" id="input-search" placeholder="Search">
        </div>
        <ul class="search-results"></ul>
      <div id="toc">
      </div>
        <ul class="toc-footer">
            <li><a href='http://support.beyonic.com'>Beyonic Support & User Guides</a></li>
            <li><a href='http://beyonic.com'>Beyonic.com</a></li>
            <li><a href='mailto:support@beyonic.com?subject="Error in your docs!"'>Found an error?</a></li>
        </ul>
    </div>
    <div class="page-wrapper">
      <div class="dark-box"></div>
      <div class="content">
        <h1 id="introduction">Introduction</h1>

<blockquote>
<p>Scroll down for examples.</p>
</blockquote>

<p>Welcome to Beyonic&rsquo;s API documentation. </p>

<p>The Beyonic API is <a href="http://en.wikipedia.org/wiki/Representational_state_transfer">REST</a> based. We provide libraries for several languages, including PHP, Java, Ruby and Python. You can view code examples in the dark area to the right, and you can switch the programming language of the examples with the tabs in the top right.</p>

<p>All responses shall be returned using <a href="http://www.json.org/">JSON</a>, however, if you are using the language libraries, the JSON responses will be converted into native, language specific objects.</p>

<h1 id="quick-start">Quick Start</h1>

<p>Can&rsquo;t wait to dive in? Follow the 6 steps below to get started.</p>

<ol>
<li><a href="https://app.beyonic.com/signup/">Sign Up</a> for a Beyonic account.</li>
<li><a href="https://app.beyonic.com/">Login</a> and get your API Token by clicking the user icon on the top left corner, and selecting &lsquo;Profile&rsquo; from the dropdown menu. The API Token is shown at the bottom of the page.</li>
<li>Download the appropriate client library from links in the &ldquo;Libraries&rdquo; section of this reference.</li>
<li>Using your API token and the library, connect to the API endpoint: https://app.beyonic.com/api</li>
<li>Identify the methods you need to use. See the &ldquo;Methods&rdquo; section of this reference.</li>
<li>Profit!</li>
</ol>

          <h1 id="libraries">Libraries</h1>

<p>Here are links to the various client libraries &amp; specific installation instructions:</p>

<ul>
<li>PHP - <a href="https://github.com/beyonic/beyonic-php">https://github.com/beyonic/beyonic-php</a></li>
<li>Ruby - <a href="https://github.com/beyonic/beyonic-ruby">https://github.com/beyonic/beyonic-ruby</a></li>
<li>Python - <a href="https://github.com/beyonic/beyonic-python">https://github.com/beyonic/beyonic-python</a></li>
</ul>

          <h1 id="api-endpoint">API Endpoint</h1>

<p>You access Beyonic’s API at the following endpoint:</p>

<ul>
<li>https://app.beyonic.com/api</li>
</ul>

<p>This endpoint points to the latest version of our API. The latest version will change from time to time and may break your application. So If you’d like to make sure that your application always accesses the same version, you can specify a specific version in two ways, as shown below.</p>

<h1 id="versioning">Versioning</h1>

<blockquote>
<p>Example Request:</p>
</blockquote>
<pre><code class="highlight shell">curl -H <span class="s2">"Beyonic-Version: v1"</span> https://app.beyonic.com/api
</code></pre>
<pre><code class="highlight ruby"><span class="nb">require</span> <span class="s1">'beyonic'</span>
<span class="no">Beyonic</span><span class="p">.</span><span class="nf">api_version</span> <span class="o">=</span> <span class="s1">'v1'</span>
</code></pre>
<pre><code class="highlight php"><span class="cp">&lt;?php</span>
<span class="k">require_once</span><span class="p">(</span><span class="s1">'./lib/Beyonic.php'</span><span class="p">);</span>
<span class="nx">Beyonic</span><span class="o">::</span><span class="na">setApiVersion</span><span class="p">(</span><span class="s2">"v1"</span><span class="p">);</span>
<span class="cp">?&gt;</span>
</code></pre>
<pre><code class="highlight python"><span class="kn">import</span> <span class="nn">beyonic</span>
<span class="n">beyonic</span><span class="o">.</span><span class="n">api_version</span> <span class="o">=</span> <span class="s">'v1'</span>
</code></pre>

<p>The current version is v1. The default API endpoint to this version.</p>

<p>You can access a specific API version in 2 ways:</p>

<ul>
<li>Use version specific URLS like: https://app.beyonic.com/api/v1</li>
<li>Include the Beyonic-Version header in your request as shown in the examples to the right.</li>
</ul>

          <h1 id="authentication">Authentication</h1>

<blockquote>
<p>Example Request:</p>
</blockquote>
<pre><code class="highlight shell">curl http://app.beyonic.com/api -H <span class="s2">"Authorization: Token ab594c14986612f6167a975e1c369e71edab6900"</span>
</code></pre>
<pre><code class="highlight ruby"><span class="nb">require</span> <span class="s1">'beyonic'</span>
<span class="no">Beyonic</span><span class="p">.</span><span class="nf">api_key</span> <span class="o">=</span> <span class="s1">'ab594c14986612f6167a975e1c369e71edab6900'</span>
</code></pre>
<pre><code class="highlight php"><span class="cp">&lt;?php</span>
<span class="k">require_once</span><span class="p">(</span><span class="s1">'./lib/Beyonic.php'</span><span class="p">);</span>
<span class="nx">Beyonic</span><span class="o">::</span><span class="na">setApiKey</span><span class="p">(</span><span class="s1">'ab594c14986612f6167a975e1c369e71edab6900'</span><span class="p">);</span>
<span class="cp">?&gt;</span>
</code></pre>
<pre><code class="highlight python"><span class="kn">import</span> <span class="nn">beyonic</span>
<span class="n">beyonic</span><span class="o">.</span><span class="n">api_key</span> <span class="o">=</span> <span class="s">'ab594c14986612f6167a975e1c369e71edab6900'</span>
</code></pre>

<p>All requests must use <a href="http://en.wikipedia.org/wiki/HTTP_Secure">https</a>.</p>

<p>The Beyonic API uses Token Based Authentication, and requires an API key for authentication. You can generate or change your API key by logging into your account. Keep your API key secret to maintain the integrity of your account.</p>

<p>You must supply your API key with all API requests using the “Authorization” header as shown in the examples. You should inculde your API key with all requests.</p>

<p>The API key in all the examples is a valid test key, so you can test the examples immediately.</p>

          <h1 id="pagination">Pagination</h1>

<blockquote>
<p>Pagination Example Request:</p>
</blockquote>
<pre><code class="highlight shell">curl https://app.beyonic.com/api/v2/contacts?limit<span class="o">=</span>10&amp;offset<span class="o">=</span>5 -H <span class="s2">"Authorization: Token ab594c14986612f6167a975e1c369e71edab6900"</span>
</code></pre>
<pre><code class="highlight ruby"><span class="nb">require</span> <span class="s1">'beyonic'</span>
<span class="no">Beyonic</span><span class="p">.</span><span class="nf">api_vesion</span> <span class="o">=</span> <span class="s1">'v2'</span>
<span class="no">Beyonic</span><span class="p">.</span><span class="nf">api_key</span> <span class="o">=</span> <span class="s1">'ab594c14986612f6167a975e1c369e71edab6900'</span>

<span class="n">contacts</span> <span class="o">=</span> <span class="no">Beyonic</span><span class="o">::</span><span class="no">Contact</span><span class="p">.</span><span class="nf">list</span><span class="p">(</span>
  <span class="ss">limit: </span><span class="mi">10</span><span class="p">,</span>
  <span class="ss">offset: </span><span class="mi">5</span>
<span class="p">)</span>
</code></pre>
<pre><code class="highlight php"><span class="cp">&lt;?php</span>
<span class="k">require_once</span><span class="p">(</span><span class="s1">'./lib/Beyonic.php'</span><span class="p">);</span>
<span class="nx">Beyonic</span><span class="o">::</span><span class="na">setApiVersion</span><span class="p">(</span><span class="s2">"v2"</span><span class="p">);</span>
<span class="nx">Beyonic</span><span class="o">::</span><span class="na">setApiKey</span><span class="p">(</span><span class="s2">"ab594c14986612f6167a975e1c369e71edab6900"</span><span class="p">);</span>

<span class="nv">$contacts</span> <span class="o">=</span> <span class="nx">Beyonic_Contact</span><span class="o">::</span><span class="na">getAll</span><span class="p">(</span>
  <span class="s2">"limit"</span> <span class="o">=&gt;</span> <span class="s2">"10"</span><span class="p">,</span>
  <span class="s2">"offset"</span> <span class="o">=&gt;</span> <span class="s2">"5"</span>
<span class="p">));</span>
<span class="cp">?&gt;</span>
</code></pre>
<pre><code class="highlight python"><span class="kn">import</span> <span class="nn">beyonic</span>
<span class="n">beyonic</span><span class="o">.</span><span class="n">api_version</span> <span class="o">=</span> <span class="s">'v2'</span>
<span class="n">beyonic</span><span class="o">.</span><span class="n">api_key</span> <span class="o">=</span> <span class="s">'ab594c14986612f6167a975e1c369e71edab6900'</span>

<span class="n">contacts</span> <span class="o">=</span> <span class="n">beyonic</span><span class="o">.</span><span class="n">Contact</span><span class="o">.</span><span class="nb">list</span><span class="p">(</span><span class="n">limit</span><span class="o">=</span><span class="s">'10'</span><span class="p">,</span>
                                  <span class="n">offset</span><span class="o">=</span><span class="s">'5'</span><span class="p">)</span>


</code></pre>

<p>Most Beyonic API methods support a way to retrieve a list of records. For example, you can retrieve a list of contacts.</p>

<p>When retrieving a list, you can control the number of records returned by adding two parameters to your request:</p>

<ul>
<li><strong><em>limit</em></strong>: This limits the number of records returned per page. If omitted, only 10 records are returned per page</li>
<li><strong><em>offset</em></strong>: This tells the Beyonic API where to start getting </li>
</ul>

<p>The API response body shall include the following parameters:</p>

<ul>
<li><strong><em>count</em></strong>: The total number of records available (not just on the returned page)</li>
<li><strong><em>next</em></strong>: A link to the next page of records. If there is no next page, this shall be equal to <em>null</em></li>
<li><strong><em>previous</em></strong>: A link to the previous page of records. If there is no previous page, this shall be equal to <em>null</em></li>
<li><strong><em>results</em></strong>: This will contain the list of records for the current page</li>
</ul>

          <h1 id="ordering-results">Ordering Results</h1>

<blockquote>
<p>Ordering Example:</p>
</blockquote>
<pre><code class="highlight shell">curl https://app.beyonic.com/api/contacts?ordering<span class="o">=</span>-created -H <span class="s2">"Authorization: Token ab594c14986612f6167a975e1c369e71edab6900"</span>
</code></pre>
<pre><code class="highlight ruby"><span class="nb">require</span> <span class="s1">'beyonic'</span>
<span class="no">Beyonic</span><span class="p">.</span><span class="nf">api_key</span> <span class="o">=</span> <span class="s1">'ab594c14986612f6167a975e1c369e71edab6900'</span>

<span class="n">contacts</span> <span class="o">=</span> <span class="no">Beyonic</span><span class="o">::</span><span class="no">Contact</span><span class="p">.</span><span class="nf">list</span><span class="p">(</span>
  <span class="ss">ordering: </span><span class="s1">'-created'</span>
<span class="p">)</span>
</code></pre>
<pre><code class="highlight php"><span class="cp">&lt;?php</span>
<span class="k">require_once</span><span class="p">(</span><span class="s1">'./lib/Beyonic.php'</span><span class="p">);</span>
<span class="nx">Beyonic</span><span class="o">::</span><span class="na">setApiKey</span><span class="p">(</span><span class="s2">"ab594c14986612f6167a975e1c369e71edab6900"</span><span class="p">);</span>

<span class="nv">$contacts</span> <span class="o">=</span> <span class="nx">Beyonic_Contact</span><span class="o">::</span><span class="na">getAll</span><span class="p">(</span>
  <span class="s2">"ordering"</span> <span class="o">=&gt;</span> <span class="s2">"-created"</span>
<span class="p">));</span>
<span class="cp">?&gt;</span>
</code></pre>
<pre><code class="highlight python"><span class="kn">import</span> <span class="nn">beyonic</span>
<span class="n">beyonic</span><span class="o">.</span><span class="n">api_key</span> <span class="o">=</span> <span class="s">'ab594c14986612f6167a975e1c369e71edab6900'</span>

<span class="n">contacts</span> <span class="o">=</span> <span class="n">beyonic</span><span class="o">.</span><span class="n">Contact</span><span class="o">.</span><span class="nb">list</span><span class="p">(</span><span class="n">ordering</span><span class="o">=</span><span class="s">'-created'</span><span class="p">)</span>


</code></pre>

<p>Most Beyonic API methods support a way to retrieve a list of records. For example, you can retrieve a list of contacts.</p>

<p>When retrieving a list, you can control the order that records are returned in by adding one parameters to your request:</p>

<ul>
<li><strong><em>ordering</em></strong>: This orders the records by one of the visible fields on the object</li>
</ul>

<p>Ascending or Descending order:</p>

<ul>
<li>To use ascending order, just use the field name E.g. ordering=created</li>
<li>To use descending order, add a &ldquo;-&rdquo; to the field name E.g. ordering=-created</li>
</ul>

          <h1 id="metadata">Metadata</h1>

<blockquote>
<p>Example showing how to create a new payment with Metadata:</p>
</blockquote>
<pre><code class="highlight shell">curl https://app.beyonic.com/api/payments -H <span class="s2">"Authorization: Token ab594c14986612f6167a975e1c369e71edab6900"</span> <span class="se">\</span>
-d <span class="nv">phonenumber</span><span class="o">=</span>+256772781923 <span class="se">\</span>
-d <span class="nv">currency</span><span class="o">=</span>UGX <span class="se">\</span>
-d <span class="nv">amount</span><span class="o">=</span>30 <span class="se">\</span>
-d <span class="nv">description</span><span class="o">=</span><span class="s2">"Per diem payment"</span> <span class="se">\</span>
-d <span class="nv">callback_url</span><span class="o">=</span><span class="s2">"https://my.website/payments/callback"</span> <span class="se">\</span>
-d <span class="nv">metadata</span><span class="o">=</span><span class="s2">"{'id':'1234','name':'Lucy'}"</span> <span class="se">\</span>
-d <span class="nv">payment_type</span><span class="o">=</span>money
</code></pre>
<pre><code class="highlight ruby"><span class="nb">require</span> <span class="s1">'beyonic'</span>
<span class="no">Beyonic</span><span class="p">.</span><span class="nf">api_key</span> <span class="o">=</span> <span class="s1">'ab594c14986612f6167a975e1c369e71edab6900'</span>

<span class="n">payment</span> <span class="o">=</span> <span class="no">Beyonic</span><span class="o">::</span><span class="no">Payment</span><span class="p">.</span><span class="nf">create</span><span class="p">(</span>
    <span class="ss">phonenumber: </span><span class="s2">"+256773712831"</span><span class="p">,</span>
    <span class="ss">amount: </span><span class="s2">"100.2"</span><span class="p">,</span>
    <span class="ss">currency: </span><span class="s2">"UGX"</span><span class="p">,</span>
    <span class="ss">description: </span><span class="s2">"Per diem payment"</span><span class="p">,</span>
    <span class="ss">payment_type: </span><span class="s2">"money"</span><span class="p">,</span>
    <span class="ss">callback_url: </span><span class="s2">"https://my.website/payments/callback"</span><span class="p">,</span>
    <span class="ss">metadata: </span><span class="s2">"{'id': '1234', 'name': 'Lucy'}"</span>
<span class="p">)</span>
</code></pre>
<pre><code class="highlight php"><span class="cp">&lt;?php</span>
<span class="k">require_once</span><span class="p">(</span><span class="s1">'./lib/Beyonic.php'</span><span class="p">);</span>
<span class="nx">Beyonic</span><span class="o">::</span><span class="na">setApiKey</span><span class="p">(</span><span class="s2">"ab594c14986612f6167a975e1c369e71edab6900"</span><span class="p">);</span>

<span class="nx">Beyonic_Payment</span><span class="o">::</span><span class="na">create</span><span class="p">(</span><span class="k">array</span><span class="p">(</span>
  <span class="s2">"phonenumber"</span> <span class="o">=&gt;</span> <span class="s2">"+256773712831"</span><span class="p">,</span>
  <span class="s2">"amount"</span> <span class="o">=&gt;</span> <span class="s2">"100.2"</span><span class="p">,</span>
  <span class="s2">"currency"</span> <span class="o">=&gt;</span> <span class="s2">"UGX"</span><span class="p">,</span>
  <span class="s2">"description"</span> <span class="o">=&gt;</span> <span class="s2">"Per diem payment"</span><span class="p">,</span>
  <span class="s2">"payment_type"</span> <span class="o">=&gt;</span> <span class="s2">"money"</span><span class="p">,</span>
  <span class="s2">"callback_url"</span> <span class="o">=&gt;</span> <span class="s2">"https://my.website/payments/callback"</span><span class="p">,</span>
  <span class="s2">"metadata"</span> <span class="o">=&gt;</span> <span class="s2">"{'id': '1234', 'name': 'Lucy'}"</span>
<span class="p">));</span>
<span class="cp">?&gt;</span>
</code></pre>
<pre><code class="highlight python"><span class="kn">import</span> <span class="nn">beyonic</span>
<span class="n">beyonic</span><span class="o">.</span><span class="n">api_key</span> <span class="o">=</span> <span class="s">'ab594c14986612f6167a975e1c369e71edab6900'</span>

<span class="n">beyonic</span><span class="o">.</span><span class="n">Payment</span><span class="o">.</span><span class="n">create</span><span class="p">(</span><span class="n">phonenumber</span><span class="o">=</span><span class="s">'+256773712831'</span><span class="p">,</span>
                       <span class="n">amount</span><span class="o">=</span><span class="s">'1200'</span><span class="p">,</span> 
                       <span class="n">currency</span><span class="o">=</span><span class="s">'UGX'</span><span class="p">,</span>
                       <span class="n">description</span><span class="o">=</span><span class="s">'Per diem'</span><span class="p">,</span>
                       <span class="n">callback_url</span><span class="o">=</span><span class="s">'https://my.website/payments/callback'</span><span class="p">,</span>
                       <span class="n">metadata</span><span class="o">=</span><span class="s">"{'id': '1234', 'name': 'Lucy'}"</span>
                       <span class="p">)</span>
</code></pre>

<p>Beyonic supports Metadata in a similar way to the Stripe API. </p>

<p>Metadata allows you to add custom attributes when creating objects. For example, you can include a unique ID to identify a payment, or add more information about a Contact. This data will be returned when you retrieve the record later, and can be used to identify the record.</p>

<p>Metadata has the following constraints:</p>

<ul>
<li>Metadata attributes must be key-value pairs. </li>
<li>Both the keys and values must be strings.</li>
<li>For each record, you can have up to 10 custom attributes.</li>
</ul>

<p>Metadata is added to the object as a JSON string. For example, &ldquo;{&lsquo;id&rsquo;:&#39;1234&rsquo;,&#39;name&rsquo;:&#39;Lucy&rsquo;}&rdquo; </p>

<p>See the examples for more information.</p>

          <h1 id="methods">Methods</h1>

<p>These are the methods supported by Beyonic&rsquo;s API. Clicking on each method in the table of contents shall reveal the actions supported by each method.</p>

          <h1 id="contacts">Contacts</h1>

<p>Contacts represent people whom you can send payments to, or receive payments from. The contacts api method allows you to add, retrieve, list and update contacts in your Beyonic account.</p>

<p>The contacts api endpoint is https://app.beyonic.com/api/contacts</p>

<h2 id="creating-a-new-contact">Creating a new contact</h2>

<blockquote>
<p>Sample Request:</p>
</blockquote>
<pre><code class="highlight shell">curl https://app.beyonic.com/api/contacts -H <span class="s2">"Authorization: Token ab594c14986612f6167a975e1c369e71edab6900"</span> <span class="se">\</span>
-d <span class="nv">first_name</span><span class="o">=</span><span class="s1">'John'</span> <span class="se">\</span>
-d <span class="nv">last_name</span><span class="o">=</span><span class="s1">'Doe'</span> <span class="se">\</span>
-d <span class="nv">phone_number</span><span class="o">=</span><span class="s1">'+256712954253'</span> <span class="se">\</span>
-d <span class="nv">email</span><span class="o">=</span><span class="s1">'john.doe@beyonic.com'</span> <span class="se">\</span>
-d <span class="nv">metadata</span><span class="o">=</span><span class="s2">"{'my_id': '123ASDAsd123'}"</span>
</code></pre>
<pre><code class="highlight ruby"><span class="nb">require</span> <span class="s1">'beyonic'</span>
<span class="no">Beyonic</span><span class="p">.</span><span class="nf">api_key</span> <span class="o">=</span> <span class="s1">'ab594c14986612f6167a975e1c369e71edab6900'</span>

<span class="n">payment</span> <span class="o">=</span> <span class="no">Beyonic</span><span class="o">::</span><span class="no">Contact</span><span class="p">.</span><span class="nf">create</span><span class="p">(</span>
    <span class="ss">phonenumber: </span><span class="s2">"+256773712831"</span><span class="p">,</span>
    <span class="ss">first_name: </span><span class="s2">"John"</span><span class="p">,</span>
    <span class="ss">last_name: </span><span class="s2">"Doe"</span><span class="p">,</span>
    <span class="ss">email: </span><span class="s2">"john.doe@beyonic.com"</span><span class="p">,</span>
    <span class="ss">metadata: </span><span class="s2">"{'my_id': '123ASDAsd123'}"</span>
<span class="p">)</span>
</code></pre>
<pre><code class="highlight php"><span class="cp">&lt;?php</span>
<span class="k">require_once</span><span class="p">(</span><span class="s1">'./lib/Beyonic.php'</span><span class="p">);</span>
<span class="nx">Beyonic</span><span class="o">::</span><span class="na">setApiKey</span><span class="p">(</span><span class="s2">"ab594c14986612f6167a975e1c369e71edab6900"</span><span class="p">);</span>

<span class="nx">Beyonic_Contact</span><span class="o">::</span><span class="na">create</span><span class="p">(</span><span class="k">array</span><span class="p">(</span>
  <span class="s2">"phonenumber"</span> <span class="o">=&gt;</span> <span class="s2">"+256773712831"</span><span class="p">,</span>
  <span class="s2">"first_name"</span> <span class="o">=&gt;</span> <span class="s2">"John"</span><span class="p">,</span>
  <span class="s2">"last_name"</span> <span class="o">=&gt;</span> <span class="s2">"Doe"</span><span class="p">,</span>
  <span class="s2">"email"</span> <span class="o">=&gt;</span> <span class="s2">"john.doe@beyonic.com"</span><span class="p">,</span>
  <span class="s2">"metadata"</span> <span class="o">=&gt;</span> <span class="s2">"{'my_id': '123ASDAsd123'}"</span>
<span class="p">));</span>
<span class="cp">?&gt;</span>
</code></pre>
<pre><code class="highlight python"><span class="kn">import</span> <span class="nn">beyonic</span>
<span class="n">beyonic</span><span class="o">.</span><span class="n">api_key</span> <span class="o">=</span> <span class="s">'ab594c14986612f6167a975e1c369e71edab6900'</span>

<span class="n">beyonic</span><span class="o">.</span><span class="n">Contact</span><span class="o">.</span><span class="n">create</span><span class="p">(</span><span class="n">phonenumber</span><span class="o">=</span><span class="s">'+256773712831'</span><span class="p">,</span>
                       <span class="n">first_name</span><span class="o">=</span><span class="s">'John'</span><span class="p">,</span> 
                       <span class="n">last_name</span><span class="o">=</span><span class="s">'Doe'</span><span class="p">,</span>
                       <span class="n">email</span><span class="o">=</span><span class="s">'john.doe@beyonic.com'</span>
                       <span class="n">metadata</span><span class="o">=</span><span class="s">"{'my_id': '123ASDAsd123'}"</span>
                       <span class="p">)</span>
</code></pre>

<blockquote>
<p>Sample Response (JSON):</p>
</blockquote>
<pre><code class="highlight json"><span class="p">{</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">26</span><span class="p">,</span><span class="w">
    </span><span class="s2">"organization"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Beyonic"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"first_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Suzanne"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"last_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Kwagala"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"suzanne@beyonic.com"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"phone_number"</span><span class="p">:</span><span class="w"> </span><span class="s2">"+256784522611"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"employee"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"active"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"metadata"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="s2">"created"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2013-09-19T21:26:10Z"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"author"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="s2">"modified"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-04-14T18:21:47Z"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"updated_by"</span><span class="p">:</span><span class="w"> </span><span class="mi">42</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>To create a new contact, make a POST to the endpoint above, with the attributes below.</p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Required</th>
<th>Type</th>
<th>Example</th>
<th>Notes</th>
</tr>
</thead><tbody>
<tr>
<td>phonenumber</td>
<td>Yes</td>
<td>String</td>
<td>+256773712831</td>
<td>Must be in international format</td>
</tr>
<tr>
<td>first_name</td>
<td>Yes</td>
<td>String</td>
<td>John</td>
<td>The contact&rsquo;s first name</td>
</tr>
<tr>
<td>last_name</td>
<td>Yes</td>
<td>String</td>
<td>Doe</td>
<td>The contact&rsquo;s last name</td>
</tr>
<tr>
<td>email</td>
<td>No</td>
<td>String</td>
<td>john.doe@beyonic.com</td>
<td>The contact&rsquo;s email address</td>
</tr>
<tr>
<td>metadata</td>
<td>No</td>
<td>JSON String</td>
<td>&ldquo;{&lsquo;my_id&rsquo;: &#39;123ASDAsd123&rsquo;}&rdquo;</td>
<td>Custom attributes to store with this object. See the Metadata section for more information.</td>
</tr>
</tbody></table>

<h2 id="retrieving-a-single-contact">Retrieving a single contact</h2>

<blockquote>
<p>Sample Request:</p>
</blockquote>
<pre><code class="highlight shell">curl https://app.beyonic.com/api/contacts/23 -H <span class="s2">"Authorization: Token ab594c14986612f6167a975e1c369e71edab6900"</span>
</code></pre>
<pre><code class="highlight ruby"><span class="nb">require</span> <span class="s1">'beyonic'</span>
<span class="no">Beyonic</span><span class="p">.</span><span class="nf">api_key</span> <span class="o">=</span> <span class="s1">'ab594c14986612f6167a975e1c369e71edab6900'</span>

<span class="n">contact</span> <span class="o">=</span> <span class="no">Beyonic</span><span class="o">::</span><span class="no">Contact</span><span class="p">.</span><span class="nf">get</span><span class="p">(</span><span class="mi">23</span><span class="p">)</span>
</code></pre>
<pre><code class="highlight php"><span class="cp">&lt;?php</span>
<span class="k">require_once</span><span class="p">(</span><span class="s1">'./lib/Beyonic.php'</span><span class="p">);</span>
<span class="nx">Beyonic</span><span class="o">::</span><span class="na">setApiKey</span><span class="p">(</span><span class="s2">"ab594c14986612f6167a975e1c369e71edab6900"</span><span class="p">);</span>

<span class="nv">$contact</span> <span class="o">=</span> <span class="nx">Beyonic_Contact</span><span class="o">::</span><span class="na">get</span><span class="p">(</span><span class="mi">23</span><span class="p">);</span>
<span class="cp">?&gt;</span>
</code></pre>
<pre><code class="highlight python"><span class="kn">import</span> <span class="nn">beyonic</span>
<span class="n">beyonic</span><span class="o">.</span><span class="n">api_key</span> <span class="o">=</span> <span class="s">'ab594c14986612f6167a975e1c369e71edab6900'</span>

<span class="n">contact</span> <span class="o">=</span> <span class="n">beyonic</span><span class="o">.</span><span class="n">Contact</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="mi">23</span><span class="p">)</span>

</code></pre>

<blockquote>
<p>Sample Response (JSON):</p>
</blockquote>
<pre><code class="highlight json"><span class="p">{</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">23</span><span class="p">,</span><span class="w">
    </span><span class="s2">"organization"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Beyonic"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"first_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Suzanne"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"last_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Kwagala"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"suzanne@beyonic.com"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"phone_number"</span><span class="p">:</span><span class="w"> </span><span class="s2">"+256784522611"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"employee"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"active"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"metadata"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="s2">"created"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2013-09-19T21:26:10Z"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"author"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="s2">"modified"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-04-14T18:21:47Z"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"updated_by"</span><span class="p">:</span><span class="w"> </span><span class="mi">42</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>To retrieve a single contact, provide the contact id and a contact object will be returned.</p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Required</th>
<th>Type</th>
<th>Example</th>
<th>Notes</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>Yes</td>
<td>Integer</td>
<td>23</td>
<td>The id of the contact you want to retrieve</td>
</tr>
</tbody></table>

<h2 id="listing-all-contacts">Listing all contacts</h2>

<blockquote>
<p>Sample Request:</p>
</blockquote>
<pre><code class="highlight shell">curl https://app.beyonic.com/api/contacts -H <span class="s2">"Authorization: Token ab594c14986612f6167a975e1c369e71edab6900"</span>
</code></pre>
<pre><code class="highlight ruby"><span class="nb">require</span> <span class="s1">'beyonic'</span>
<span class="no">Beyonic</span><span class="p">.</span><span class="nf">api_key</span> <span class="o">=</span> <span class="s1">'ab594c14986612f6167a975e1c369e71edab6900'</span>

<span class="n">contact</span> <span class="o">=</span> <span class="no">Beyonic</span><span class="o">::</span><span class="no">Contact</span><span class="p">.</span><span class="nf">list</span>
</code></pre>
<pre><code class="highlight php"><span class="cp">&lt;?php</span>
<span class="k">require_once</span><span class="p">(</span><span class="s1">'./lib/Beyonic.php'</span><span class="p">);</span>
<span class="nx">Beyonic</span><span class="o">::</span><span class="na">setApiKey</span><span class="p">(</span><span class="s2">"ab594c14986612f6167a975e1c369e71edab6900"</span><span class="p">);</span>

<span class="nv">$contact</span> <span class="o">=</span> <span class="nx">Beyonic_Contact</span><span class="o">::</span><span class="na">getAll</span><span class="p">();</span>
<span class="cp">?&gt;</span>
</code></pre>
<pre><code class="highlight python"><span class="kn">import</span> <span class="nn">beyonic</span>
<span class="n">beyonic</span><span class="o">.</span><span class="n">api_key</span> <span class="o">=</span> <span class="s">'ab594c14986612f6167a975e1c369e71edab6900'</span>

<span class="n">contact</span> <span class="o">=</span> <span class="n">beyonic</span><span class="o">.</span><span class="n">Contact</span><span class="o">.</span><span class="nb">list</span><span class="p">()</span>

</code></pre>

<blockquote>
<p>Sample Response (JSON)</p>
</blockquote>
<pre><code class="highlight json"><span class="p">{</span><span class="w">
    </span><span class="s2">"count"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
    </span><span class="s2">"next"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://app.beyonic.com/api/contacts?offset=10"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"previous"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="s2">"results"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1146</span><span class="p">,</span><span class="w">
            </span><span class="s2">"organization"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Demo Org"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"first_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Eliana"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"last_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Kalema"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"email"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
            </span><span class="s2">"phone_number"</span><span class="p">:</span><span class="w"> </span><span class="s2">"+25677XXXXXX"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"other"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"active"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"metadata"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
            </span><span class="s2">"created"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-02-13T04:22:31Z"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"author"</span><span class="p">:</span><span class="w"> </span><span class="mi">7</span><span class="p">,</span><span class="w">
            </span><span class="s2">"modified"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-02-26T13:00:35Z"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"updated_by"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1175</span><span class="p">,</span><span class="w">
            </span><span class="s2">"organization"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Demo Org"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"first_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Trina"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"last_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Faith"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"email"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
            </span><span class="s2">"phone_number"</span><span class="p">:</span><span class="w"> </span><span class="s2">"+25677XXXXXX"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"employee"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"active"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"metadata"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
            </span><span class="s2">"created"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-02-18T11:52:43Z"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"author"</span><span class="p">:</span><span class="w"> </span><span class="mi">137</span><span class="p">,</span><span class="w">
            </span><span class="s2">"modified"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-02-26T13:00:35Z"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"updated_by"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w">
        </span><span class="p">},</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>To retrieve a list of all contacts, make a GET request to the contact end point. This will return a list of contacts. </p>

<ul>
<li><strong>Ordering</strong>: Remember that you can order the list. Look at the ordering section for more information.</li>
<li><strong>Pagination</strong>: You can also paginate the list of contacts. Look at the pagination section for more information.</li>
</ul>

          <h1 id="payments">Payments</h1>

<p>To send payments to a mobile subscriber, you create a new payment object. You can also retrieve individual payments or list all payments.</p>

<ul>
<li>End Point: https://app.beyonic.com/api/payments</li>
</ul>

<h2 id="creating-a-new-payment">Creating a new payment</h2>

<blockquote>
<p>Sample Request:</p>
</blockquote>
<pre><code class="highlight shell">curl https://app.beyonic.com/api/payments -H <span class="s2">"Authorization: Token ab594c14986612f6167a975e1c369e71edab6900"</span> <span class="se">\</span>
-d <span class="nv">phonenumber</span><span class="o">=</span>+256772781923 <span class="se">\</span>
-d <span class="nv">currency</span><span class="o">=</span>UGX <span class="se">\</span>
-d <span class="nv">amount</span><span class="o">=</span>30 <span class="se">\</span>
-d <span class="nv">description</span><span class="o">=</span><span class="s2">"Per diem payment"</span> <span class="se">\</span>
-d <span class="nv">callback_url</span><span class="o">=</span><span class="s2">"https://my.website/payments/callback"</span> <span class="se">\</span>
-d <span class="nv">metadata</span><span class="o">=</span><span class="s2">"{'id':'1234','name':'Lucy'}"</span> <span class="se">\</span>
-d <span class="nv">payment_type</span><span class="o">=</span>money
</code></pre>
<pre><code class="highlight ruby"><span class="nb">require</span> <span class="s1">'beyonic'</span>
<span class="no">Beyonic</span><span class="p">.</span><span class="nf">api_key</span> <span class="o">=</span> <span class="s1">'ab594c14986612f6167a975e1c369e71edab6900'</span>

<span class="n">payment</span> <span class="o">=</span> <span class="no">Beyonic</span><span class="o">::</span><span class="no">Payment</span><span class="p">.</span><span class="nf">create</span><span class="p">(</span>
    <span class="ss">phonenumber: </span><span class="s2">"+256773712831"</span><span class="p">,</span>
    <span class="ss">amount: </span><span class="s2">"100.2"</span><span class="p">,</span>
    <span class="ss">currency: </span><span class="s2">"UGX"</span><span class="p">,</span>
    <span class="ss">description: </span><span class="s2">"Per diem payment"</span><span class="p">,</span>
    <span class="ss">payment_type: </span><span class="s2">"money"</span><span class="p">,</span>
    <span class="ss">callback_url: </span><span class="s2">"https://my.website/payments/callback"</span><span class="p">,</span>
    <span class="ss">metadata: </span><span class="s2">"{'id': '1234', 'name': 'Lucy'}"</span>
<span class="p">)</span>
</code></pre>
<pre><code class="highlight php"><span class="cp">&lt;?php</span>
<span class="k">require_once</span><span class="p">(</span><span class="s1">'./lib/Beyonic.php'</span><span class="p">);</span>
<span class="nx">Beyonic</span><span class="o">::</span><span class="na">setApiKey</span><span class="p">(</span><span class="s2">"ab594c14986612f6167a975e1c369e71edab6900"</span><span class="p">);</span>

<span class="nx">Beyonic_Payment</span><span class="o">::</span><span class="na">create</span><span class="p">(</span><span class="k">array</span><span class="p">(</span>
  <span class="s2">"phonenumber"</span> <span class="o">=&gt;</span> <span class="s2">"+256773712831"</span><span class="p">,</span>
  <span class="s2">"amount"</span> <span class="o">=&gt;</span> <span class="s2">"100.2"</span><span class="p">,</span>
  <span class="s2">"currency"</span> <span class="o">=&gt;</span> <span class="s2">"UGX"</span><span class="p">,</span>
  <span class="s2">"description"</span> <span class="o">=&gt;</span> <span class="s2">"Per diem payment"</span><span class="p">,</span>
  <span class="s2">"payment_type"</span> <span class="o">=&gt;</span> <span class="s2">"money"</span><span class="p">,</span>
  <span class="s2">"callback_url"</span> <span class="o">=&gt;</span> <span class="s2">"https://my.website/payments/callback"</span><span class="p">,</span>
  <span class="s2">"metadata"</span> <span class="o">=&gt;</span> <span class="s2">"{'id': '1234', 'name': 'Lucy'}"</span>
<span class="p">));</span>
<span class="cp">?&gt;</span>
</code></pre>
<pre><code class="highlight python"><span class="kn">import</span> <span class="nn">beyonic</span>
<span class="n">beyonic</span><span class="o">.</span><span class="n">api_key</span> <span class="o">=</span> <span class="s">'ab594c14986612f6167a975e1c369e71edab6900'</span>

<span class="n">beyonic</span><span class="o">.</span><span class="n">Payment</span><span class="o">.</span><span class="n">create</span><span class="p">(</span><span class="n">phonenumber</span><span class="o">=</span><span class="s">'+256773712831'</span><span class="p">,</span>
                       <span class="n">amount</span><span class="o">=</span><span class="s">'1200'</span><span class="p">,</span> 
                       <span class="n">currency</span><span class="o">=</span><span class="s">'UGX'</span><span class="p">,</span>
                       <span class="n">description</span><span class="o">=</span><span class="s">'Per diem'</span><span class="p">,</span>
                       <span class="n">callback_url</span><span class="o">=</span><span class="s">'https://my.website/payments/callback'</span>
                       <span class="p">)</span>
</code></pre>

<blockquote>
<p>Sample Response (JSON):</p>
</blockquote>
<pre><code class="highlight json"><span class="p">{</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">3620</span><span class="p">,</span><span class="w"> 
    </span><span class="s2">"organization"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> 
    </span><span class="s2">"amount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"30"</span><span class="p">,</span><span class="w"> 
    </span><span class="s2">"currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"UGX"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"payment_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"money"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"metadata"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1234</span><span class="p">,</span><span class="w"> </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Lucy"</span><span class="p">},</span><span class="w"> 
    </span><span class="s2">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Per diem payment"</span><span class="p">,</span><span class="w"> 
    </span><span class="s2">"phone_nos"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"+256772781923"</span><span class="p">],</span><span class="w"> 
    </span><span class="s2">"state"</span><span class="p">:</span><span class="w"> </span><span class="s2">"new"</span><span class="p">,</span><span class="w"> 
    </span><span class="s2">"last_error"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="s2">"rejected_reason"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="s2">"rejected_by"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="s2">"rejected_time"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="s2">"cancelled_reason"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="s2">"cancelled_by"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="s2">"cancelled_time"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w"> 
    </span><span class="s2">"created"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2014-11-22T20:57:04.017Z"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"author"</span><span class="p">:</span><span class="w"> </span><span class="mi">15</span><span class="p">,</span><span class="w">
    </span><span class="s2">"modified"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2014-11-22T20:57:04.018Z"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"updated_by"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="s2">"start_date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2014-11-22T20:57:04.018Z"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>To create a new payment, make a POST to the endpoint above, with the attributes below.</p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Required</th>
<th>Type</th>
<th>Example</th>
<th>Notes</th>
</tr>
</thead><tbody>
<tr>
<td>phonenumber</td>
<td>Yes</td>
<td>String</td>
<td>+256773712831</td>
<td>Must be in international format</td>
</tr>
<tr>
<td>amount</td>
<td>Yes</td>
<td>String, Integer or Decimal</td>
<td>3000</td>
<td>Do not include thousands separators</td>
</tr>
<tr>
<td>currency</td>
<td>Yes</td>
<td>String</td>
<td>UGX</td>
<td>3 letter ISO currency code. No currency conversion is done, so the currency must be valid for the selected phonenumber. You must have funded Beyonic an account in this currency. If your account for this currency has zero balance, your payment will fail.</td>
</tr>
<tr>
<td>description</td>
<td>Yes</td>
<td>String</td>
<td>Per diem payment</td>
<td>This description will be sent to the recipient along with the payment, so it should be limited to about 140 characters.</td>
</tr>
<tr>
<td>payment_type</td>
<td>No</td>
<td>String</td>
<td>money</td>
<td>Options: money (default), airtime - use &ldquo;airtime&rdquo; to send an airtime payment instead of a mobile money payment</td>
</tr>
<tr>
<td>callback_url</td>
<td>No</td>
<td>String</td>
<td>https://my.website/payments/callback</td>
<td>See &ldquo;Callback URLs&rdquo; below for more info.</td>
</tr>
<tr>
<td>metadata</td>
<td>No</td>
<td>JSON-formatted string or dictionary</td>
<td>&ldquo;{&lsquo;id&rsquo;:&#39;1234&rsquo;,&#39;name&rsquo;:&#39;Lucy&rsquo;}&rdquo;</td>
<td>Metadata allows you to add custom attributes to your payments. E.g. You can include a unique ID to identify each payment. Attributes must be key-value pairs. Both the keys and values must be strings. You can add up to 10 attributes. This data will be returned when you retrieve a payment.</td>
</tr>
<tr>
<td>first_name</td>
<td>No</td>
<td>String</td>
<td>John</td>
<td>If this payment is to a new contact, you can include their first name. This name will only be used if the contact is new.</td>
</tr>
<tr>
<td>last_name</td>
<td>No</td>
<td>String</td>
<td>Doe</td>
<td>If this payment is to a new contact, you can include their last name. This name will only be used if the contact is new.</td>
</tr>
</tbody></table>

<p><strong>Callback URLs</strong></p>

<p>Callback URLs are used to send notifications of changes in payment status. Not all payments will be completed immediately, especially if it is a payment to a new number that hasn’t been verified, or if your account has approval rules that require other users to approve payments before they are processed.</p>

<ul>
<li>Non-HTTPS URLs will be rejected.</li>
<li>Data will be posted to the URL, and a 200 response is expected.</li>
<li>In version 1, a non 200 response may result in deletion of the URL, and no further notifications will be sent.</li>
<li>In version 1, the URL you submit isn’t specific to the payment you have created. Once submitted, it will receive notifications for all future payments made via your organization, whether they are made via the API or via the web-interface.</li>
<li>Therefore, you are encouraged to use the same URL for all payments. Since URLs are stored at a per-organization level, using different URLs may result in duplicate notifications being sent to the different URLs.</li>
<li>In version 1, previously submitted urls can be deleted via the web browser, or the Webhooks API methods described elsewhere in this reference.</li>
</ul>

<p><strong>Responses</strong></p>

<ul>
<li>If successful, a JSON representation of the new payment object will be returned. The state field will be &ldquo;new&rdquo;</li>
<li>The payment object can be identified using it’s id field, or the metadata that you supplied.</li>
<li>On subsequent notification callbacks to your callback URL, the same payment object (with the same id field) will be returned. Check the state field for the latest payment status.</li>
<li>The state field values can be:

<ul>
<li>new – for new payments</li>
<li>processed – for successfully completed payments</li>
<li>processed_with_errors – for payments that didn’t complete successfully. The last_error field with have more information.</li>
<li>rejected – for payments that were rejected during the approval process. The following fields will have more information: rejected_reason, rejected_by and rejected_time</li>
<li>cancelled – for payments that were cancelled. The following fields will have more information: cancelled_reason, cancelled_by and cancelled_time</li>
</ul></li>
</ul>

<h2 id="retrieving-a-single-payment">Retrieving a single payment</h2>

<blockquote>
<p>Sample Request:</p>
</blockquote>
<pre><code class="highlight shell">curl https://app.beyonic.com/api/payments/2314 -H <span class="s2">"Authorization: Token ab594c14986612f6167a975e1c369e71edab6900"</span>
</code></pre>
<pre><code class="highlight ruby"><span class="nb">require</span> <span class="s1">'beyonic'</span>
<span class="no">Beyonic</span><span class="p">.</span><span class="nf">api_key</span> <span class="o">=</span> <span class="s1">'ab594c14986612f6167a975e1c369e71edab6900'</span>

<span class="n">payment</span> <span class="o">=</span> <span class="no">Beyonic</span><span class="o">::</span><span class="no">Payment</span><span class="p">.</span><span class="nf">get</span><span class="p">(</span><span class="mi">2314</span><span class="p">)</span>
</code></pre>
<pre><code class="highlight php"><span class="cp">&lt;?php</span>
<span class="k">require_once</span><span class="p">(</span><span class="s1">'./lib/Beyonic.php'</span><span class="p">);</span>
<span class="nx">Beyonic</span><span class="o">::</span><span class="na">setApiKey</span><span class="p">(</span><span class="s2">"ab594c14986612f6167a975e1c369e71edab6900"</span><span class="p">);</span>

<span class="nv">$payment</span> <span class="o">=</span> <span class="nx">Beyonic_Payment</span><span class="o">::</span><span class="na">get</span><span class="p">(</span><span class="mi">2314</span><span class="p">);</span>
<span class="cp">?&gt;</span>
</code></pre>
<pre><code class="highlight python"><span class="kn">import</span> <span class="nn">beyonic</span>
<span class="n">beyonic</span><span class="o">.</span><span class="n">api_key</span> <span class="o">=</span> <span class="s">'ab594c14986612f6167a975e1c369e71edab6900'</span>

<span class="n">payment</span> <span class="o">=</span> <span class="n">beyonic</span><span class="o">.</span><span class="n">Payment</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="mi">2314</span><span class="p">)</span>

</code></pre>

<blockquote>
<p>Sample Response (JSON):</p>
</blockquote>
<pre><code class="highlight json"><span class="p">{</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">2314</span><span class="p">,</span><span class="w"> 
    </span><span class="s2">"organization"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> 
    </span><span class="s2">"amount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"30"</span><span class="p">,</span><span class="w"> 
    </span><span class="s2">"currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"UGX"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"payment_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"money"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"metadata"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1234</span><span class="p">,</span><span class="w"> </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Lucy"</span><span class="p">},</span><span class="w"> 
    </span><span class="s2">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Per diem payment"</span><span class="p">,</span><span class="w"> 
    </span><span class="s2">"phone_nos"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"+256772781923"</span><span class="p">],</span><span class="w"> 
    </span><span class="s2">"state"</span><span class="p">:</span><span class="w"> </span><span class="s2">"new"</span><span class="p">,</span><span class="w"> 
    </span><span class="s2">"last_error"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="s2">"rejected_reason"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="s2">"rejected_by"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="s2">"rejected_time"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="s2">"cancelled_reason"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="s2">"cancelled_by"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="s2">"cancelled_time"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w"> 
    </span><span class="s2">"created"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2014-11-22T20:57:04.017Z"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"author"</span><span class="p">:</span><span class="w"> </span><span class="mi">15</span><span class="p">,</span><span class="w">
    </span><span class="s2">"modified"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2014-11-22T20:57:04.018Z"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"updated_by"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="s2">"start_date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2014-11-22T20:57:04.018Z"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>To retrieve a single payment object, provide the payment id and a payment object will be returned.</p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Required</th>
<th>Type</th>
<th>Example</th>
<th>Notes</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>Yes</td>
<td>Integer</td>
<td>2314</td>
<td>The id of the payment you want to retrieve</td>
</tr>
</tbody></table>

<h2 id="listing-all-payments">Listing all payments</h2>

<blockquote>
<p>Sample Request:</p>
</blockquote>
<pre><code class="highlight shell">curl https://app.beyonic.com/api/payments -H <span class="s2">"Authorization: Token ab594c14986612f6167a975e1c369e71edab6900"</span>
</code></pre>
<pre><code class="highlight ruby"><span class="nb">require</span> <span class="s1">'beyonic'</span>
<span class="no">Beyonic</span><span class="p">.</span><span class="nf">api_key</span> <span class="o">=</span> <span class="s1">'ab594c14986612f6167a975e1c369e71edab6900'</span>

<span class="n">payments</span> <span class="o">=</span> <span class="no">Beyonic</span><span class="o">::</span><span class="no">Payment</span><span class="p">.</span><span class="nf">list</span>
</code></pre>
<pre><code class="highlight php"><span class="cp">&lt;?php</span>
<span class="k">require_once</span><span class="p">(</span><span class="s1">'./lib/Beyonic.php'</span><span class="p">);</span>
<span class="nx">Beyonic</span><span class="o">::</span><span class="na">setApiKey</span><span class="p">(</span><span class="s2">"ab594c14986612f6167a975e1c369e71edab6900"</span><span class="p">);</span>

<span class="nv">$payments</span> <span class="o">=</span> <span class="nx">Beyonic_Payment</span><span class="o">::</span><span class="na">getAll</span><span class="p">();</span>
<span class="cp">?&gt;</span>
</code></pre>
<pre><code class="highlight python"><span class="kn">import</span> <span class="nn">beyonic</span>
<span class="n">beyonic</span><span class="o">.</span><span class="n">api_key</span> <span class="o">=</span> <span class="s">'ab594c14986612f6167a975e1c369e71edab6900'</span>

<span class="n">payments</span> <span class="o">=</span> <span class="n">beyonic</span><span class="o">.</span><span class="n">Payment</span><span class="o">.</span><span class="nb">list</span><span class="p">()</span>

</code></pre>

<blockquote>
<p>Sample Response (JSON)</p>
</blockquote>
<pre><code class="highlight json"><span class="p">{</span><span class="w">
    </span><span class="s2">"count"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
    </span><span class="s2">"next"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://app.beyonic.com/api/payments?offset=10"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"previous"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="s2">"results"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
            </span><span class="s2">"organization"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Beyonic"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"amount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.0000"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"UGX"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"payment_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"money"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"metadata"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
            </span><span class="s2">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Test"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"phone_nos"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                </span><span class="s2">"+256784522613"</span><span class="w">
            </span><span class="p">],</span><span class="w">
            </span><span class="s2">"state"</span><span class="p">:</span><span class="w"> </span><span class="s2">"approved"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"last_error"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
            </span><span class="s2">"rejected_reason"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
            </span><span class="s2">"rejected_by"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
            </span><span class="s2">"rejected_time"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
            </span><span class="s2">"cancelled_reason"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
            </span><span class="s2">"cancelled_by"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
            </span><span class="s2">"cancelled_time"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
            </span><span class="s2">"created"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2013-08-20T17:21:39Z"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"author"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
            </span><span class="s2">"modified"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2013-08-20T17:21:39Z"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"updated_by"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
            </span><span class="s2">"start_date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2013-08-20T00:00:00Z"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
            </span><span class="s2">"organization"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Beyonic"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"amount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"200.0000"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"UGX"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"payment_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"money"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"metadata"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
            </span><span class="s2">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Test2"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"phone_nos"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                </span><span class="s2">"+256784522611"</span><span class="w">
            </span><span class="p">],</span><span class="w">
            </span><span class="s2">"state"</span><span class="p">:</span><span class="w"> </span><span class="s2">"scheduled"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"last_error"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
            </span><span class="s2">"rejected_reason"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
            </span><span class="s2">"rejected_by"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
            </span><span class="s2">"rejected_time"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
            </span><span class="s2">"cancelled_reason"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
            </span><span class="s2">"cancelled_by"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
            </span><span class="s2">"cancelled_time"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
            </span><span class="s2">"created"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2013-08-22T01:53:35Z"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"author"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
            </span><span class="s2">"modified"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2013-08-22T01:53:36Z"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"updated_by"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
            </span><span class="s2">"start_date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2013-08-21T00:00:00Z"</span><span class="w">
        </span><span class="p">},</span><span class="w">
</span></code></pre>

<p>To return a list of all payments, make a GET request to the payments endpoint. This will return a list of payment objects.</p>

          <h1 id="collections">Collections</h1>

<p>Collections are payments sent to you from mobile subscribers. See [&lsquo;how collections work&rsquo;]](http://support.beyonic.com/how-collections-work/) for more information.</p>

<p>When the user sends in a payment, it will create a collection object that you can access via the Collections API using the methods shown below.</p>

<p>The collections api endpoint is https://app.beyonic.com/api/collections</p>

<h2 id="retrieving-a-single-collection">Retrieving a single collection</h2>

<blockquote>
<p>Sample Request:</p>
</blockquote>
<pre><code class="highlight shell">curl https://app.beyonic.com/api/collections/230 -H <span class="s2">"Authorization: Token ab594c14986612f6167a975e1c369e71edab6900"</span>
</code></pre>
<pre><code class="highlight ruby"><span class="nb">require</span> <span class="s1">'beyonic'</span>
<span class="no">Beyonic</span><span class="p">.</span><span class="nf">api_key</span> <span class="o">=</span> <span class="n">ab594c14986612f6167a975e1c369e71edab6900</span><span class="err">'</span>

<span class="n">collection</span> <span class="o">=</span> <span class="no">Beyonic</span><span class="o">::</span><span class="no">Collection</span><span class="p">.</span><span class="nf">get</span><span class="p">(</span><span class="mi">23</span><span class="p">)</span>
</code></pre>
<pre><code class="highlight php"><span class="cp">&lt;?php</span>
<span class="k">require_once</span><span class="p">(</span><span class="s1">'./lib/Beyonic.php'</span><span class="p">);</span>
<span class="nx">Beyonic</span><span class="o">::</span><span class="na">setApiKey</span><span class="p">(</span><span class="s2">"ab594c14986612f6167a975e1c369e71edab6900"</span><span class="p">);</span>

<span class="nv">$collection</span> <span class="o">=</span> <span class="nx">Beyonic_Collection</span><span class="o">::</span><span class="na">get</span><span class="p">(</span><span class="mi">23</span><span class="p">);</span>
<span class="cp">?&gt;</span>
</code></pre>
<pre><code class="highlight python"><span class="kn">import</span> <span class="nn">beyonic</span>
<span class="n">beyonic</span><span class="o">.</span><span class="n">api_key</span> <span class="o">=</span> <span class="s">'ab594c14986612f6167a975e1c369e71edab6900'</span>

<span class="n">collection</span> <span class="o">=</span> <span class="n">beyonic</span><span class="o">.</span><span class="n">Collection</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="mi">23</span><span class="p">)</span>

</code></pre>

<blockquote>
<p>Sample Response (JSON):</p>
</blockquote>
<pre><code class="highlight json"><span class="p">{</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">230</span><span class="p">,</span><span class="w">
    </span><span class="s2">"remote_transaction_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"12132"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"organization"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="s2">"amount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"20.0000"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"currency"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="s2">"phonenumber"</span><span class="p">:</span><span class="w"> </span><span class="s2">"+2547227272723"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"payment_date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-12-12T00:00:00Z"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"reference"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"successful"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"created"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-08-01T16:49:48Z"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"author"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="s2">"modified"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-08-01T16:55:38Z"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"updated_by"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>To retrieve a single collection object, provide the collection id and a collection object will be returned.</p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Required</th>
<th>Type</th>
<th>Example</th>
<th>Notes</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>Yes</td>
<td>Integer</td>
<td>23</td>
<td>The id of the collection you want to retrieve</td>
</tr>
</tbody></table>

<h2 id="listing-all-collections">Listing all collections</h2>

<blockquote>
<p>Sample Request:</p>
</blockquote>
<pre><code class="highlight shell">curl https://app.beyonic.com/api/collections -H <span class="s2">"Authorization: Token ab594c14986612f6167a975e1c369e71edab6900"</span>
</code></pre>
<pre><code class="highlight ruby"><span class="nb">require</span> <span class="s1">'beyonic'</span>
<span class="no">Beyonic</span><span class="p">.</span><span class="nf">api_key</span> <span class="o">=</span> <span class="s1">'ab594c14986612f6167a975e1c369e71edab6900'</span>

<span class="n">collection</span> <span class="o">=</span> <span class="no">Beyonic</span><span class="o">::</span><span class="no">Collection</span><span class="p">.</span><span class="nf">list</span>
</code></pre>
<pre><code class="highlight php"><span class="cp">&lt;?php</span>
<span class="k">require_once</span><span class="p">(</span><span class="s1">'./lib/Beyonic.php'</span><span class="p">);</span>
<span class="nx">Beyonic</span><span class="o">::</span><span class="na">setApiKey</span><span class="p">(</span><span class="s2">"ab594c14986612f6167a975e1c369e71edab6900"</span><span class="p">);</span>

<span class="nv">$collection</span> <span class="o">=</span> <span class="nx">Beyonic_Collection</span><span class="o">::</span><span class="na">getAll</span><span class="p">();</span>
<span class="cp">?&gt;</span>
</code></pre>
<pre><code class="highlight python"><span class="kn">import</span> <span class="nn">beyonic</span>
<span class="n">beyonic</span><span class="o">.</span><span class="n">api_key</span> <span class="o">=</span> <span class="s">'ab594c14986612f6167a975e1c369e71edab6900'</span>

<span class="n">collection</span> <span class="o">=</span> <span class="n">beyonic</span><span class="o">.</span><span class="n">Collection</span><span class="o">.</span><span class="nb">list</span><span class="p">()</span>

</code></pre>

<blockquote>
<p>Sample Response (JSON)</p>
</blockquote>
<pre><code class="highlight json"><span class="p">{</span><span class="w">
    </span><span class="s2">"count"</span><span class="p">:</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w">
    </span><span class="s2">"next"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://app.beyonic.com/api/collections?offset=10"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"previous"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="s2">"results"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">82</span><span class="p">,</span><span class="w">
            </span><span class="s2">"remote_transaction_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1485758785"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"organization"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
            </span><span class="s2">"amount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2000.0000"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"currency"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
            </span><span class="s2">"phonenumber"</span><span class="p">:</span><span class="w"> </span><span class="s2">"+256782466772"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"payment_date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-07-14T09:57:44Z"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"reference"</span><span class="p">:</span><span class="w"> </span><span class="s2">"beyonic"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"successful"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"created"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-07-14T15:19:05Z"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"author"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
            </span><span class="s2">"modified"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-08-20T16:48:51Z"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"updated_by"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">81</span><span class="p">,</span><span class="w">
            </span><span class="s2">"remote_transaction_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"225718814"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"organization"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
            </span><span class="s2">"amount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2000.0000"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"currency"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
            </span><span class="s2">"phonenumber"</span><span class="p">:</span><span class="w"> </span><span class="s2">"+256752466772"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"payment_date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-07-14T10:26:32Z"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"reference"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Payment Ian M"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"successful"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"created"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-07-14T10:27:08Z"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"author"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
            </span><span class="s2">"modified"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-07-14T10:27:11Z"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"updated_by"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">77</span><span class="p">,</span><span class="w">
            </span><span class="s2">"remote_transaction_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"215569420"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"organization"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
            </span><span class="s2">"amount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"500.0000"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"currency"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
            </span><span class="s2">"phonenumber"</span><span class="p">:</span><span class="w"> </span><span class="s2">"+256756145947"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"payment_date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-06-25T08:16:26Z"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"reference"</span><span class="p">:</span><span class="w"> </span><span class="s2">"payment 10"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"successful"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"created"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-06-25T08:17:07Z"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"author"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
            </span><span class="s2">"modified"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-06-25T08:17:18Z"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"updated_by"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
        </span><span class="p">},</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>To retrieve a list of all collections, make a GET request to the collections endpoint. This will return a list of collection objects.</p>

<h2 id="searching-for-a-collection">Searching for a collection</h2>

<blockquote>
<p>Sample Request:</p>
</blockquote>
<pre><code class="highlight shell">curl https://app.beyonic.com/api/collections?phonenumber<span class="o">=</span>+256772712893&amp;remote_transaction_id<span class="o">=</span>SS12312 -H <span class="s2">"Authorization: Token ab594c14986612f6167a975e1c369e71edab6900"</span>
</code></pre>
<pre><code class="highlight ruby"><span class="nb">require</span> <span class="s1">'beyonic'</span>
<span class="no">Beyonic</span><span class="p">.</span><span class="nf">api_key</span> <span class="o">=</span> <span class="s1">'ab594c14986612f6167a975e1c369e71edab6900'</span>

<span class="n">collection</span> <span class="o">=</span> <span class="no">Beyonic</span><span class="o">::</span><span class="no">Collection</span><span class="p">.</span><span class="nf">list</span><span class="p">(</span>
  <span class="ss">phonenumber: </span><span class="s2">"+256772712893"</span><span class="p">,</span>
  <span class="ss">remote_transaction_id: </span><span class="s2">"SS12312"</span>
<span class="p">)</span>
</code></pre>
<pre><code class="highlight php"><span class="cp">&lt;?php</span>
<span class="k">require_once</span><span class="p">(</span><span class="s1">'./lib/Beyonic.php'</span><span class="p">);</span>
<span class="nx">Beyonic</span><span class="o">::</span><span class="na">setApiKey</span><span class="p">(</span><span class="s2">"ab594c14986612f6167a975e1c369e71edab6900"</span><span class="p">);</span>

<span class="nv">$collection</span> <span class="o">=</span> <span class="nx">Beyonic_Collection</span><span class="o">::</span><span class="na">getAll</span><span class="p">(</span>
  <span class="s2">"phonenumber"</span> <span class="o">=&gt;</span> <span class="s2">"+256772712893"</span><span class="p">,</span>
  <span class="s2">"remote_transaction_id"</span> <span class="o">=&gt;</span> <span class="s2">"SS12312"</span>
<span class="p">));</span>
<span class="cp">?&gt;</span>
</code></pre>
<pre><code class="highlight python"><span class="kn">import</span> <span class="nn">beyonic</span>
<span class="n">beyonic</span><span class="o">.</span><span class="n">api_key</span> <span class="o">=</span> <span class="s">'ab594c14986612f6167a975e1c369e71edab6900'</span>

<span class="n">collection</span> <span class="o">=</span> <span class="n">beyonic</span><span class="o">.</span><span class="n">Collection</span><span class="o">.</span><span class="nb">list</span><span class="p">(</span><span class="n">phonenumber</span><span class="o">=</span><span class="s">'+256772712893'</span><span class="p">,</span>
                                     <span class="n">remote_transaction_id</span><span class="o">=</span><span class="s">'SS12312'</span><span class="p">)</span>


</code></pre>

<blockquote>
<p>Sample Response (JSON)</p>
</blockquote>
<pre><code class="highlight json"><span class="p">[</span><span class="w">
       </span><span class="p">{</span><span class="w">
        </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">134</span><span class="p">,</span><span class="w">
        </span><span class="s2">"phonenumber"</span><span class="p">:</span><span class="w"> </span><span class="s2">"+256XXXXXX"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"remote_transaction_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ASDCECASF"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"payment_date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2014-11-22T20:57:04Z"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"reference"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Test Payment"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"amount"</span><span class="p">:</span><span class="w"> </span><span class="mf">3000.000</span><span class="p">,</span><span class="w">
        </span><span class="s2">"currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"UGX"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"successful"</span><span class="w">
       </span><span class="p">}</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre>

<p>You can search for a specific payment by passing two parameters to the list() method. Both parameters are required.</p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Required</th>
<th>Type</th>
<th>Example</th>
<th>Notes</th>
</tr>
</thead><tbody>
<tr>
<td>phonenumber</td>
<td>Yes</td>
<td>String</td>
<td>+25677271289</td>
<td>The phone number that sent the payment you are searching for</td>
</tr>
<tr>
<td>remote_transaction_id</td>
<td>Yes</td>
<td>String</td>
<td>SS12312</td>
<td>The transaction id that the subscriber received from the telecom company when they made that payment.</td>
</tr>
</tbody></table>

<p><strong>Response</strong></p>

<p>Note that the response will be a list of collections, not a single collection.</p>

<h2 id="claiming-an-ummatched-collection">Claiming an ummatched collection</h2>

<blockquote>
<p>Sample Request:</p>
</blockquote>
<pre><code class="highlight shell">curl https://app.beyonic.com/api/collections?phonenumber<span class="o">=</span>+256772712893&amp;remote_transaction_id<span class="o">=</span>SS12312&amp;claim<span class="o">=</span>True&amp;amount<span class="o">=</span>200 -H <span class="s2">"Authorization: Token ab594c14986612f6167a975e1c369e71edab6900"</span>
</code></pre>
<pre><code class="highlight ruby"><span class="nb">require</span> <span class="s1">'beyonic'</span>
<span class="no">Beyonic</span><span class="p">.</span><span class="nf">api_key</span> <span class="o">=</span> <span class="s1">'ab594c14986612f6167a975e1c369e71edab6900'</span>

<span class="n">collection</span> <span class="o">=</span> <span class="no">Beyonic</span><span class="o">::</span><span class="no">Collection</span><span class="p">.</span><span class="nf">list</span><span class="p">(</span>
  <span class="ss">phonenumber: </span><span class="s2">"+256772712893"</span><span class="p">,</span>
  <span class="ss">remote_transaction_id: </span><span class="s2">"SS12312"</span><span class="p">,</span>
  <span class="ss">claim: </span><span class="kp">true</span><span class="p">,</span>
  <span class="ss">amount: </span><span class="mi">200</span>
<span class="p">)</span>
</code></pre>
<pre><code class="highlight php"><span class="cp">&lt;?php</span>
<span class="k">require_once</span><span class="p">(</span><span class="s1">'./lib/Beyonic.php'</span><span class="p">);</span>
<span class="nx">Beyonic</span><span class="o">::</span><span class="na">setApiKey</span><span class="p">(</span><span class="s2">"ab594c14986612f6167a975e1c369e71edab6900"</span><span class="p">);</span>

<span class="nv">$collection</span> <span class="o">=</span> <span class="nx">Beyonic_Collection</span><span class="o">::</span><span class="na">getAll</span><span class="p">(</span>
  <span class="s2">"phonenumber"</span> <span class="o">=&gt;</span> <span class="s2">"+256772712893"</span><span class="p">,</span>
  <span class="s2">"remote_transaction_id"</span> <span class="o">=&gt;</span> <span class="s2">"SS12312"</span><span class="p">,</span>
  <span class="s2">"claim"</span> <span class="o">=&gt;</span> <span class="s2">"True"</span><span class="p">,</span>
  <span class="s2">"amount"</span> <span class="o">=&gt;</span> <span class="s2">"200"</span><span class="p">,</span>
<span class="p">));</span>
<span class="cp">?&gt;</span>
</code></pre>
<pre><code class="highlight python"><span class="kn">import</span> <span class="nn">beyonic</span>
<span class="n">beyonic</span><span class="o">.</span><span class="n">api_key</span> <span class="o">=</span> <span class="s">'ab594c14986612f6167a975e1c369e71edab6900'</span>

<span class="n">collection</span> <span class="o">=</span> <span class="n">beyonic</span><span class="o">.</span><span class="n">Collection</span><span class="o">.</span><span class="nb">list</span><span class="p">(</span><span class="n">phonenumber</span><span class="o">=</span><span class="s">'+256772712893'</span><span class="p">,</span>
                                     <span class="n">remote_transaction_id</span><span class="o">=</span><span class="s">'SS12312'</span><span class="p">,</span>
                                     <span class="n">claim</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span>
                                     <span class="n">amount</span><span class="o">=</span><span class="s">'200'</span><span class="p">)</span>


</code></pre>

<blockquote>
<p>Sample Response (JSON)</p>
</blockquote>
<pre><code class="highlight json"><span class="p">[</span><span class="w">
       </span><span class="p">{</span><span class="w">
        </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">134</span><span class="p">,</span><span class="w">
        </span><span class="s2">"phonenumber"</span><span class="p">:</span><span class="w"> </span><span class="s2">"+256XXXXXX"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"remote_transaction_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ASDCECASF"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"payment_date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2014-11-22T20:57:04Z"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"reference"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Test Payment"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"amount"</span><span class="p">:</span><span class="w"> </span><span class="mf">3000.000</span><span class="p">,</span><span class="w">
        </span><span class="s2">"currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"UGX"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"successful"</span><span class="w">
       </span><span class="p">}</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre>

<p>By default, when you search for a collection, only collections that have been successfully assigned to your organization are searched. </p>

<p>You can add two more parameters to instruct Beyonic to also search unmatched collections, and if any of the unmatched collections match your input, they will be assigned to your organization. </p>

<p>Note that these parameters are <strong>in addition</strong> to the ones used when searching for a collection. These two additional parameters are included below:</p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Required</th>
<th>Type</th>
<th>Example</th>
<th>Notes</th>
</tr>
</thead><tbody>
<tr>
<td>claim</td>
<td>Yes</td>
<td>Boolean or String</td>
<td>True</td>
<td>Instruct system to search unmatched transctions and claim them for your organization.</td>
</tr>
<tr>
<td>amount</td>
<td>Yes</td>
<td>String, Integer or Decimal</td>
<td>3000</td>
<td>Do not include thousands separators. This must be included if the &ldquo;claim&rdquo; parameter is used. The currency is inferred from the phone number</td>
</tr>
</tbody></table>

<p><strong>Response</strong></p>

<p>Note that the response will be a list of collections, not a single collection.</p>

          <h1 id="collection-requests">Collection Requests</h1>

<p>Collection Requests are a way to notify us that you are expecting a a specific subscriber to send money to you.</p>

<p>Creating a collection request prior to receiving an expected collection greatly improves the user experience for your subscribers by automatically matching transactions to your organization, even if the subscriber misses out some information or gets some of the information wrong, for example if they forget to include a reference code. Payments matching the amount, number and currency in the collection requests will be correctly assigned to you.</p>

<p>Note: Currently, collection requests <strong>do not</strong> initiate any interaction with the subscriber. In the future, they will be used to &ldquo;pull&rdquo; payments from subscribers by sending payment instructions to the subscriber on supported networks.</p>

<p>The collection requests api endpoint is https://app.beyonic.com/api/collectionrequests</p>

<h2 id="creating-a-new-collection-request">Creating a new collection request</h2>

<blockquote>
<p>Sample Request:</p>
</blockquote>
<pre><code class="highlight shell">curl https://app.beyonic.com/api/collectionrequests -H <span class="s2">"Authorization: Token ab594c14986612f6167a975e1c369e71edab6900"</span> <span class="se">\</span>
-d <span class="nv">phonenumber</span><span class="o">=</span>+256772781923 <span class="se">\</span>
-d <span class="nv">currency</span><span class="o">=</span>UGX <span class="se">\</span>
-d <span class="nv">amount</span><span class="o">=</span>3000 <span class="se">\</span>
-d <span class="nv">metadata</span><span class="o">=</span><span class="s2">"{'my_id': '123ASDAsd123'}"</span>
</code></pre>
<pre><code class="highlight ruby"><span class="nb">require</span> <span class="s1">'beyonic'</span>
<span class="no">Beyonic</span><span class="p">.</span><span class="nf">api_key</span> <span class="o">=</span> <span class="s1">'ab594c14986612f6167a975e1c369e71edab6900'</span>

<span class="n">payment</span> <span class="o">=</span> <span class="no">Beyonic</span><span class="o">::</span><span class="no">CollectionRequest</span><span class="p">.</span><span class="nf">create</span><span class="p">(</span>
    <span class="ss">phonenumber: </span><span class="s2">"+256773712831"</span><span class="p">,</span>
    <span class="ss">amount: </span><span class="s2">"100.2"</span><span class="p">,</span>
    <span class="ss">currency: </span><span class="s2">"UGX"</span><span class="p">,</span>
    <span class="ss">metadata: </span><span class="s2">"{'my_id': '123ASDAsd123'}"</span>
<span class="p">)</span>
</code></pre>
<pre><code class="highlight php"><span class="cp">&lt;?php</span>
<span class="k">require_once</span><span class="p">(</span><span class="s1">'./lib/Beyonic.php'</span><span class="p">);</span>
<span class="nx">Beyonic</span><span class="o">::</span><span class="na">setApiKey</span><span class="p">(</span><span class="s2">"ab594c14986612f6167a975e1c369e71edab6900"</span><span class="p">);</span>

<span class="nx">Beyonic_CollectionRequest</span><span class="o">::</span><span class="na">create</span><span class="p">(</span><span class="k">array</span><span class="p">(</span>
  <span class="s2">"phonenumber"</span> <span class="o">=&gt;</span> <span class="s2">"+256773712831"</span><span class="p">,</span>
  <span class="s2">"amount"</span> <span class="o">=&gt;</span> <span class="s2">"100.2"</span><span class="p">,</span>
  <span class="s2">"currency"</span> <span class="o">=&gt;</span> <span class="s2">"UGX"</span><span class="p">,</span>
  <span class="s2">"metadata"</span> <span class="o">=&gt;</span> <span class="s2">"{'my_id': '123ASDAsd123'}"</span>
<span class="p">));</span>
<span class="cp">?&gt;</span>
</code></pre>
<pre><code class="highlight python"><span class="kn">import</span> <span class="nn">beyonic</span>
<span class="n">beyonic</span><span class="o">.</span><span class="n">api_key</span> <span class="o">=</span> <span class="s">'ab594c14986612f6167a975e1c369e71edab6900'</span>

<span class="n">beyonic</span><span class="o">.</span><span class="n">CollectionRequest</span><span class="o">.</span><span class="n">create</span><span class="p">(</span><span class="n">phonenumber</span><span class="o">=</span><span class="s">'+256773712831'</span><span class="p">,</span>
                       <span class="n">amount</span><span class="o">=</span><span class="s">'1200'</span><span class="p">,</span> 
                       <span class="n">currency</span><span class="o">=</span><span class="s">'UGX'</span><span class="p">,</span>
                       <span class="n">description</span><span class="o">=</span><span class="s">'Per diem'</span><span class="p">,</span>
                       <span class="n">callback_url</span><span class="o">=</span><span class="s">'https://my.website/payments/callback'</span><span class="p">,</span>
                       <span class="n">metadata</span><span class="o">=</span><span class="s">"{'my_id': '123ASDAsd123'}"</span>
                       <span class="p">)</span>
</code></pre>

<blockquote>
<p>Sample Response (JSON):</p>
</blockquote>
<pre><code class="highlight json"><span class="p">{</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">3620</span><span class="p">,</span><span class="w"> 
    </span><span class="s2">"organization"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> 
    </span><span class="s2">"amount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"30"</span><span class="p">,</span><span class="w"> 
    </span><span class="s2">"currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"UGX"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"phone_number"</span><span class="p">:</span><span class="w"> </span><span class="s2">"+256772781923"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"created"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2014-11-22T20:57:04.017Z"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"author"</span><span class="p">:</span><span class="w"> </span><span class="mi">15</span><span class="p">,</span><span class="w">
    </span><span class="s2">"modified"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2014-11-22T20:57:04.018Z"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"updated_by"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
</span><span class="err">}</span><span class="w">
</span></code></pre>

<p>To create a new collection, make a POST to the endpoint above, with the attributes below.</p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Required</th>
<th>Type</th>
<th>Example</th>
<th>Notes</th>
</tr>
</thead><tbody>
<tr>
<td>phonenumber</td>
<td>Yes</td>
<td>String</td>
<td>+256773712831</td>
<td>Must be in international format</td>
</tr>
<tr>
<td>amount</td>
<td>Yes</td>
<td>String, Integer or Decimal</td>
<td>3000</td>
<td>Do not include thousands separators</td>
</tr>
<tr>
<td>currency</td>
<td>Yes</td>
<td>String</td>
<td>UGX</td>
<td>3 letter ISO currency code. No currency conversion is done, so the currency must be valid for the selected phonenumber. You must have funded Beyonic an account in this currency. If your account for this currency has zero balance, your payment will fail.</td>
</tr>
<tr>
<td>metadata</td>
<td>No</td>
<td>JSON String</td>
<td>&ldquo;{&lsquo;my_id&rsquo;: &#39;123ASDAsd123&rsquo;}&rdquo;</td>
<td>Custom attributes to store with this object. See the Metadata section for more information.</td>
</tr>
</tbody></table>

<h2 id="retrieving-a-single-collection-request">Retrieving a single collection request</h2>

<blockquote>
<p>Sample Request:</p>
</blockquote>
<pre><code class="highlight shell">curl https://app.beyonic.com/api/collectionrequests/230 -H <span class="s2">"Authorization: Token ab594c14986612f6167a975e1c369e71edab6900"</span>
</code></pre>
<pre><code class="highlight ruby"><span class="nb">require</span> <span class="s1">'beyonic'</span>
<span class="no">Beyonic</span><span class="p">.</span><span class="nf">api_key</span> <span class="o">=</span> <span class="s1">'ab594c14986612f6167a975e1c369e71edab6900'</span>

<span class="n">collection</span> <span class="o">=</span> <span class="no">Beyonic</span><span class="o">::</span><span class="no">CollectionRequest</span><span class="p">.</span><span class="nf">get</span><span class="p">(</span><span class="mi">23</span><span class="p">)</span>
</code></pre>
<pre><code class="highlight php"><span class="cp">&lt;?php</span>
<span class="k">require_once</span><span class="p">(</span><span class="s1">'./lib/Beyonic.php'</span><span class="p">);</span>
<span class="nx">Beyonic</span><span class="o">::</span><span class="na">setApiKey</span><span class="p">(</span><span class="s2">"ab594c14986612f6167a975e1c369e71edab6900"</span><span class="p">);</span>

<span class="nv">$collection</span> <span class="o">=</span> <span class="nx">Beyonic_CollectionRequest</span><span class="o">::</span><span class="na">get</span><span class="p">(</span><span class="mi">23</span><span class="p">);</span>
<span class="cp">?&gt;</span>
</code></pre>
<pre><code class="highlight python"><span class="kn">import</span> <span class="nn">beyonic</span>
<span class="n">beyonic</span><span class="o">.</span><span class="n">api_key</span> <span class="o">=</span> <span class="s">'ab594c14986612f6167a975e1c369e71edab6900'</span>

<span class="n">collection</span> <span class="o">=</span> <span class="n">beyonic</span><span class="o">.</span><span class="n">CollectionTRequest</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="mi">23</span><span class="p">)</span>

</code></pre>

<blockquote>
<p>Sample Response (JSON):</p>
</blockquote>
<pre><code class="highlight json"><span class="p">{</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">230</span><span class="p">,</span><span class="w"> 
    </span><span class="s2">"organization"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> 
    </span><span class="s2">"amount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"30"</span><span class="p">,</span><span class="w"> 
    </span><span class="s2">"currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"UGX"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"phone_number"</span><span class="p">:</span><span class="w"> </span><span class="s2">"+256772781923"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"created"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2014-11-22T20:57:04.017Z"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"author"</span><span class="p">:</span><span class="w"> </span><span class="mi">15</span><span class="p">,</span><span class="w">
    </span><span class="s2">"modified"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2014-11-22T20:57:04.018Z"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"updated_by"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
</span><span class="err">}</span><span class="w">
</span></code></pre>

<p>To retrieve a single collection request, provide the collection request id and a collection request object will be returned.</p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Required</th>
<th>Type</th>
<th>Example</th>
<th>Notes</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>Yes</td>
<td>Integer</td>
<td>23</td>
<td>The id of the collection you want to retrieve</td>
</tr>
</tbody></table>

<h2 id="listing-all-collection-requests">Listing all collection requests</h2>

<blockquote>
<p>Sample Request:</p>
</blockquote>
<pre><code class="highlight shell">curl https://app.beyonic.com/api/collectionrequests -H <span class="s2">"Authorization: Token ab594c14986612f6167a975e1c369e71edab6900"</span>
</code></pre>
<pre><code class="highlight ruby"><span class="nb">require</span> <span class="s1">'beyonic'</span>
<span class="no">Beyonic</span><span class="p">.</span><span class="nf">api_key</span> <span class="o">=</span> <span class="s1">'ab594c14986612f6167a975e1c369e71edab6900'</span>

<span class="n">collection</span> <span class="o">=</span> <span class="no">Beyonic</span><span class="o">::</span><span class="no">CollectionRequest</span><span class="p">.</span><span class="nf">list</span>
</code></pre>
<pre><code class="highlight php"><span class="cp">&lt;?php</span>
<span class="k">require_once</span><span class="p">(</span><span class="s1">'./lib/Beyonic.php'</span><span class="p">);</span>
<span class="nx">Beyonic</span><span class="o">::</span><span class="na">setApiKey</span><span class="p">(</span><span class="s2">"ab594c14986612f6167a975e1c369e71edab6900"</span><span class="p">);</span>

<span class="nv">$collection</span> <span class="o">=</span> <span class="nx">Beyonic_CollectionRequest</span><span class="o">::</span><span class="na">getAll</span><span class="p">();</span>
<span class="cp">?&gt;</span>
</code></pre>
<pre><code class="highlight python"><span class="kn">import</span> <span class="nn">beyonic</span>
<span class="n">beyonic</span><span class="o">.</span><span class="n">api_key</span> <span class="o">=</span> <span class="s">'ab594c14986612f6167a975e1c369e71edab6900'</span>

<span class="n">collection</span> <span class="o">=</span> <span class="n">beyonic</span><span class="o">.</span><span class="n">CollectionRequest</span><span class="o">.</span><span class="nb">list</span><span class="p">()</span>

</code></pre>

<blockquote>
<p>Sample Response (JSON)</p>
</blockquote>
<pre><code class="highlight json"><span class="p">{</span><span class="w">
    </span><span class="s2">"count"</span><span class="p">:</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w">
    </span><span class="s2">"next"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://localhost:8000/api/collectionrequests?offset=10"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"previous"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="s2">"results"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">99</span><span class="p">,</span><span class="w">
            </span><span class="s2">"organization"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Beyonic"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"amount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"3000.0000"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"UGX"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"phonenumber"</span><span class="p">:</span><span class="w"> </span><span class="s2">"+256772781923"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"metadata"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
            </span><span class="s2">"created"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-08-10T16:10:01Z"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"author"</span><span class="p">:</span><span class="w"> </span><span class="mi">42</span><span class="p">,</span><span class="w">
            </span><span class="s2">"modified"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-08-10T16:10:01Z"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"updated_by"</span><span class="p">:</span><span class="w"> </span><span class="mi">42</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">100</span><span class="p">,</span><span class="w">
            </span><span class="s2">"organization"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Beyonic"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"amount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"3000.0000"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"UGX"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"phonenumber"</span><span class="p">:</span><span class="w"> </span><span class="s2">"+256772781923"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"metadata"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
            </span><span class="s2">"created"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-08-10T16:10:01Z"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"author"</span><span class="p">:</span><span class="w"> </span><span class="mi">42</span><span class="p">,</span><span class="w">
            </span><span class="s2">"modified"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-08-10T16:10:01Z"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"updated_by"</span><span class="p">:</span><span class="w"> </span><span class="mi">42</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">101</span><span class="p">,</span><span class="w">
            </span><span class="s2">"organization"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Beyonic"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"amount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"3000.0000"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"UGX"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"phonenumber"</span><span class="p">:</span><span class="w"> </span><span class="s2">"+256772781923"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"metadata"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
            </span><span class="s2">"created"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-08-10T16:10:01Z"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"author"</span><span class="p">:</span><span class="w"> </span><span class="mi">42</span><span class="p">,</span><span class="w">
            </span><span class="s2">"modified"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-08-10T16:10:01Z"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"updated_by"</span><span class="p">:</span><span class="w"> </span><span class="mi">42</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>To retrieve a list of all collections, make a GET request to the collections endpoint. This will return a list of collection objects.</p>

          <h1 id="webhooks">Webhooks</h1>

<p>Webhooks or callback URLs allow you to define URLs on your server that notifications should be sent to. Notifications are sent for specific events, as defined in the “Supported Event” section below.</p>

<p>You can be managed in two ways:</p>

<ul>
<li>By logging into your account via the web browser</li>
<li>By using the Webhooks API</li>
</ul>

<p><em>Required permisions</em></p>

<p>To manage webhooks, either with the API or the web browser, you must have “Manage Users and Organization Settings” permissions for your organization</p>

<p><em>Supported events</em></p>

<p>The following events are supported:</p>

<ul>
<li>payment.status.changed – Receive notification whenever the status of any payments in your organization changes. See the Payments API for more information.</li>
<li>collection.received - Receive notifications whenever you receive a collection (an incoming payment) from a customer)</li>
</ul>

<p><em>Managing Webhooks from the web browser</em></p>

<p>To manage webhooks using the web browser:
1. Log into your account.
2. Go to your organizations profile page. You can access this either from the organizations menu, or by clicking your organization name at the top left of the page.
3. Click the Settings button (Cog wheel with an arrow pointing down)
4. Click “Manage Webhooks” from the drop down menu that appears</p>

<p><em>Managing Webhooks from the API</em></p>

<p>You can use the Webhooks API described below to update or delete your callback URLs programatically.</p>

<p>The webhooks api endpoint is https://app.beyonic.com/api/webhooks</p>

<h2 id="creating-a-new-webhook">Creating a new webhook</h2>

<blockquote>
<p>Sample Request:</p>
</blockquote>
<pre><code class="highlight shell">curl http://app.beyonic.com/api/webhooks -H <span class="s2">"Authorization: Token ab594c14986612f6167a975e1c369e71edab6900"</span> <span class="se">\</span>
-d <span class="s2">"payment.status.changed"</span> <span class="se">\</span>
-d <span class="nv">target</span><span class="o">=</span><span class="s2">"https://my.callback.url/"</span>
</code></pre>
<pre><code class="highlight ruby"><span class="nb">require</span> <span class="s1">'beyonic'</span>
<span class="no">Beyonic</span><span class="p">.</span><span class="nf">api_key</span> <span class="o">=</span> <span class="s1">'ab594c14986612f6167a975e1c369e71edab6900'</span>

<span class="n">hook</span> <span class="o">=</span> <span class="no">Beyonic</span><span class="o">::</span><span class="no">Webhook</span><span class="p">.</span><span class="nf">create</span><span class="p">(</span>
    <span class="ss">event: </span><span class="s2">"payment.status.changed"</span><span class="p">,</span>
    <span class="ss">target: </span><span class="s2">"https://my.callback.url/"</span>
<span class="p">)</span>
</code></pre>
<pre><code class="highlight php"><span class="cp">&lt;?php</span>
<span class="k">require_once</span><span class="p">(</span><span class="s1">'./lib/Beyonic.php'</span><span class="p">);</span>
<span class="nx">Beyonic</span><span class="o">::</span><span class="na">setApiKey</span><span class="p">(</span><span class="s2">"ab594c14986612f6167a975e1c369e71edab6900"</span><span class="p">);</span>

<span class="nx">Beyonic_Webhook</span><span class="o">::</span><span class="na">create</span><span class="p">(</span><span class="k">array</span><span class="p">(</span>
  <span class="s2">"event"</span> <span class="o">=&gt;</span> <span class="s2">"payment.status.changed"</span><span class="p">,</span>
  <span class="s2">"target"</span> <span class="o">=&gt;</span> <span class="s2">"https://my.callback.url/"</span>
<span class="p">));</span>
<span class="cp">?&gt;</span>
</code></pre>
<pre><code class="highlight python"><span class="kn">import</span> <span class="nn">beyonic</span>
<span class="n">beyonic</span><span class="o">.</span><span class="n">api_key</span> <span class="o">=</span> <span class="s">'ab594c14986612f6167a975e1c369e71edab6900'</span>

<span class="n">hook</span> <span class="o">=</span> <span class="n">beyonic</span><span class="o">.</span><span class="n">Webhook</span><span class="o">.</span><span class="n">create</span><span class="p">(</span><span class="n">event</span><span class="o">=</span><span class="s">'payment.status.changed'</span><span class="p">,</span>
                              <span class="n">target</span><span class="o">=</span><span class="s">'https://my.callback.url/'</span>
                              <span class="p">)</span>

</code></pre>

<blockquote>
<p>Sample Response (JSON)</p>
</blockquote>
<pre><code class="highlight json"><span class="p">{</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">53</span><span class="p">,</span><span class="w">
    </span><span class="s2">"created"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-08-01T16:56:29Z"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"updated"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-08-01T16:56:29Z"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"event"</span><span class="p">:</span><span class="w"> </span><span class="s2">"payment.status.changed"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"target"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://my.callback.url/"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"user"</span><span class="p">:</span><span class="w"> </span><span class="mi">42</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>To create a new webhook, make a POST to the endpoint above, with the attributes below.</p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Required</th>
<th>Type</th>
<th>Example</th>
<th>Notes</th>
</tr>
</thead><tbody>
<tr>
<td>event</td>
<td>Yes</td>
<td>String</td>
<td>&lsquo;payment.status.changed&rsquo;</td>
<td>Must be a supported event</td>
</tr>
<tr>
<td>target</td>
<td>Yes</td>
<td>String</td>
<td>&#39;https://my.callback.url/&ldquo;&rsquo;</td>
<td>Must be an https URL</td>
</tr>
</tbody></table>

<p><strong>Responses</strong></p>

<ul>
<li>If successful, a JSON representation of the new webhook object will be returned.</li>
</ul>

<h2 id="retrieving-a-single-webhook">Retrieving a single webhook</h2>

<blockquote>
<p>Sample Request:</p>
</blockquote>
<pre><code class="highlight shell">curl https://app.beyonic.com/api/webhooks/23 -H <span class="s2">"Authorization: Token ab594c14986612f6167a975e1c369e71edab6900"</span>
</code></pre>
<pre><code class="highlight ruby"><span class="nb">require</span> <span class="s1">'beyonic'</span>
<span class="no">Beyonic</span><span class="p">.</span><span class="nf">api_key</span> <span class="o">=</span> <span class="s1">'ab594c14986612f6167a975e1c369e71edab6900'</span>

<span class="n">hook</span> <span class="o">=</span> <span class="no">Beyonic</span><span class="o">::</span><span class="no">Webhook</span><span class="p">.</span><span class="nf">get</span><span class="p">(</span><span class="mi">23</span><span class="p">)</span>
</code></pre>
<pre><code class="highlight php"><span class="cp">&lt;?php</span>
<span class="k">require_once</span><span class="p">(</span><span class="s1">'./lib/Beyonic.php'</span><span class="p">);</span>
<span class="nx">Beyonic</span><span class="o">::</span><span class="na">setApiKey</span><span class="p">(</span><span class="s2">"ab594c14986612f6167a975e1c369e71edab6900"</span><span class="p">);</span>

<span class="nv">$hook</span> <span class="o">=</span> <span class="nx">Beyonic_Webhook</span><span class="o">::</span><span class="na">get</span><span class="p">(</span><span class="mi">23</span><span class="p">);</span>
<span class="cp">?&gt;</span>
</code></pre>
<pre><code class="highlight python"><span class="kn">import</span> <span class="nn">beyonic</span>
<span class="n">beyonic</span><span class="o">.</span><span class="n">api_key</span> <span class="o">=</span> <span class="s">'ab594c14986612f6167a975e1c369e71edab6900'</span>

<span class="n">hook</span> <span class="o">=</span> <span class="n">beyonic</span><span class="o">.</span><span class="n">Webhook</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="mi">23</span><span class="p">)</span>

</code></pre>

<blockquote>
<p>Sample Response (JSON)</p>
</blockquote>
<pre><code class="highlight json"><span class="p">{</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">23</span><span class="p">,</span><span class="w">
    </span><span class="s2">"created"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-08-01T16:56:29Z"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"updated"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-08-01T16:56:29Z"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"event"</span><span class="p">:</span><span class="w"> </span><span class="s2">"payment.status.changed"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"target"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://my.callback.url/"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"user"</span><span class="p">:</span><span class="w"> </span><span class="mi">42</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>To retrieve a single webhook object, provide the webhook id and a webhook object will be returned.</p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Required</th>
<th>Type</th>
<th>Example</th>
<th>Notes</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>Yes</td>
<td>Integer</td>
<td>23</td>
<td>The id of the webhook you want to retrieve</td>
</tr>
</tbody></table>

<h2 id="listing-all-webhooks">Listing all webhooks</h2>

<blockquote>
<p>Sample Request:</p>
</blockquote>
<pre><code class="highlight shell">curl https://app.beyonic.com/api/webhooks -H <span class="s2">"Authorization: Token ab594c14986612f6167a975e1c369e71edab6900"</span>
</code></pre>
<pre><code class="highlight ruby"><span class="nb">require</span> <span class="s1">'beyonic'</span>
<span class="no">Beyonic</span><span class="p">.</span><span class="nf">api_key</span> <span class="o">=</span> <span class="s1">'ab594c14986612f6167a975e1c369e71edab6900'</span>

<span class="n">hooks</span> <span class="o">=</span> <span class="no">Beyonic</span><span class="o">::</span><span class="no">Webhook</span><span class="p">.</span><span class="nf">list</span>
</code></pre>
<pre><code class="highlight php"><span class="cp">&lt;?php</span>
<span class="k">require_once</span><span class="p">(</span><span class="s1">'./lib/Beyonic.php'</span><span class="p">);</span>
<span class="nx">Beyonic</span><span class="o">::</span><span class="na">setApiKey</span><span class="p">(</span><span class="s2">"ab594c14986612f6167a975e1c369e71edab6900"</span><span class="p">);</span>

<span class="nv">$hooks</span> <span class="o">=</span> <span class="nx">Beyonic_Webhook</span><span class="o">::</span><span class="na">getAll</span><span class="p">();</span>
<span class="cp">?&gt;</span>
</code></pre>
<pre><code class="highlight python"><span class="kn">import</span> <span class="nn">beyonic</span>
<span class="n">beyonic</span><span class="o">.</span><span class="n">api_key</span> <span class="o">=</span> <span class="s">'ab594c14986612f6167a975e1c369e71edab6900'</span>

<span class="n">hooks</span> <span class="o">=</span> <span class="n">beyonic</span><span class="o">.</span><span class="n">Webhook</span><span class="o">.</span><span class="nb">list</span><span class="p">()</span>

</code></pre>

<blockquote>
<p>Sample Response (JSON)</p>
</blockquote>
<pre><code class="highlight json"><span class="p">{</span><span class="w">
    </span><span class="s2">"count"</span><span class="p">:</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span><span class="w">
    </span><span class="s2">"next"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://localhost:8000/api/webhooks?offset=10"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"previous"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="s2">"results"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">50</span><span class="p">,</span><span class="w">
            </span><span class="s2">"created"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-08-01T16:43:43Z"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"updated"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-08-01T17:05:38Z"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"event"</span><span class="p">:</span><span class="w"> </span><span class="s2">"payment.status.changed"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"target"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://mysite.com/callbacks/payment/saved/1"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"user"</span><span class="p">:</span><span class="w"> </span><span class="mi">42</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">52</span><span class="p">,</span><span class="w">
            </span><span class="s2">"created"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-08-01T16:43:43Z"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"updated"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-08-01T17:05:38Z"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"event"</span><span class="p">:</span><span class="w"> </span><span class="s2">"payment.status.changed"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"target"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://mysite.com/callbacks/payment/saved"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"user"</span><span class="p">:</span><span class="w"> </span><span class="mi">42</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">53</span><span class="p">,</span><span class="w">
            </span><span class="s2">"created"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-08-01T16:56:29Z"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"updated"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-08-01T16:56:29Z"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"event"</span><span class="p">:</span><span class="w"> </span><span class="s2">"payment.status.changed"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"target"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://my.callback.url/"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"user"</span><span class="p">:</span><span class="w"> </span><span class="mi">42</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">55</span><span class="p">,</span><span class="w">
            </span><span class="s2">"created"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-08-01T16:56:29Z"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"updated"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-08-01T16:56:29Z"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"event"</span><span class="p">:</span><span class="w"> </span><span class="s2">"payment.status.changed"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"target"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://google.com"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"user"</span><span class="p">:</span><span class="w"> </span><span class="mi">42</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>To retrieve a list of all webhooks, make a GET request to the webhooks endpoint. This will return a list of webhooks objects.</p>

<h2 id="updating-a-webhook">Updating a webhook</h2>

<blockquote>
<p>Sample Request:</p>
</blockquote>
<pre><code class="highlight shell">ccurl http://app.beyonic.com/api/webhooks/1 -H <span class="s2">"Authorization: Token ab594c14986612f6167a975e1c369e71edab6900"</span> <span class="se">\</span>
-d <span class="nv">event</span><span class="o">=</span><span class="s2">"payment.status.changed"</span> <span class="se">\</span>
-d <span class="nv">target</span><span class="o">=</span><span class="s2">"https://my.callback.url/"</span> <span class="se">\</span>
-X PUT
</code></pre>
<pre><code class="highlight ruby"><span class="nb">require</span> <span class="s1">'beyonic'</span>
<span class="no">Beyonic</span><span class="p">.</span><span class="nf">api_key</span> <span class="o">=</span> <span class="s1">'ab594c14986612f6167a975e1c369e71edab6900'</span>

<span class="n">hook</span> <span class="o">=</span> <span class="no">Beyonic</span><span class="o">::</span><span class="no">Webhook</span><span class="p">.</span><span class="nf">get</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<span class="n">hook</span><span class="p">.</span><span class="nf">target</span> <span class="o">=</span> <span class="s1">'https://my.callback.url/'</span>
<span class="n">hook</span><span class="p">.</span><span class="nf">save</span><span class="p">()</span>
</code></pre>
<pre><code class="highlight php"><span class="cp">&lt;?php</span>
<span class="k">require_once</span><span class="p">(</span><span class="s1">'./lib/Beyonic.php'</span><span class="p">);</span>
<span class="nx">Beyonic</span><span class="o">::</span><span class="na">setApiKey</span><span class="p">(</span><span class="s2">"ab594c14986612f6167a975e1c369e71edab6900"</span><span class="p">);</span>

<span class="nv">$hook</span> <span class="o">=</span> <span class="nx">Beyonic_Webhook</span><span class="o">::</span><span class="na">get</span><span class="p">(</span><span class="mi">1</span><span class="p">);</span>
<span class="nv">$hook</span><span class="o">-&gt;</span><span class="na">target</span> <span class="o">=</span> <span class="s1">'https://my.callback.url/'</span><span class="p">;</span>
<span class="nv">$hook</span><span class="o">-&gt;</span><span class="na">save</span><span class="p">();</span>
<span class="cp">?&gt;</span>
</code></pre>
<pre><code class="highlight python"><span class="kn">import</span> <span class="nn">beyonic</span>
<span class="n">beyonic</span><span class="o">.</span><span class="n">api_key</span> <span class="o">=</span> <span class="s">'ab594c14986612f6167a975e1c369e71edab6900'</span>

<span class="n">hook</span> <span class="o">=</span> <span class="n">beyonic</span><span class="o">.</span><span class="n">Webhook</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<span class="n">hook</span><span class="o">.</span><span class="n">target</span> <span class="o">=</span> <span class="s">'https://my.callback.url/'</span>
<span class="n">hook</span><span class="o">.</span><span class="n">save</span><span class="p">()</span>

</code></pre>

<blockquote>
<p>Sample Response (JSON)</p>
</blockquote>
<pre><code class="highlight json"><span class="p">{</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="s2">"created"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-08-01T16:56:29Z"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"updated"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-08-01T16:56:29Z"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"event"</span><span class="p">:</span><span class="w"> </span><span class="s2">"payment.status.changed"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"target"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://my.callback.url/"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"user"</span><span class="p">:</span><span class="w"> </span><span class="mi">42</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>To update a webhook, make a PUT request to the specific webhook’s endpoint, identified by its Id.</p>

<h2 id="deleting-a-webhook">Deleting a webhook</h2>

<blockquote>
<p>Sample Request:</p>
</blockquote>
<pre><code class="highlight shell">curl http://app.beyonic.com/api/webhooks/1 -H <span class="s2">"Authorization: Token ab594c14986612f6167a975e1c369e71edab6900"</span> -X DELETE
</code></pre>
<pre><code class="highlight ruby"><span class="nb">require</span> <span class="s1">'beyonic'</span>
<span class="no">Beyonic</span><span class="p">.</span><span class="nf">api_key</span> <span class="o">=</span> <span class="s1">'ab594c14986612f6167a975e1c369e71edab6900'</span>

<span class="no">Beyonic</span><span class="o">::</span><span class="no">Webhook</span><span class="p">.</span><span class="nf">delete</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
</code></pre>
<pre><code class="highlight php"><span class="cp">&lt;?php</span>
<span class="k">require_once</span><span class="p">(</span><span class="s1">'./lib/Beyonic.php'</span><span class="p">);</span>
<span class="nx">Beyonic</span><span class="o">::</span><span class="na">setApiKey</span><span class="p">(</span><span class="s2">"ab594c14986612f6167a975e1c369e71edab6900"</span><span class="p">);</span>

<span class="nx">Beyonic_Webhook</span><span class="o">::</span><span class="na">delete</span><span class="p">(</span> <span class="mi">11</span> <span class="p">);</span>
<span class="cp">?&gt;</span>
</code></pre>
<pre><code class="highlight python"><span class="kn">import</span> <span class="nn">beyonic</span>
<span class="n">beyonic</span><span class="o">.</span><span class="n">api_key</span> <span class="o">=</span> <span class="s">'ab594c14986612f6167a975e1c369e71edab6900'</span>

<span class="n">beyonic</span><span class="o">.</span><span class="n">Webhook</span><span class="o">.</span><span class="n">delete</span><span class="p">(</span><span class="mi">11</span><span class="p">)</span>

</code></pre>

<p>To delete a webhook, make a DELETE request to the specific webhook’s endpoint, identified by its Id.</p>

      </div>
      <div class="dark-box">
          <div class="lang-selector">
                <a href="#" data-language-name="shell">CURL</a>
                <a href="#" data-language-name="php">PHP</a>
                <a href="#" data-language-name="ruby">RUBY</a>
                <a href="#" data-language-name="python">PYTHON</a>
          </div>
      </div>
    </div>
    <!-- begin olark code -->
	<script data-cfasync="false" type='text/javascript'>/*<![CDATA[*/window.olark||(function(c){var f=window,d=document,l=f.location.protocol=="https:"?"https:":"http:",z=c.name,r="load";var nt=function(){
	f[z]=function(){
	(a.s=a.s||[]).push(arguments)};var a=f[z]._={
	},q=c.methods.length;while(q--){(function(n){f[z][n]=function(){
	f[z]("call",n,arguments)}})(c.methods[q])}a.l=c.loader;a.i=nt;a.p={
	0:+new Date};a.P=function(u){
	a.p[u]=new Date-a.p[0]};function s(){
	a.P(r);f[z](r)}f.addEventListener?f.addEventListener(r,s,false):f.attachEvent("on"+r,s);var ld=function(){function p(hd){
	hd="head";return["<",hd,"></",hd,"><",i,' onl' + 'oad="var d=',g,";d.getElementsByTagName('head')[0].",j,"(d.",h,"('script')).",k,"='",l,"//",a.l,"'",'"',"></",i,">"].join("")}var i="body",m=d[i];if(!m){
	return setTimeout(ld,100)}a.P(1);var j="appendChild",h="createElement",k="src",n=d[h]("div"),v=n[j](d[h](z)),b=d[h]("iframe"),g="document",e="domain",o;n.style.display="none";m.insertBefore(n,m.firstChild).id=z;b.frameBorder="0";b.id=z+"-loader";if(/MSIE[ ]+6/.test(navigator.userAgent)){
	b.src="javascript:false"}b.allowTransparency="true";v[j](b);try{
	b.contentWindow[g].open()}catch(w){
	c[e]=d[e];o="javascript:var d="+g+".open();d.domain='"+d.domain+"';";b[k]=o+"void(0);"}try{
	var t=b.contentWindow[g];t.write(p());t.close()}catch(x){
	b[k]=o+'d.write("'+p().replace(/"/g,String.fromCharCode(92)+'"')+'");d.close();'}a.P(2)};ld()};nt()})({
	loader: "static.olark.com/jsclient/loader0.js",name:"olark",methods:["configure","extend","declare","identify"]});
	/* custom configuration goes here (www.olark.com/documentation) */
	olark.identify('3232-384-10-7564');/*]]>*/</script><noscript><a href="https://www.olark.com/site/3232-384-10-7564/contact" title="Contact us" target="_blank">Questions? Feedback?</a> powered by <a href="http://www.olark.com?welcome" title="Olark live chat software">Olark live chat software</a></noscript>
	<!-- end olark code -->
  </body>
</html>
